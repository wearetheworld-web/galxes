(window.webpackJsonp=window.webpackJsonp||[]).push([[1215],{1031:function(e,t,r){(t=e.exports=r(1032)).Stream=t,t.Readable=t,t.Writable=r(1036),t.Duplex=r(396),t.Transform=r(1037),t.PassThrough=r(1586),t.finished=r(763),t.pipeline=r(1587)},1032:function(e,t,r){"use strict";(function(t,n){var o;e.exports=D,D.ReadableState=L;r(83).EventEmitter;var l=function(e,t){return e.listeners(t).length},c=r(1033),f=r(20).Buffer,d=t.Uint8Array||function(){};var h,_=r(1581);h=_&&_.debuglog?_.debuglog("stream"):function(){};var y,v,w,m=r(1582),S=r(1034),E=r(1035).getHighWaterMark,R=r(395).codes,k=R.ERR_INVALID_ARG_TYPE,O=R.ERR_STREAM_PUSH_AFTER_EOF,T=R.ERR_METHOD_NOT_IMPLEMENTED,P=R.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(56)(D,c);var x=S.errorOrDestroy,A=["error","close","destroy","pause","resume"];function L(e,t,n){o=o||r(396),e=e||{},"boolean"!=typeof n&&(n=t instanceof o),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=E(this,e,"readableHighWaterMark",n),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(y||(y=r(272).StringDecoder),this.decoder=new y(e.encoding),this.encoding=e.encoding)}function D(e){if(o=o||r(396),!(this instanceof D))return new D(e);var t=this instanceof o;this._readableState=new L(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function C(e,t,r,n,o){h("readableAddChunk",t);var l,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(h("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?N(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,B(e)))}(e,c);else if(o||(l=function(e,t){var r;n=t,f.isBuffer(n)||n instanceof d||"string"==typeof t||void 0===t||e.objectMode||(r=new k("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(c,t)),l)x(e,l);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===f.prototype||(t=function(e){return f.from(e)}(t)),n)c.endEmitted?x(e,new P):M(e,c,t,!0);else if(c.ended)x(e,new O);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?M(e,c,t,!1):U(e,c)):M(e,c,t,!1)}else n||(c.reading=!1,U(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function M(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&N(e)),U(e,t)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),D.prototype.destroy=S.destroy,D.prototype._undestroy=S.undestroy,D.prototype._destroy=function(e,t){t(e)},D.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=f.from(e,t),t=""),r=!0),C(this,e,t,!1,r)},D.prototype.unshift=function(e){return C(this,e,null,!0,!1)},D.prototype.isPaused=function(){return!1===this._readableState.flowing},D.prototype.setEncoding=function(e){y||(y=r(272).StringDecoder);var t=new y(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var p=this._readableState.buffer.head,content="";null!==p;)content+=t.write(p.data),p=p.next;return this._readableState.buffer.clear(),""!==content&&this._readableState.buffer.push(content),this._readableState.length=content.length,this};var j=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=j?e=j:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function N(e){var t=e._readableState;h("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(B,e))}function B(e){var t=e._readableState;h("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,V(e)}function U(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(z,e,t))}function z(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(h("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function W(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function H(e){h("readable nexttick read 0"),e.read(0)}function F(e,t){h("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),V(e),t.flowing&&!t.reading&&e.read(0)}function V(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function K(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function Y(e){var t=e._readableState;h("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(G,t,e))}function G(e,t){if(h("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function Z(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}D.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Y(this):N(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&Y(this),null;var n,o=t.needReadable;return h("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",o=!0),t.ended||t.reading?h("reading or ended",o=!1):o&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(n=e>0?K(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Y(this)),null!==n&&this.emit("data",n),n},D.prototype._read=function(e){x(this,new T("_read()"))},D.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var c=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?d:E;function f(t,n){h("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h("cleanup"),e.removeListener("close",m),e.removeListener("finish",S),e.removeListener("drain",_),e.removeListener("error",w),e.removeListener("unpipe",f),r.removeListener("end",d),r.removeListener("end",E),r.removeListener("data",v),y=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||_())}function d(){h("onend"),e.end()}o.endEmitted?n.nextTick(c):r.once("end",c),e.on("unpipe",f);var _=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&l(e,"data")&&(t.flowing=!0,V(e))}}(r);e.on("drain",_);var y=!1;function v(t){h("ondata");var n=e.write(t);h("dest.write",n),!1===n&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==Z(o.pipes,e))&&!y&&(h("false write response, pause",o.awaitDrain),o.awaitDrain++),r.pause())}function w(t){h("onerror",t),E(),e.removeListener("error",w),0===l(e,"error")&&x(e,t)}function m(){e.removeListener("finish",S),E()}function S(){h("onfinish"),e.removeListener("close",m),E()}function E(){h("unpipe"),r.unpipe(e)}return r.on("data",v),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",w),e.once("close",m),e.once("finish",S),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},D.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var l=Z(t.pipes,e);return-1===l||(t.pipes.splice(l,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},D.prototype.on=function(e,t){var r=c.prototype.on.call(this,e,t),o=this._readableState;return"data"===e?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===e&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,h("on readable",o.length,o.reading),o.length?N(this):o.reading||n.nextTick(H,this))),r},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(e,t){var r=c.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(W,this),r},D.prototype.removeAllListeners=function(e){var t=c.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(W,this),t},D.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(F,e,t))}(this,e)),e.paused=!1,this},D.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},D.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(h("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o)||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<A.length;o++)e.on(A[o],this.emit.bind(this,A[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(D.prototype[Symbol.asyncIterator]=function(){return void 0===v&&(v=r(1584)),v(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),D._fromList=K,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(D.from=function(e,t){return void 0===w&&(w=r(1585)),w(D,e,t)})}).call(this,r(31),r(74))},1033:function(e,t,r){e.exports=r(83).EventEmitter},1034:function(e,t,r){"use strict";(function(t){function r(e,t){o(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,l){var c=this,f=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return f||d?(l?l(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(o,this,e)):t.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!l&&e?c._writableState?c._writableState.errorEmitted?t.nextTick(n,c):(c._writableState.errorEmitted=!0,t.nextTick(r,c,e)):t.nextTick(r,c,e):l?(t.nextTick(n,c),l(e)):t.nextTick(n,c)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,r(74))},1035:function(e,t,r){"use strict";var n=r(395).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,o){var l=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,o,r);if(null!=l){if(!isFinite(l)||Math.floor(l)!==l||l<0)throw new n(o?r:"highWaterMark",l);return Math.floor(l)}return e.objectMode?16:16384}}},1036:function(e,t,r){"use strict";(function(t,n){function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var l;e.exports=D,D.WritableState=L;var c={deprecate:r(597)},f=r(1033),d=r(20).Buffer,h=t.Uint8Array||function(){};var _,y=r(1034),v=r(1035).getHighWaterMark,w=r(395).codes,m=w.ERR_INVALID_ARG_TYPE,S=w.ERR_METHOD_NOT_IMPLEMENTED,E=w.ERR_MULTIPLE_CALLBACK,R=w.ERR_STREAM_CANNOT_PIPE,k=w.ERR_STREAM_DESTROYED,O=w.ERR_STREAM_NULL_VALUES,T=w.ERR_STREAM_WRITE_AFTER_END,P=w.ERR_UNKNOWN_ENCODING,x=y.errorOrDestroy;function A(){}function L(e,t,c){l=l||r(396),e=e||{},"boolean"!=typeof c&&(c=t instanceof l),this.objectMode=!!e.objectMode,c&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=v(this,e,"writableHighWaterMark",c),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,o=r.sync,l=r.writecb;if("function"!=typeof l)throw new E;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,o,l){--t.pendingcb,r?(n.nextTick(l,o),n.nextTick(B,e,t),e._writableState.errorEmitted=!0,x(e,o)):(l(o),e._writableState.errorEmitted=!0,x(e,o),B(e,t))}(e,r,o,t,l);else{var c=I(r)||e.destroyed;c||r.corked||r.bufferProcessing||!r.bufferedRequest||j(e,r),o?n.nextTick(M,e,r,c,l):M(e,r,c,l)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function D(e){var t=this instanceof(l=l||r(396));if(!t&&!_.call(D,this))return new D(e);this._writableState=new L(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function C(e,t,r,n,o,l,c){t.writelen=n,t.writecb=c,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new k("write")):r?e._writev(o,t.onwrite):e._write(o,l,t.onwrite),t.sync=!1}function M(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),B(e,t)}function j(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,l=new Array(n),c=t.corkedRequestsFree;c.entry=r;for(var f=0,d=!0;r;)l[f]=r,r.isBuf||(d=!1),r=r.next,f+=1;l.allBuffers=d,C(e,t,!0,t.length,l,"",c.finish),t.pendingcb++,t.lastBufferedRequest=null,c.next?(t.corkedRequestsFree=c.next,c.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var h=r.chunk,_=r.encoding,y=r.callback;if(C(e,t,!1,t.objectMode?1:h.length,h,_,y),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function N(e,t){e._final((function(r){t.pendingcb--,r&&x(e,r),t.prefinished=!0,e.emit("prefinish"),B(e,t)}))}function B(e,t){var r=I(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(N,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var o=e._readableState;(!o||o.autoDestroy&&o.endEmitted)&&e.destroy()}return r}r(56)(D,f),L.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(L.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(object){return!!_.call(this,object)||this===D&&(object&&object._writableState instanceof L)}})):_=function(object){return object instanceof this},D.prototype.pipe=function(){x(this,new R)},D.prototype.write=function(e,t,r){var o,l=this._writableState,c=!1,f=!l.objectMode&&(o=e,d.isBuffer(o)||o instanceof h);return f&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),f?t="buffer":t||(t=l.defaultEncoding),"function"!=typeof r&&(r=A),l.ending?function(e,t){var r=new T;x(e,r),n.nextTick(t,r)}(this,r):(f||function(e,t,r,o){var l;return null===r?l=new O:"string"==typeof r||t.objectMode||(l=new m("chunk",["string","Buffer"],r)),!l||(x(e,l),n.nextTick(o,l),!1)}(this,l,e,r))&&(l.pendingcb++,c=function(e,t,r,n,o,l){if(!r){var c=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r));return t}(t,n,o);n!==c&&(r=!0,o="buffer",n=c)}var f=t.objectMode?1:n.length;t.length+=f;var h=t.length<t.highWaterMark;h||(t.needDrain=!0);if(t.writing||t.corked){var _=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:l,next:null},_?_.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else C(e,t,!1,f,n,o,l);return h}(this,l,f,e,t,r)),c},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||j(this,e))},D.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new P(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(D.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),D.prototype._write=function(e,t,r){r(new S("_write()"))},D.prototype._writev=null,D.prototype.end=function(e,t,r){var o=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||function(e,t,r){t.ending=!0,B(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,o,r),this},Object.defineProperty(D.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),D.prototype.destroy=y.destroy,D.prototype._undestroy=y.undestroy,D.prototype._destroy=function(e,t){t(e)}}).call(this,r(31),r(74))},1037:function(e,t,r){"use strict";e.exports=_;var n=r(395).codes,o=n.ERR_METHOD_NOT_IMPLEMENTED,l=n.ERR_MULTIPLE_CALLBACK,c=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,f=n.ERR_TRANSFORM_WITH_LENGTH_0,d=r(396);function h(e,data){var t=this._transformState;t.transforming=!1;var r=t.writecb;if(null===r)return this.emit("error",new l);t.writechunk=null,t.writecb=null,null!=data&&this.push(data),r(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function _(e){if(!(this instanceof _))return new _(e);d.call(this,e),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",y)}function y(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?v(this,null,null):this._flush((function(t,data){v(e,t,data)}))}function v(e,t,data){if(t)return e.emit("error",t);if(null!=data&&e.push(data),e._writableState.length)throw new f;if(e._transformState.transforming)throw new c;return e.push(null)}r(56)(_,d),_.prototype.push=function(e,t){return this._transformState.needTransform=!1,d.prototype.push.call(this,e,t)},_.prototype._transform=function(e,t,r){r(new o("_transform()"))},_.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},_.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},_.prototype._destroy=function(e,t){d.prototype._destroy.call(this,e,(function(e){t(e)}))}},1167:function(e,t,r){"use strict";(function(e){var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.serializePathv1=function(path){if(null==path||path.length<3)throw new Error("Invalid path.");if(path.length>10)throw new Error("Invalid path. Length should be <= 10");var t=e.alloc(1+4*path.length);t.writeUInt8(path.length,0);for(var i=0;i<path.length;i+=1){var r=path[i];i<3&&(r|=2147483648),t.writeInt32LE(r,1+4*i)}return t},t.signSendChunkv1=function(e,t,r,n){return f.apply(this,arguments)},t.publicKeyv1=function(e,t){return h.apply(this,arguments)};var o=n(r(397)),l=n(r(398)),c=r(813);function f(){return(f=(0,l.default)(o.default.mark((function e(t,r,n,l){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.transport.send(c.CLA,c.INS.SIGN_SECP256K1,r,n,l,[c.ERROR_CODE.NoError,27012,27264]).then((function(e){var t=e.slice(-2),r=256*t[0]+t[1],n=(0,c.errorCodeToString)(r);27264!==r&&27012!==r||(n="".concat(n," : ").concat(e.slice(0,e.length-2).toString("ascii")));var o=null;return e.length>2&&(o=e.slice(0,e.length-2)),{signature:o,return_code:r,error_message:n}}),c.processErrorResponse));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(t){if(65!==t.length)throw new Error("decompressed public key length should be 65 bytes");var r=t.slice(33,65),n=e.from([2+(1&r[r.length-1])]);return e.concat([n,t.slice(1,33)])}function h(){return(h=(0,l.default)(o.default.mark((function t(r,data){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.transport.send(c.CLA,c.INS.INS_PUBLIC_KEY_SECP256K1,0,0,data,[c.ERROR_CODE.NoError]).then((function(t){var r=t.slice(-2),n=256*r[0]+r[1],o=e.from(t.slice(0,65));return{pk:o,compressed_pk:d(o),return_code:n,error_message:(0,c.errorCodeToString)(n)}}),c.processErrorResponse));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}).call(this,r(20).Buffer)},1380:function(e,t,r){e.exports=r(1579)(r(1589))},1579:function(e,t,r){const n=r(1580),o=r(1588);e.exports=function(e){const t=n(e),r=o(e);return function(e,n){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}},1580:function(e,t,r){(function(t){const{Transform:n}=r(1031);e.exports=e=>class r extends n{constructor(t,r,n,o,l){super(l),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=o,this._options=l,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(e){n=e}r(n)}_flush(e){let t=null;try{this.push(this.digest())}catch(e){t=e}e(t)}update(data,e){if(!t.isBuffer(data)&&"string"!=typeof data)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return t.isBuffer(data)||(data=t.from(data,e)),this._state.absorb(data),this}digest(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new r(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}}).call(this,r(20).Buffer)},1582:function(e,t,r){"use strict";function n(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=r(20).Buffer,f=r(1583).inspect,d=f&&f.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,h;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(s){if(0===this.length)return"";for(var p=this.head,e=""+p.data;p=p.next;)e+=s+p.data;return e}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,r,n,o=c.allocUnsafe(e>>>0),p=this.head,i=0;p;)t=p.data,r=o,n=i,c.prototype.copy.call(t,r,n),i+=p.data.length,p=p.next;return o}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var p=this.head,t=1,r=p.data;for(e-=r.length;p=p.next;){var n=p.data,o=e>n.length?n.length:e;if(o===n.length?r+=n:r+=n.slice(0,e),0==(e-=o)){o===n.length?(++t,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=n.slice(o));break}++t}return this.length-=t,r}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),p=this.head,r=1;for(p.data.copy(t),e-=p.data.length;p=p.next;){var n=p.data,o=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,o),0==(e-=o)){o===n.length?(++r,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=n.slice(o));break}++r}return this.length-=r,t}},{key:d,value:function(e,t){return f(this,function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(Object(source),!0).forEach((function(t){o(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):n(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&l(t.prototype,r),h&&l(t,h),e}()},1584:function(e,t,r){"use strict";(function(t){var n;function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r(763),c=Symbol("lastResolve"),f=Symbol("lastReject"),d=Symbol("error"),h=Symbol("ended"),_=Symbol("lastPromise"),y=Symbol("handlePromise"),v=Symbol("stream");function w(e,t){return{value:e,done:t}}function m(e){var t=e[c];if(null!==t){var data=e[v].read();null!==data&&(e[_]=null,e[c]=null,e[f]=null,t(w(data,!1)))}}function S(e){t.nextTick(m,e)}var E=Object.getPrototypeOf((function(){})),R=Object.setPrototypeOf((o(n={get stream(){return this[v]},next:function(){var e=this,r=this[d];if(null!==r)return Promise.reject(r);if(this[h])return Promise.resolve(w(void 0,!0));if(this[v].destroyed)return new Promise((function(r,n){t.nextTick((function(){e[d]?n(e[d]):r(w(void 0,!0))}))}));var n,o=this[_];if(o)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[h]?r(w(void 0,!0)):t[y](r,n)}),n)}}(o,this));else{var data=this[v].read();if(null!==data)return Promise.resolve(w(data,!1));n=new Promise(this[y])}return this[_]=n,n}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[v].destroy(null,(function(e){e?r(e):t(w(void 0,!0))}))}))})),n),E);e.exports=function(e){var t,r=Object.create(R,(o(t={},v,{value:e,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,f,{value:null,writable:!0}),o(t,d,{value:null,writable:!0}),o(t,h,{value:e._readableState.endEmitted,writable:!0}),o(t,y,{value:function(e,t){var data=r[v].read();data?(r[_]=null,r[c]=null,r[f]=null,e(w(data,!1))):(r[c]=e,r[f]=t)},writable:!0}),t));return r[_]=null,l(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[f];return null!==t&&(r[_]=null,r[c]=null,r[f]=null,t(e)),void(r[d]=e)}var n=r[c];null!==n&&(r[_]=null,r[c]=null,r[f]=null,n(w(void 0,!0))),r[h]=!0})),e.on("readable",S.bind(null,r)),r}}).call(this,r(74))},1585:function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},1586:function(e,t,r){"use strict";e.exports=o;var n=r(1037);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}r(56)(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},1587:function(e,t,r){"use strict";var n;var o=r(395).codes,l=o.ERR_MISSING_ARGS,c=o.ERR_STREAM_DESTROYED;function f(e){if(e)throw e}function d(e,t,o,l){l=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(l);var f=!1;e.on("close",(function(){f=!0})),void 0===n&&(n=r(763)),n(e,{readable:t,writable:o},(function(e){if(e)return l(e);f=!0,l()}));var d=!1;return function(t){if(!f&&!d)return d=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void l(t||new c("pipe"))}}function h(e){e()}function _(e,t){return e.pipe(t)}function y(e){return e.length?"function"!=typeof e[e.length-1]?f:e.pop():f}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o=y(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new l("streams");var c=t.map((function(e,i){var r=i<t.length-1;return d(e,r,i>0,(function(e){n||(n=e),e&&c.forEach(h),r||(c.forEach(h),o(n))}))}));return t.reduce(_)}},1588:function(e,t,r){(function(t){const{Transform:n}=r(1031);e.exports=e=>class r extends n{constructor(t,r,n,o){super(o),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=o,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(e){n=e}r(n)}_flush(){}_read(e){this.push(this.squeeze(e))}update(data,e){if(!t.isBuffer(data)&&"string"!=typeof data)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return t.isBuffer(data)||(data=t.from(data,e)),this._state.absorb(data),this}squeeze(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let data=this._state.squeeze(e);return void 0!==t&&(data=data.toString(t)),data}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new r(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}}).call(this,r(20).Buffer)},1589:function(e,t,r){(function(t){const n=r(1590);function o(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}o.prototype.initialize=function(e,t){for(let i=0;i<50;++i)this.state[i]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},o.prototype.absorb=function(data){for(let i=0;i<data.length;++i)this.state[~~(this.count/4)]^=data[i]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0)},o.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!=(128&e)&&this.count===this.blockSize-1&&n.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,n.p1600(this.state),this.count=0,this.squeezing=!0},o.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const output=t.alloc(e);for(let i=0;i<e;++i)output[i]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0);return output},o.prototype.copy=function(e){for(let i=0;i<50;++i)e.state[i]=this.state[i];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},e.exports=o}).call(this,r(20).Buffer)},1590:function(e,t){const r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];t.p1600=function(s){for(let e=0;e<24;++e){const t=s[0]^s[10]^s[20]^s[30]^s[40],n=s[1]^s[11]^s[21]^s[31]^s[41],o=s[2]^s[12]^s[22]^s[32]^s[42],l=s[3]^s[13]^s[23]^s[33]^s[43],c=s[4]^s[14]^s[24]^s[34]^s[44],f=s[5]^s[15]^s[25]^s[35]^s[45],d=s[6]^s[16]^s[26]^s[36]^s[46],h=s[7]^s[17]^s[27]^s[37]^s[47],_=s[8]^s[18]^s[28]^s[38]^s[48],y=s[9]^s[19]^s[29]^s[39]^s[49];let v=_^(o<<1|l>>>31),w=y^(l<<1|o>>>31);const m=s[0]^v,S=s[1]^w,E=s[10]^v,R=s[11]^w,k=s[20]^v,O=s[21]^w,T=s[30]^v,P=s[31]^w,x=s[40]^v,A=s[41]^w;v=t^(c<<1|f>>>31),w=n^(f<<1|c>>>31);const L=s[2]^v,D=s[3]^w,C=s[12]^v,M=s[13]^w,j=s[22]^v,I=s[23]^w,N=s[32]^v,B=s[33]^w,U=s[42]^v,z=s[43]^w;v=o^(d<<1|h>>>31),w=l^(h<<1|d>>>31);const W=s[4]^v,H=s[5]^w,F=s[14]^v,V=s[15]^w,K=s[24]^v,Y=s[25]^w,G=s[34]^v,Z=s[35]^w,J=s[44]^v,Q=s[45]^w;v=c^(_<<1|y>>>31),w=f^(y<<1|_>>>31);const X=s[6]^v,$=s[7]^w,ee=s[16]^v,te=s[17]^w,re=s[26]^v,ne=s[27]^w,ie=s[36]^v,ae=s[37]^w,oe=s[46]^v,se=s[47]^w;v=d^(t<<1|n>>>31),w=h^(n<<1|t>>>31);const ue=s[8]^v,le=s[9]^w,ce=s[18]^v,fe=s[19]^w,de=s[28]^v,he=s[29]^w,pe=s[38]^v,be=s[39]^w,_e=s[48]^v,ge=s[49]^w,ye=m,ve=S,we=R<<4|E>>>28,me=E<<4|R>>>28,Se=k<<3|O>>>29,Ee=O<<3|k>>>29,Re=P<<9|T>>>23,ke=T<<9|P>>>23,Oe=x<<18|A>>>14,Te=A<<18|x>>>14,Pe=L<<1|D>>>31,xe=D<<1|L>>>31,Ae=M<<12|C>>>20,Le=C<<12|M>>>20,De=j<<10|I>>>22,Ce=I<<10|j>>>22,Me=B<<13|N>>>19,je=N<<13|B>>>19,Ie=U<<2|z>>>30,Ne=z<<2|U>>>30,Be=H<<30|W>>>2,Ue=W<<30|H>>>2,ze=F<<6|V>>>26,qe=V<<6|F>>>26,We=Y<<11|K>>>21,He=K<<11|Y>>>21,Fe=G<<15|Z>>>17,Ve=Z<<15|G>>>17,Ke=Q<<29|J>>>3,Ye=J<<29|Q>>>3,Ge=X<<28|$>>>4,Ze=$<<28|X>>>4,Je=te<<23|ee>>>9,Qe=ee<<23|te>>>9,Xe=re<<25|ne>>>7,$e=ne<<25|re>>>7,et=ie<<21|ae>>>11,tt=ae<<21|ie>>>11,nt=se<<24|oe>>>8,it=oe<<24|se>>>8,at=ue<<27|le>>>5,ot=le<<27|ue>>>5,st=ce<<20|fe>>>12,ut=fe<<20|ce>>>12,lt=he<<7|de>>>25,ct=de<<7|he>>>25,ft=pe<<8|be>>>24,ht=be<<8|pe>>>24,pt=_e<<14|ge>>>18,bt=ge<<14|_e>>>18;s[0]=ye^~Ae&We,s[1]=ve^~Le&He,s[10]=Ge^~st&Se,s[11]=Ze^~ut&Ee,s[20]=Pe^~ze&Xe,s[21]=xe^~qe&$e,s[30]=at^~we&De,s[31]=ot^~me&Ce,s[40]=Be^~Je&lt,s[41]=Ue^~Qe&ct,s[2]=Ae^~We&et,s[3]=Le^~He&tt,s[12]=st^~Se&Me,s[13]=ut^~Ee&je,s[22]=ze^~Xe&ft,s[23]=qe^~$e&ht,s[32]=we^~De&Fe,s[33]=me^~Ce&Ve,s[42]=Je^~lt&Re,s[43]=Qe^~ct&ke,s[4]=We^~et&pt,s[5]=He^~tt&bt,s[14]=Se^~Me&Ke,s[15]=Ee^~je&Ye,s[24]=Xe^~ft&Oe,s[25]=$e^~ht&Te,s[34]=De^~Fe&nt,s[35]=Ce^~Ve&it,s[44]=lt^~Re&Ie,s[45]=ct^~ke&Ne,s[6]=et^~pt&ye,s[7]=tt^~bt&ve,s[16]=Me^~Ke&Ge,s[17]=je^~Ye&Ze,s[26]=ft^~Oe&Pe,s[27]=ht^~Te&xe,s[36]=Fe^~nt&at,s[37]=Ve^~it&ot,s[46]=Re^~Ie&Be,s[47]=ke^~Ne&Ue,s[8]=pt^~ye&Ae,s[9]=bt^~ve&Le,s[18]=Ke^~Ge&st,s[19]=Ye^~Ze&ut,s[28]=Oe^~Pe&ze,s[29]=Te^~xe&qe,s[38]=nt^~at&we,s[39]=it^~ot&me,s[48]=Ie^~Be&Je,s[49]=Ne^~Ue&Qe,s[0]^=r[2*e],s[1]^=r[2*e+1]}}},1976:function(e,t,r){"use strict";(function(e){var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(397)),l=n(r(398)),c=n(r(216)),f=n(r(215)),d=n(r(451)),h=n(r(604)),_=n(r(189)),y=r(1167),v=r(1977),w=r(813),m=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.APP_KEY;if((0,c.default)(this,t),!e)throw new Error("Transport has not been defined");this.transport=e,e.decorateAppAPIMethods(this,["getVersion","sign","getAddressAndPubKey","appInfo","deviceInfo","getBech32FromPK"],r)}var r,n,m,S,E,R,k,O,T,P;return(0,f.default)(t,[{key:"serializePath",value:(P=(0,l.default)(o.default.mark((function e(path){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.getVersion)(this.transport);case 2:if(this.versionResponse=e.sent,this.versionResponse.return_code===w.ERROR_CODE.NoError){e.next=5;break}throw this.versionResponse;case 5:e.t0=this.versionResponse.major,e.next=1===e.t0?8:2===e.t0?9:10;break;case 8:return e.abrupt("return",(0,y.serializePathv1)(path));case 9:return e.abrupt("return",(0,v.serializePathv2)(path));case 10:return e.abrupt("return",{return_code:25600,error_message:"App Version is not supported"});case 11:case"end":return e.stop()}}),e,this)}))),function(e){return P.apply(this,arguments)})},{key:"signGetChunks",value:(T=(0,l.default)(o.default.mark((function t(path,r){var n,l,c,i,f;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serializePath(path);case 2:for(n=t.sent,(l=[]).push(n),c=e.from(r),i=0;i<c.length;i+=w.CHUNK_SIZE)f=i+w.CHUNK_SIZE,i>c.length&&(f=c.length),l.push(c.slice(i,f));return t.abrupt("return",l);case 8:case"end":return t.stop()}}),t,this)}))),function(e,t){return T.apply(this,arguments)})},{key:"getVersion",value:(O=(0,l.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,w.getVersion)(this.transport);case 3:return this.versionResponse=e.sent,e.abrupt("return",this.versionResponse);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,w.processErrorResponse)(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return O.apply(this,arguments)})},{key:"appInfo",value:(k=(0,l.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.transport.send(176,1,0,0).then((function(e){var t=e.slice(-2),r=256*t[0]+t[1],n={},o="err",l="err",c=0,f=0;if(1!==e[0])n.error_message="response format ID not recognized",n.return_code=36865;else{var d=e[1];o=e.slice(2,2+d).toString("ascii");var h=2+d,_=e[h];h+=1,l=e.slice(h,h+_).toString("ascii"),c=e[h+=_],f=e[h+=1]}return{return_code:r,error_message:(0,w.errorCodeToString)(r),appName:o,appVersion:l,flagLen:c,flagsValue:f,flag_recovery:0!=(1&f),flag_signed_mcu_code:0!=(2&f),flag_onboarded:0!=(4&f),flag_pin_validated:0!=(128&f)}}),w.processErrorResponse));case 1:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"deviceInfo",value:(R=(0,l.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.transport.send(224,1,0,0,e.from([]),[w.ERROR_CODE.NoError,28160]).then((function(e){var t=e.slice(-2),r=256*t[0]+t[1];if(28160===r)return{return_code:r,error_message:"This command is only available in the Dashboard"};var n=e.slice(0,4).toString("hex"),o=4,l=e[o];o+=1;var c=e.slice(o,o+l).toString(),f=e[o+=l];o+=1;var d=e.slice(o,o+f).toString("hex"),h=e[o+=f];o+=1;var _=e.slice(o,o+h);0===_[h-1]&&(_=e.slice(o,o+h-1));var y=_.toString();return{return_code:r,error_message:(0,w.errorCodeToString)(r),targetId:n,seVersion:c,flag:d,mcuVersion:y}}),w.processErrorResponse));case 1:case"end":return t.stop()}}),t,this)}))),function(){return R.apply(this,arguments)})},{key:"publicKey",value:(E=(0,l.default)(o.default.mark((function r(path){var n,data;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.serializePath(path);case 3:n=r.sent,r.t0=this.versionResponse.major,r.next=1===r.t0?7:2===r.t0?8:10;break;case 7:return r.abrupt("return",(0,y.publicKeyv1)(this,n));case 8:return data=e.concat([t.serializeHRP("cosmos"),n]),r.abrupt("return",(0,v.publicKeyv2)(this,data));case 10:return r.abrupt("return",{return_code:25600,error_message:"App Version is not supported"});case 11:r.next=16;break;case 13:return r.prev=13,r.t1=r.catch(0),r.abrupt("return",(0,w.processErrorResponse)(r.t1));case 16:case"end":return r.stop()}}),r,this,[[0,13]])}))),function(e){return E.apply(this,arguments)})},{key:"getAddressAndPubKey",value:(S=(0,l.default)(o.default.mark((function r(path,n){var l=this;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.abrupt("return",this.serializePath(path).then((function(r){var data=e.concat([t.serializeHRP(n),r]);return l.transport.send(w.CLA,w.INS.GET_ADDR_SECP256K1,w.P1_VALUES.ONLY_RETRIEVE,0,data,[w.ERROR_CODE.NoError]).then((function(t){var r=t.slice(-2),n=256*r[0]+r[1],o=e.from(t.slice(0,33));return{bech32_address:e.from(t.slice(33,-2)).toString(),compressed_pk:o,return_code:n,error_message:(0,w.errorCodeToString)(n)}}),w.processErrorResponse)})).catch((function(e){return(0,w.processErrorResponse)(e)})));case 4:return r.prev=4,r.t0=r.catch(0),r.abrupt("return",(0,w.processErrorResponse)(r.t0));case 7:case"end":return r.stop()}}),r,this,[[0,4]])}))),function(e,t){return S.apply(this,arguments)})},{key:"showAddressAndPubKey",value:(m=(0,l.default)(o.default.mark((function r(path,n){var l=this;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.abrupt("return",this.serializePath(path).then((function(r){var data=e.concat([t.serializeHRP(n),r]);return l.transport.send(w.CLA,w.INS.GET_ADDR_SECP256K1,w.P1_VALUES.SHOW_ADDRESS_IN_DEVICE,0,data,[w.ERROR_CODE.NoError]).then((function(t){var r=t.slice(-2),n=256*r[0]+r[1],o=e.from(t.slice(0,33));return{bech32_address:e.from(t.slice(33,-2)).toString(),compressed_pk:o,return_code:n,error_message:(0,w.errorCodeToString)(n)}}),w.processErrorResponse)})).catch((function(e){return(0,w.processErrorResponse)(e)})));case 4:return r.prev=4,r.t0=r.catch(0),r.abrupt("return",(0,w.processErrorResponse)(r.t0));case 7:case"end":return r.stop()}}),r,this,[[0,4]])}))),function(e,t){return m.apply(this,arguments)})},{key:"signSendChunk",value:(n=(0,l.default)(o.default.mark((function e(t,r,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.versionResponse.major,e.next=1===e.t0?3:2===e.t0?4:5;break;case 3:return e.abrupt("return",(0,y.signSendChunkv1)(this,t,r,n));case 4:return e.abrupt("return",(0,v.signSendChunkv2)(this,t,r,n));case 5:return e.abrupt("return",{return_code:25600,error_message:"App Version is not supported"});case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"sign",value:(r=(0,l.default)(o.default.mark((function e(path,t){var r=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signGetChunks(path,t).then((function(e){return r.signSendChunk(1,e.length,e[0],[w.ERROR_CODE.NoError]).then(function(){var t=(0,l.default)(o.default.mark((function t(n){var l,i;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l={return_code:n.return_code,error_message:n.error_message,signature:null},i=1;case 2:if(!(i<e.length)){t.next=11;break}return t.next=5,r.signSendChunk(1+i,e.length,e[i]);case 5:if((l=t.sent).return_code===w.ERROR_CODE.NoError){t.next=8;break}return t.abrupt("break",11);case 8:i+=1,t.next=2;break;case 11:return t.abrupt("return",{return_code:l.return_code,error_message:l.error_message,signature:l.signature});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w.processErrorResponse)}),w.processErrorResponse));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}],[{key:"serializeHRP",value:function(t){if(null==t||t.length<3||t.length>83)throw new Error("Invalid HRP");var r=e.alloc(1+t.length);return r.writeUInt8(t.length,0),r.write(t,1),r}},{key:"getBech32FromPK",value:function(e,t){if(33!==t.length)throw new Error("expected compressed public key [31 bytes]");var r=d.default.createHash("sha256").update(t).digest(),n=(new h.default).update(r).digest();return _.default.encode(e,_.default.toWords(n))}}]),t}();t.default=m}).call(this,r(20).Buffer)},1977:function(e,t,r){"use strict";(function(e){var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.serializePathv2=function(path){if(!path||5!==path.length)throw new Error("Invalid path.");var t=e.alloc(20);return t.writeUInt32LE(2147483648+path[0],0),t.writeUInt32LE(2147483648+path[1],4),t.writeUInt32LE(2147483648+path[2],8),t.writeUInt32LE(path[3],12),t.writeUInt32LE(path[4],16),t},t.signSendChunkv2=function(e,t,r,n){return d.apply(this,arguments)},t.publicKeyv2=function(e,t){return h.apply(this,arguments)};var o=n(r(397)),l=n(r(398)),c=r(1167),f=r(813);function d(){return(d=(0,l.default)(o.default.mark((function e(t,r,n,l){var d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=f.PAYLOAD_TYPE.ADD,1===r&&(d=f.PAYLOAD_TYPE.INIT),r===n&&(d=f.PAYLOAD_TYPE.LAST),e.abrupt("return",(0,c.signSendChunkv1)(t,d,0,l));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,l.default)(o.default.mark((function t(r,data){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.transport.send(f.CLA,f.INS.GET_ADDR_SECP256K1,0,0,data,[f.ERROR_CODE.NoError]).then((function(t){var r=t.slice(-2),n=256*r[0]+r[1];return{pk:"OBSOLETE PROPERTY",compressed_pk:e.from(t.slice(0,33)),return_code:n,error_message:(0,f.errorCodeToString)(n)}}),f.processErrorResponse));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}).call(this,r(20).Buffer)},395:function(e,t,r){"use strict";var n={};function o(code,e,t){t||(t=Error);var r=function(t){var r,n;function o(r,n,o){return t.call(this,function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(r,n,o))||this}return n=t,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o}(t);r.prototype.name=t.name,r.prototype.code=code,n[code]=r}function l(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(i){return String(i)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}o("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,o,c,f;if("string"==typeof t&&(o="not ",t.substr(!c||c<0?0:+c,o.length)===o)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))f="The ".concat(e," ").concat(n," ").concat(l(t,"type"));else{var d=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";f='The "'.concat(e,'" ').concat(d," ").concat(n," ").concat(l(t,"type"))}return f+=". Received type ".concat(typeof r)}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},396:function(e,t,r){"use strict";(function(t){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var o=r(1032),l=r(1036);r(56)(h,o);for(var c=n(l.prototype),f=0;f<c.length;f++){var d=c[f];h.prototype[d]||(h.prototype[d]=l.prototype[d])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),l.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",_)))}function _(){this._writableState.ended||t.nextTick(y,this)}function y(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,r(74))},445:function(e,t,r){"use strict";function n(e,t,r){"object"==typeof r.value&&(r.value=o(r.value)),r.enumerable&&!r.get&&!r.set&&r.configurable&&r.writable&&"__proto__"!==t?e[t]=r.value:Object.defineProperty(e,t,r)}function o(e){if("object"!=typeof e)return e;var t,r,l,i=0,c=Object.prototype.toString.call(e);if("[object Object]"===c?l=Object.create(e.__proto__||null):"[object Array]"===c?l=Array(e.length):"[object Set]"===c?(l=new Set,e.forEach((function(e){l.add(o(e))}))):"[object Map]"===c?(l=new Map,e.forEach((function(e,t){l.set(o(t),o(e))}))):"[object Date]"===c?l=new Date(+e):"[object RegExp]"===c?l=new RegExp(e.source,e.flags):"[object DataView]"===c?l=new e.constructor(o(e.buffer)):"[object ArrayBuffer]"===c?l=e.slice(0):"Array]"===c.slice(-6)&&(l=new e.constructor(e)),l){for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n(l,r[i],Object.getOwnPropertyDescriptor(e,r[i]));for(i=0,r=Object.getOwnPropertyNames(e);i<r.length;i++)Object.hasOwnProperty.call(l,t=r[i])&&l[t]===e[t]||n(l,t,Object.getOwnPropertyDescriptor(e,t))}return l||e}r.d(t,"a",(function(){return o}))},763:function(e,t,r){"use strict";var n=r(395).codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}e.exports=function e(t,r,l){if("function"==typeof r)return e(t,null,r);r||(r={}),l=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n)}}}(l||o);var c=r.readable||!1!==r.readable&&t.readable,f=r.writable||!1!==r.writable&&t.writable,d=function(){t.writable||_()},h=t._writableState&&t._writableState.finished,_=function(){f=!1,h=!0,c||l.call(t)},y=t._readableState&&t._readableState.endEmitted,v=function(){c=!1,y=!0,f||l.call(t)},w=function(e){l.call(t,e)},m=function(){var e;return c&&!y?(t._readableState&&t._readableState.ended||(e=new n),l.call(t,e)):f&&!h?(t._writableState&&t._writableState.ended||(e=new n),l.call(t,e)):void 0},S=function(){t.req.on("finish",_)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?f&&!t._writableState&&(t.on("end",d),t.on("close",d)):(t.on("complete",_),t.on("abort",m),t.req?S():t.on("request",S)),t.on("end",v),t.on("finish",_),!1!==r.error&&t.on("error",w),t.on("close",m),function(){t.removeListener("complete",_),t.removeListener("abort",m),t.removeListener("request",S),t.req&&t.req.removeListener("finish",_),t.removeListener("end",d),t.removeListener("close",d),t.removeListener("finish",_),t.removeListener("end",v),t.removeListener("error",w),t.removeListener("close",m)}}},813:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.errorCodeToString=h,t.processErrorResponse=_,t.getVersion=function(e){return y.apply(this,arguments)},t.ERROR_CODE=t.P1_VALUES=t.PAYLOAD_TYPE=t.INS=t.APP_KEY=t.CHUNK_SIZE=t.CLA=void 0;var o=n(r(397)),l=n(r(398)),c=n(r(300));t.CLA=85;t.CHUNK_SIZE=250;t.APP_KEY="CSM";var f={GET_VERSION:0,INS_PUBLIC_KEY_SECP256K1:1,SIGN_SECP256K1:2,GET_ADDR_SECP256K1:4};t.INS=f;t.PAYLOAD_TYPE={INIT:0,ADD:1,LAST:2};t.P1_VALUES={ONLY_RETRIEVE:0,SHOW_ADDRESS_IN_DEVICE:1};t.ERROR_CODE={NoError:36864};var d={1:"U2F: Unknown",2:"U2F: Bad request",3:"U2F: Configuration unsupported",4:"U2F: Device Ineligible",5:"U2F: Timeout",14:"Timeout",36864:"No errors",36865:"Device is busy",26626:"Error deriving keys",25600:"Execution Error",26368:"Wrong Length",27010:"Empty Buffer",27011:"Output buffer too small",27012:"Data is invalid",27013:"Conditions not satisfied",27014:"Transaction rejected",27264:"Bad key handle",27392:"Invalid P1/P2",27904:"Instruction not supported",28160:"App does not seem to be open",28416:"Unknown error",28417:"Sign/verify error"};function h(e){return e in d?d[e]:"Unknown Status Code: ".concat(e)}function _(e){if(e){if(t=e,!("object"!==(0,c.default)(t)||null===t||t instanceof Array||t instanceof Date)){if(Object.prototype.hasOwnProperty.call(e,"statusCode"))return{return_code:e.statusCode,error_message:h(e.statusCode)};if(Object.prototype.hasOwnProperty.call(e,"return_code")&&Object.prototype.hasOwnProperty.call(e,"error_message"))return e}return{return_code:65535,error_message:e.toString()}}var t;return{return_code:65535,error_message:e.toString()}}function y(){return(y=(0,l.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.send(85,f.GET_VERSION,0,0).then((function(e){var t=e.slice(-2),r=256*t[0]+t[1],n=0;return e.length>=9&&(n=(e[5]<<24)+(e[6]<<16)+(e[7]<<8)+(e[8]<<0)),{return_code:r,error_message:h(r),test_mode:0!==e[0],major:e[1],minor:e[2],patch:e[3],device_locked:1===e[4],target_id:n.toString(16)}}),_));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);