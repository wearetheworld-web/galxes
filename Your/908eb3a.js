(window.webpackJsonp=window.webpackJsonp||[]).push([[899,1033],{2582:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return G})),n.d(t,"k",(function(){return I})),n.d(t,"l",(function(){return C})),n.d(t,"c",(function(){return S})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return A})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return B})),n.d(t,"j",(function(){return T})),n.d(t,"n",(function(){return _})),n.d(t,"m",(function(){return H})),n.d(t,"d",(function(){return F})),n.d(t,"g",(function(){return W}));var r,o=n(8),c=n(1),l=(n(66),n(46),n(71),n(91),n(450),n(16),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(87),n(2766),n(80),n(1366),n(107),n(73),n(85),n(114),n(48),n(2789)),d=n(2790),f=n(2530),m=n(2791),w=n(2560),h=n(9),x=n(911),v=n(210),k=n(921),y=n(38),O=n(710);!function(e){e[e.Default=0]="Default",e[e.Claim=1]="Claim",e[e.StakeIn=2]="StakeIn",e[e.StakeOut=3]="StakeOut",e[e.Forge=4]="Forge"}(r||(r={}));var $=null,j=null,P=function(e,t){if(window.web3Global){var n=t.getters.currentChain;if(n&&!Object(v.e)(n.name))try{$=new window.web3Global.eth.Contract(n.name===h.c.Ethereum?l:d,""===e?n.latestSSAddress:e)}catch(e){console.info(e)}}},R=function(e){window.web3Global&&(j=new window.web3Global.eth.Contract(m.a,e))},G=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,r,o){var c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(n),e.prev=1,c=o.getters.currentChain){e.next=5;break}return e.abrupt("return");case 5:return l=""===r?c.latestSSAddress:r,e.next=8,j.methods.allowance(t,l).call();case 8:return d=e.sent,e.abrupt("return",window.web3Global.utils.fromWei(d,"ether"));case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n,r,o){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(n),e.prev=1,e.next=4,j.methods.allowance(t,r).call();case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),C=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,r,o,c){var l,d,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(R(n),e.prev=3,l=c.getters.currentChain){e.next=7;break}return e.abrupt("return");case 7:return d=""===o?l.latestSSAddress:o,e.next=10,window.web3Global.eth.getGasPrice();case 10:return f=e.sent,e.next=13,j.methods.approve(d,window.web3Global.utils.toWei("".concat(r))).estimateGas({from:t});case 13:return m=e.sent,e.next=16,j.methods.approve(d,window.web3Global.utils.toWei("".concat(r))).send({from:t,gas:m,gasPrice:f}).once("transactionHash",(function(e){console.log("hash:",e)})).on("error",(function(e){window.$nuxt.$emit("approve-status","error")})).then((function(){window.$nuxt.$emit("approve-status","completed")}));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t,n,r,o,c){return e.apply(this,arguments)}}(),S=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,r,o){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(r,o),e.prev=1,!o.getters.currentChain||!$){e.next=8;break}return e.next=6,$.methods.campaignFeeConfigs(t).call();case 6:return c=e.sent,e.abrupt("return",c);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r,o){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,o,c,l,d,m,h,v,k,y,O,j,R,G){var I,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(j,R),e.prev=1,e.next=4,window.web3Global.eth.getGasPrice();case 4:return I=e.sent,e.next=7,$.methods.claimBatch(d,m,h,v,O).estimateGas({from:k,value:c});case 7:C=e.sent,$.methods.claimBatch(d,m,h,v,O).send({from:k,value:c,gas:C,gasPrice:I}).once("sending",(function(){window.$nuxt.$emit("trx-result",{status:"loading",trxId:""})})).once("transactionHash",(function(e){console.log(e),Object(w.d)(n,{signature:y,address:k,tx:e,verifyIDs:h,chain:o.name,campaignID:l,nonce:G}),window.$nuxt.$emit("trx-result",{status:"completed",trxId:e,operation:"claim"}),window.$nuxt.$emit("trx-sending",{operation:"claimBatch",id:l,mintCount:t}),Object(x.a)(o,r.Claim,e,k,l,R)})).on("error",(function(e){console.log(e),Object(f.b)(e)})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,r,o,c,l,d,f,m,w,h,x,v,k,y){return e.apply(this,arguments)}}(),A=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,o,c,l,d,m,h,v,k,y,O,j,R,G,I){var C,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(j,G),e.prev=1,console.log("value:",c),e.next=5,window.web3Global.eth.getGasPrice();case 5:return C=e.sent,e.next=8,$.methods.claimBatchCapped(d,m,h,v,R,O).estimateGas({from:k,value:c});case 8:S=e.sent,$.methods.claimBatchCapped(d,m,h,v,R,O).send({from:k,value:c,gas:S,gasPrice:C}).once("sending",(function(){window.$nuxt.$emit("trx-result",{status:"loading",trxId:""})})).once("transactionHash",(function(e){console.log(e),Object(w.d)(n,{signature:y,address:k,tx:e,verifyIDs:h,chain:o.name,campaignID:l,nonce:I}),window.$nuxt.$emit("trx-result",{status:"completed",trxId:e,operation:"claim"}),window.$nuxt.$emit("trx-sending",{operation:"claimBatch",id:l,mintCount:t}),Object(x.a)(o,r.Claim,e,k,l,G)})).on("error",(function(e){console.log(e),Object(f.b)(e)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n,r,o,c,l,d,f,m,w,h,x,v,k,y,O){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,o,c,l,d,m,h,v,k,y,O,j,R,G){var I,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(O,j),e.prev=1,e.next=4,window.web3Global.eth.getGasPrice();case 4:return I=e.sent,e.next=7,$.methods.claim(l,d,m,h,y).estimateGas({from:v,value:o});case 7:C=e.sent,$.methods.claim(l,d,m,h,y).send({from:v,value:o,gas:C,gasPrice:I}).once("sending",(function(){window.$nuxt.$emit("rec-result",{status:"loading",trxId:""})})).once("transactionHash",(function(e){console.log(e),Object(w.d)(t,{signature:k,address:v,tx:e,verifyIDs:[m],chain:n.name,campaignID:c,nonce:R}),window.$nuxt.$emit("rec-result",{status:"completed",trxId:e,operation:"claim",chain:n.name,campaign:G}),window.$nuxt.$emit("trx-sending",{operation:"claim",id:c}),Object(x.a)(n,r.Claim,e,v,c,j)})).on("error",(function(e){console.log(e),Object(f.b)(e)})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0 instanceof Error&&t.$errorPlain(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,r,o,c,l,d,f,m,w,h,x,v,k,y){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,o,c,l,d,m,h,v,k,y,O,j,R,G,I){var C,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(O,R),e.prev=1,e.next=4,window.web3Global.eth.getGasPrice();case 4:return C=e.sent,e.next=7,$.methods.claimCapped(l,d,m,h,j,y).estimateGas({from:v,value:o});case 7:S=e.sent,$.methods.claimCapped(l,d,m,h,j,y).send({from:v,value:o,gas:S,gasPrice:C}).once("sending",(function(){window.$nuxt.$emit("rec-result",{status:"loading",trxId:""})})).once("transactionHash",(function(e){console.log(e),Object(w.d)(t,{signature:k,address:v,tx:e,verifyIDs:[m],chain:n.name,campaignID:c,nonce:G}),window.$nuxt.$emit("rec-result",{status:"completed",trxId:e,operation:"claim",chain:n.name,campaign:I}),window.$nuxt.$emit("trx-sending",{operation:"claim",id:c}),Object(x.a)(n,r.Claim,e,v,c,R)})).on("error",(function(e){console.log(e),Object(f.b)(e)})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0 instanceof Error&&(e.t0.message.includes("owner can not mint new nft")?t.$errorPlain("Sorry, you already claimed one before, and one address can only receive one Glory Pass."):t.$errorPlain(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,r,o,c,l,d,f,m,w,h,x,v,k,y,O){return e.apply(this,arguments)}}(),T=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,r,o,c,l,d,m,w,h){var x,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(w,h),e.prev=1,e.next=4,window.web3Global.eth.getGasPrice();case 4:return x=e.sent,e.next=7,$.methods.forge(n,r,o,c,l,m,d).estimateGas({from:m});case 7:v=e.sent,$.methods.forge(n,r,o,c,l,m,d).send({from:m,gas:v,gasPrice:x}).once("sending",(function(){window.$nuxt.$emit("trx-result",{status:"loading",trxId:""})})).once("transactionHash",(function(e){window.$nuxt.$emit("trx-result",{status:"completed",trxId:e,operation:"forge"}),window.$nuxt.$emit("trx-sending",{operation:"forge",id:t})})).on("error",(function(e){console.log(e),Object(f.b)(e)})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,r,o,c,l,d,f,m,w){return e.apply(this,arguments)}}(),_=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(t),e.next=4,j.methods.symbol().call();case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(t),e.next=4,j.methods.decimals().call();case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",18);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){return Array.from(function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got ".concat(Object(o.a)(e)));if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");for(var t=new Uint8Array(e.length/2),i=0;i<t.length;i++){var n=2*i,r=e.slice(n,n+2),c=Number.parseInt(r,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");t[i]=c}return t}(e))},F=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,r,o,c,l,d,f,m,h,x,v,k,O){var $,j,P,R,G,I,C,S,D,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$={arguments:[n,"".concat(r),"".concat(o),c,"".concat(l),"".concat(d),N(f.substring(2))],function:"".concat("0xe7c7bb0e53fc6fb86aa7464645fbac96b96716463b4e2269c62945c135aa26fd","::oat::claim"),type:"entry_function_payload",type_arguments:[]},e.prev=1,e.t0=O,e.next=e.t0===y.a.Petra?5:e.t0===y.a.Fewcha?9:13;break;case 5:return e.next=7,window.aptos.network();case 7:return j=e.sent,e.abrupt("break",14);case 9:return e.next=11,window.fewcha.getNetwork();case 11:return j=e.sent.data,e.abrupt("break",14);case 13:return e.abrupt("break",14);case 14:if(O===y.a.BloctoAptos){e.next=21;break}if("Mainnet"===j){e.next=18;break}return t.$errorPlain("Please switch to Aptos Mainnet."),e.abrupt("return");case 18:e.next=21;break;case 21:e.t1=O,e.next=e.t1===y.a.Petra?24:e.t1===y.a.Fewcha?32:e.t1===y.a.BloctoAptos?42:49;break;case 24:return e.next=26,window.aptos.signAndSubmitTransaction($);case 26:return R=e.sent,e.next=29,J(t,R.hash,j);case 29:return G=e.sent,P=G.hash,e.abrupt("break",50);case 32:return e.next=34,window.fewcha.generateTransaction($);case 34:if(200===(I=e.sent).status){e.next=37;break}return e.abrupt("return");case 37:return e.next=39,window.fewcha.signAndSubmitTransaction(I.data);case 39:return C=e.sent,P=C.data,e.abrupt("break",50);case 42:return S={max_gas_amount:"20000"},e.next=45,window.bloctoSDK.aptos.signAndSubmitTransaction($,S);case 45:return D=e.sent,A=D.hash,P=A,e.abrupt("break",50);case 49:return e.abrupt("break",50);case 50:Object(w.d)(t,{signature:"",address:m,tx:P,verifyIDs:[r],chain:h.name,campaignID:x,nonce:v}),window.$nuxt.$emit("rec-result",{status:"completed",trxId:P,operation:"claim",chain:h.name,campaign:k}),window.$nuxt.$emit("trx-sending",{operation:"claim",id:x}),e.next=57;break;case 55:e.prev=55,e.t2=e.catch(1);case 57:case"end":return e.stop()}}),e,null,[[1,55]])})));return function(t,n,r,o,c,l,d,f,m,w,h,x,v,k){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,r,o,c,l,d,f,m){var h,x,v,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h={chainId:"atlantic-2",rpcEndpoint:"https://rpc.atlantic-2.seinetwork.io/",prefix:"wasm",gasPrice:O.GasPrice.fromString("0.012sei")},e.next=4,Object(O.setupWebKeplr)(h);case 4:return x=e.sent,e.next=7,x.execute(c,m,{claim:{campaign_id:n.numberID,verify_id:r,cap:o,owner:c,signature:l}},"auto");case 7:v=e.sent,k=v.transactionHash,Object(w.d)(t,{signature:"",address:c,tx:k,verifyIDs:[r],chain:d.name,campaignID:n.id,nonce:f}),window.$nuxt.$emit("rec-result",{status:"completed",trxId:k,operation:"claim",chain:d.name,campaign:n}),window.$nuxt.$emit("trx-sending",{operation:"claim",id:n.id}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t.$errorPlain(e.t0.toString());case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n,r,o,c,l,d,f,m){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c,l,d,f,m,w,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=20,l="Mainnet"===r?"mainnet":"testnet",d=!0,f=0;case 4:if(!d){e.next=25;break}if(!(f>=c)){e.next=7;break}return e.abrupt("break",25);case 7:return e.prev=7,e.next=10,k.a.get("https://fullnode.".concat(l,".aptoslabs.com/v1/transactions/by_hash/").concat(n));case 10:if(w=e.sent,data=w.data,d=!(m=data).type||"pending_transaction"===m.type){e.next=16;break}return e.abrupt("break",25);case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:return e.next=22,M(1e3);case 22:f+=1,e.next=4;break;case 25:return void 0===m&&t.$errorPlain("Waiting for transaction ".concat(n," failed")),d&&t.$errorPlain("Waiting for transaction ".concat(n," timed out after ").concat(c," seconds")),(null===(o=m)||void 0===o?void 0:o.success)||t.$errorPlain("Transaction ".concat(n," committed to the blockchain but execution failed")),e.abrupt("return",m);case 29:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t,n,r){return e.apply(this,arguments)}}()},2959:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n(1),o=(n(66),n(3022)),c=null,l=function(e){window.web3Global&&(c=new window.web3Global.eth.Contract(o,e))},d=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(t),e.prev=1,e.next=4,c.methods.totalSupply().call();case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.abrupt("return",-1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(t),e.prev=1,e.next=4,c.methods.starCount().call();case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},4023:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));n(39),n(42),n(36),n(30),n(37),n(51);var r=n(15),o=n(1),c=(n(66),n(80),n(706),n(16),n(85),n(46),n(4024)),l=n(2582),d=n(96);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w=null,h=function(e){window.web3Global&&(w=new window.web3Global.eth.Contract(c,e))},x=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t,n,r,o,c,f,x){var v,k,y,O,$,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(n),w){e.next=3;break}throw new Error("Can not init contract, please re-login and try again.");case 3:if(v=t.$store.getters.currentChain){e.next=6;break}throw new Error("Can not get chain info, please re-login and try again.");case 6:return k=Number(Number(f).toFixed(3)),1e3,y=d.a.from(1e3*k).mul(d.a.from(10).pow(o)).div(1e3),e.next=11,Object(l.k)(x,r,n);case 11:if(O=e.sent,!(d.a.from(O).div(d.a.from(10).pow(o)).toNumber()<f)){e.next=16;break}return e.next=16,Object(l.l)(x,r,k,n,t.$store);case 16:return e.next=18,window.web3Global.eth.getGasPrice();case 18:return $=e.sent,e.next=21,w.methods.deposit(c,r,y.toString()).estimateGas({from:x});case 21:return j=e.sent,e.next=24,w.methods.deposit(c,r,y.toString()).send({from:x,gasPrice:$,gas:j}).once("sending",(function(){window.$nuxt.$emit("trx-result",{status:"loading",trxId:""})})).once("transactionHash",(function(e){console.log("hash:",e)})).on("error",(function(e){window.$nuxt.$emit("deposit-failed",e)})).then((function(data){window.$nuxt.$emit("deposit-success",m(m({},data),{},{amount:y.toString(),tokenAddress:r,contractAddress:n,spaceId:c,chain:v.name}))}));case 24:case"end":return e.stop()}}),e)})));return function(t,n,r,o,c,l,d){return e.apply(this,arguments)}}()}}]);