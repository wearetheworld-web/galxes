(window.webpackJsonp=window.webpackJsonp||[]).push([[1173],{1241:function(e,t,r){"use strict";r.d(t,"b",(function(){return k})),r.d(t,"a",(function(){return S}));var n,l=r(27),o=r(162),d=r(124),h=r(427),c=r(428),f=r(429),m=r(90),I=r(430),F=r(359),w=r(360),y=r(431),B=r(7);class k{constructor(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}readSkeletonData(e){let t=this.scale,r=new I.a;r.name="";let input=new S(e),n=input.readInt32(),l=input.readInt32();r.hash=0==l&&0==n?null:l.toString(16)+n.toString(16),r.version=input.readString(),r.x=input.readFloat(),r.y=input.readFloat(),r.width=input.readFloat(),r.height=input.readFloat();let o=input.readBoolean();o&&(r.fps=input.readFloat(),r.imagesPath=input.readString(),r.audioPath=input.readString());let h=0;h=input.readInt(!0);for(let i=0;i<h;i++){let e=input.readString();if(!e)throw new Error("String in string table must not be null.");input.strings.push(e)}h=input.readInt(!0);for(let i=0;i<h;i++){let e=input.readString();if(!e)throw new Error("Bone name must not be null.");let n=0==i?null:r.bones[input.readInt(!0)],data=new d.a(i,e,n);data.rotation=input.readFloat(),data.x=input.readFloat()*t,data.y=input.readFloat()*t,data.scaleX=input.readFloat(),data.scaleY=input.readFloat(),data.shearX=input.readFloat(),data.shearY=input.readFloat(),data.length=input.readFloat()*t,data.transformMode=input.readInt(!0),data.skinRequired=input.readBoolean(),o&&B.a.rgba8888ToColor(data.color,input.readInt32()),r.bones.push(data)}h=input.readInt(!0);for(let i=0;i<h;i++){let e=input.readString();if(!e)throw new Error("Slot name must not be null.");let t=r.bones[input.readInt(!0)],data=new w.b(i,e,t);B.a.rgba8888ToColor(data.color,input.readInt32());let n=input.readInt32();-1!=n&&B.a.rgb888ToColor(data.darkColor=new B.a,n),data.attachmentName=input.readStringRef(),data.blendMode=input.readInt(!0),r.slots.push(data)}h=input.readInt(!0);for(let e,i=0;i<h;i++){let n=input.readString();if(!n)throw new Error("IK constraint data name must not be null.");let data=new f.a(n);data.order=input.readInt(!0),data.skinRequired=input.readBoolean(),e=input.readInt(!0);for(let t=0;t<e;t++)data.bones.push(r.bones[input.readInt(!0)]);data.target=r.bones[input.readInt(!0)],data.mix=input.readFloat(),data.softness=input.readFloat()*t,data.bendDirection=input.readByte(),data.compress=input.readBoolean(),data.stretch=input.readBoolean(),data.uniform=input.readBoolean(),r.ikConstraints.push(data)}h=input.readInt(!0);for(let e,i=0;i<h;i++){let n=input.readString();if(!n)throw new Error("Transform constraint data name must not be null.");let data=new y.a(n);data.order=input.readInt(!0),data.skinRequired=input.readBoolean(),e=input.readInt(!0);for(let t=0;t<e;t++)data.bones.push(r.bones[input.readInt(!0)]);data.target=r.bones[input.readInt(!0)],data.local=input.readBoolean(),data.relative=input.readBoolean(),data.offsetRotation=input.readFloat(),data.offsetX=input.readFloat()*t,data.offsetY=input.readFloat()*t,data.offsetScaleX=input.readFloat(),data.offsetScaleY=input.readFloat(),data.offsetShearY=input.readFloat(),data.mixRotate=input.readFloat(),data.mixX=input.readFloat(),data.mixY=input.readFloat(),data.mixScaleX=input.readFloat(),data.mixScaleY=input.readFloat(),data.mixShearY=input.readFloat(),r.transformConstraints.push(data)}h=input.readInt(!0);for(let e,i=0;i<h;i++){let n=input.readString();if(!n)throw new Error("Path constraint data name must not be null.");let data=new m.a(n);data.order=input.readInt(!0),data.skinRequired=input.readBoolean(),e=input.readInt(!0);for(let t=0;t<e;t++)data.bones.push(r.bones[input.readInt(!0)]);data.target=r.slots[input.readInt(!0)],data.positionMode=input.readInt(!0),data.spacingMode=input.readInt(!0),data.rotateMode=input.readInt(!0),data.offsetRotation=input.readFloat(),data.position=input.readFloat(),data.positionMode==m.b.Fixed&&(data.position*=t),data.spacing=input.readFloat(),data.spacingMode!=m.d.Length&&data.spacingMode!=m.d.Fixed||(data.spacing*=t),data.mixRotate=input.readFloat(),data.mixX=input.readFloat(),data.mixY=input.readFloat(),r.pathConstraints.push(data)}let F=this.readSkin(input,r,!0,o);F&&(r.defaultSkin=F,r.skins.push(F));{let i=r.skins.length;for(B.k.setArraySize(r.skins,h=i+input.readInt(!0));i<h;i++){let e=this.readSkin(input,r,!1,o);if(!e)throw new Error("readSkin() should not have returned null.");r.skins[i]=e}}h=this.linkedMeshes.length;for(let i=0;i<h;i++){let e=this.linkedMeshes[i],t=e.skin?r.findSkin(e.skin):r.defaultSkin;if(!t)throw new Error("Not skin found for linked mesh.");if(!e.parent)throw new Error("Linked mesh parent must not be null");let n=t.getAttachment(e.slotIndex,e.parent);if(!n)throw new Error(`Parent mesh not found: ${e.parent}`);e.mesh.timelineAttachment=e.inheritTimeline?n:e.mesh,e.mesh.setParentMesh(n),null!=e.mesh.region&&e.mesh.updateRegion()}this.linkedMeshes.length=0,h=input.readInt(!0);for(let i=0;i<h;i++){let e=input.readStringRef();if(!e)throw new Error;let data=new c.a(e);data.intValue=input.readInt(!1),data.floatValue=input.readFloat(),data.stringValue=input.readString(),data.audioPath=input.readString(),data.audioPath&&(data.volume=input.readFloat(),data.balance=input.readFloat()),r.events.push(data)}h=input.readInt(!0);for(let i=0;i<h;i++){let e=input.readString();if(!e)throw new Error("Animatio name must not be null.");r.animations.push(this.readAnimation(input,e,r))}return r}readSkin(input,e,t,r){let n=null,l=0;if(t){if(l=input.readInt(!0),0==l)return null;n=new F.a("default")}else{let t=input.readStringRef();if(!t)throw new Error("Skin name must not be null.");n=new F.a(t),n.bones.length=input.readInt(!0);for(let i=0,t=n.bones.length;i<t;i++)n.bones[i]=e.bones[input.readInt(!0)];for(let i=0,t=input.readInt(!0);i<t;i++)n.constraints.push(e.ikConstraints[input.readInt(!0)]);for(let i=0,t=input.readInt(!0);i<t;i++)n.constraints.push(e.transformConstraints[input.readInt(!0)]);for(let i=0,t=input.readInt(!0);i<t;i++)n.constraints.push(e.pathConstraints[input.readInt(!0)]);l=input.readInt(!0)}for(let i=0;i<l;i++){let t=input.readInt(!0);for(let l=0,o=input.readInt(!0);l<o;l++){let l=input.readStringRef();if(!l)throw new Error("Attachment name must not be null");let o=this.readAttachment(input,e,n,t,l,r);o&&n.setAttachment(t,l,o)}}return n}readAttachment(input,e,t,r,l,o){let d=this.scale,h=input.readStringRef();switch(h||(h=l),input.readByte()){case n.Region:{let path=input.readStringRef(),e=input.readFloat(),r=input.readFloat(),n=input.readFloat(),l=input.readFloat(),o=input.readFloat(),c=input.readFloat(),f=input.readFloat(),m=input.readInt32(),I=this.readSequence(input);path||(path=h);let F=this.attachmentLoader.newRegionAttachment(t,h,path,I);return F?(F.path=path,F.x=r*d,F.y=n*d,F.scaleX=l,F.scaleY=o,F.rotation=e,F.width=c*d,F.height=f*d,B.a.rgba8888ToColor(F.color,m),F.sequence=I,null==I&&F.updateRegion(),F):null}case n.BoundingBox:{let e=input.readInt(!0),r=this.readVertices(input,e),n=o?input.readInt32():0,l=this.attachmentLoader.newBoundingBoxAttachment(t,h);return l?(l.worldVerticesLength=e<<1,l.vertices=r.vertices,l.bones=r.bones,o&&B.a.rgba8888ToColor(l.color,n),l):null}case n.Mesh:{let path=input.readStringRef(),e=input.readInt32(),r=input.readInt(!0),n=this.readFloatArray(input,r<<1,1),l=this.readShortArray(input),c=this.readVertices(input,r),f=input.readInt(!0),m=this.readSequence(input),I=[],F=0,w=0;o&&(I=this.readShortArray(input),F=input.readFloat(),w=input.readFloat()),path||(path=h);let y=this.attachmentLoader.newMeshAttachment(t,h,path,m);return y?(y.path=path,B.a.rgba8888ToColor(y.color,e),y.bones=c.bones,y.vertices=c.vertices,y.worldVerticesLength=r<<1,y.triangles=l,y.regionUVs=n,null==m&&y.updateRegion(),y.hullLength=f<<1,y.sequence=m,o&&(y.edges=I,y.width=F*d,y.height=w*d),y):null}case n.LinkedMesh:{let path=input.readStringRef(),e=input.readInt32(),n=input.readStringRef(),l=input.readStringRef(),c=input.readBoolean(),f=this.readSequence(input),m=0,I=0;o&&(m=input.readFloat(),I=input.readFloat()),path||(path=h);let F=this.attachmentLoader.newMeshAttachment(t,h,path,f);return F?(F.path=path,B.a.rgba8888ToColor(F.color,e),F.sequence=f,o&&(F.width=m*d,F.height=I*d),this.linkedMeshes.push(new A(F,n,r,l,c)),F):null}case n.Path:{let e=input.readBoolean(),r=input.readBoolean(),n=input.readInt(!0),l=this.readVertices(input,n),c=B.k.newArray(n/3,0);for(let i=0,e=c.length;i<e;i++)c[i]=input.readFloat()*d;let f=o?input.readInt32():0,path=this.attachmentLoader.newPathAttachment(t,h);return path?(path.closed=e,path.constantSpeed=r,path.worldVerticesLength=n<<1,path.vertices=l.vertices,path.bones=l.bones,path.lengths=c,o&&B.a.rgba8888ToColor(path.color,f),path):null}case n.Point:{let e=input.readFloat(),r=input.readFloat(),n=input.readFloat(),l=o?input.readInt32():0,c=this.attachmentLoader.newPointAttachment(t,h);return c?(c.x=r*d,c.y=n*d,c.rotation=e,o&&B.a.rgba8888ToColor(c.color,l),c):null}case n.Clipping:{let r=input.readInt(!0),n=input.readInt(!0),l=this.readVertices(input,n),d=o?input.readInt32():0,c=this.attachmentLoader.newClippingAttachment(t,h);return c?(c.endSlot=e.slots[r],c.worldVerticesLength=n<<1,c.vertices=l.vertices,c.bones=l.bones,o&&B.a.rgba8888ToColor(c.color,d),c):null}}return null}readSequence(input){if(!input.readBoolean())return null;let e=new o.a(input.readInt(!0));return e.start=input.readInt(!0),e.digits=input.readInt(!0),e.setupIndex=input.readInt(!0),e}readVertices(input,e){let t=this.scale,r=e<<1,n=new x;if(!input.readBoolean())return n.vertices=this.readFloatArray(input,r,t),n;let l=new Array,o=new Array;for(let i=0;i<e;i++){let e=input.readInt(!0);o.push(e);for(let r=0;r<e;r++)o.push(input.readInt(!0)),l.push(input.readFloat()*t),l.push(input.readFloat()*t),l.push(input.readFloat())}return n.vertices=B.k.toFloatArray(l),n.bones=o,n}readFloatArray(input,e,t){let r=new Array(e);if(1==t)for(let i=0;i<e;i++)r[i]=input.readFloat();else for(let i=0;i<e;i++)r[i]=input.readFloat()*t;return r}readShortArray(input){let e=input.readInt(!0),t=new Array(e);for(let i=0;i<e;i++)t[i]=input.readShort();return t}readAnimation(input,e,t){input.readInt(!0);let r=new Array,n=this.scale;new B.a,new B.a;for(let i=0,e=input.readInt(!0);i<e;i++){let e=input.readInt(!0);for(let t=0,n=input.readInt(!0);t<n;t++){let t=input.readByte(),n=input.readInt(!0),o=n-1;switch(t){case z:{let t=new l.c(n,e);for(let e=0;e<n;e++)t.setFrame(e,input.readFloat(),input.readStringRef());r.push(t);break}case O:{let t=input.readInt(!0),d=new l.r(n,t,e),time=input.readFloat(),h=input.readUnsignedByte()/255,g=input.readUnsignedByte()/255,b=input.readUnsignedByte()/255,a=input.readUnsignedByte()/255;for(let e=0,t=0;d.setFrame(e,time,h,g,b,a),e!=o;e++){let r=input.readFloat(),n=input.readUnsignedByte()/255,l=input.readUnsignedByte()/255,o=input.readUnsignedByte()/255,c=input.readUnsignedByte()/255;switch(input.readByte()){case Q:d.setStepped(e);break;case Z:P(input,d,t++,e,0,time,r,h,n,1),P(input,d,t++,e,1,time,r,g,l,1),P(input,d,t++,e,2,time,r,b,o,1),P(input,d,t++,e,3,time,r,a,c,1)}time=r,h=n,g=l,b=o,a=c}r.push(d);break}case _:{let t=input.readInt(!0),d=new l.s(n,t,e),time=input.readFloat(),h=input.readUnsignedByte()/255,g=input.readUnsignedByte()/255,b=input.readUnsignedByte()/255;for(let e=0,t=0;d.setFrame(e,time,h,g,b),e!=o;e++){let r=input.readFloat(),n=input.readUnsignedByte()/255,l=input.readUnsignedByte()/255,o=input.readUnsignedByte()/255;switch(input.readByte()){case Q:d.setStepped(e);break;case Z:P(input,d,t++,e,0,time,r,h,n,1),P(input,d,t++,e,1,time,r,g,l,1),P(input,d,t++,e,2,time,r,b,o,1)}time=r,h=n,g=l,b=o}r.push(d);break}case D:{let t=input.readInt(!0),d=new l.q(n,t,e),time=input.readFloat(),h=input.readUnsignedByte()/255,g=input.readUnsignedByte()/255,b=input.readUnsignedByte()/255,a=input.readUnsignedByte()/255,c=input.readUnsignedByte()/255,f=input.readUnsignedByte()/255,m=input.readUnsignedByte()/255;for(let e=0,t=0;d.setFrame(e,time,h,g,b,a,c,f,m),e!=o;e++){let r=input.readFloat(),n=input.readUnsignedByte()/255,l=input.readUnsignedByte()/255,o=input.readUnsignedByte()/255,I=input.readUnsignedByte()/255,F=input.readUnsignedByte()/255,w=input.readUnsignedByte()/255,y=input.readUnsignedByte()/255;switch(input.readByte()){case Q:d.setStepped(e);break;case Z:P(input,d,t++,e,0,time,r,h,n,1),P(input,d,t++,e,1,time,r,g,l,1),P(input,d,t++,e,2,time,r,b,o,1),P(input,d,t++,e,3,time,r,a,I,1),P(input,d,t++,e,4,time,r,c,F,1),P(input,d,t++,e,5,time,r,f,w,1),P(input,d,t++,e,6,time,r,m,y,1)}time=r,h=n,g=l,b=o,a=I,c=F,f=w,m=y}r.push(d);break}case G:{let t=input.readInt(!0),d=new l.p(n,t,e),time=input.readFloat(),h=input.readUnsignedByte()/255,g=input.readUnsignedByte()/255,b=input.readUnsignedByte()/255,c=input.readUnsignedByte()/255,f=input.readUnsignedByte()/255,m=input.readUnsignedByte()/255;for(let e=0,t=0;d.setFrame(e,time,h,g,b,c,f,m),e!=o;e++){let r=input.readFloat(),n=input.readUnsignedByte()/255,l=input.readUnsignedByte()/255,o=input.readUnsignedByte()/255,I=input.readUnsignedByte()/255,F=input.readUnsignedByte()/255,w=input.readUnsignedByte()/255;switch(input.readByte()){case Q:d.setStepped(e);break;case Z:P(input,d,t++,e,0,time,r,h,n,1),P(input,d,t++,e,1,time,r,g,l,1),P(input,d,t++,e,2,time,r,b,o,1),P(input,d,t++,e,3,time,r,c,I,1),P(input,d,t++,e,4,time,r,f,F,1),P(input,d,t++,e,5,time,r,m,w,1)}time=r,h=n,g=l,b=o,c=I,f=F,m=w}r.push(d);break}case W:{let t=new l.a(n,input.readInt(!0),e),time=input.readFloat(),a=input.readUnsignedByte()/255;for(let e=0,r=0;t.setFrame(e,time,a),e!=o;e++){let n=input.readFloat(),l=input.readUnsignedByte()/255;switch(input.readByte()){case Q:t.setStepped(e);break;case Z:P(input,t,r++,e,0,time,n,a,l,1)}time=n,a=l}r.push(t)}}}}for(let i=0,e=input.readInt(!0);i<e;i++){let e=input.readInt(!0);for(let t=0,o=input.readInt(!0);t<o;t++){let t=input.readByte(),o=input.readInt(!0),d=input.readInt(!0);switch(t){case V:r.push(U(input,new l.t(o,d,e),1));break;case Y:r.push(C(input,new l.D(o,d,e),n));break;case E:r.push(U(input,new l.E(o,d,e),n));break;case T:r.push(U(input,new l.F(o,d,e),n));break;case M:r.push(C(input,new l.u(o,d,e),1));break;case N:r.push(U(input,new l.v(o,d,e),1));break;case R:r.push(U(input,new l.w(o,d,e),1));break;case v:r.push(C(input,new l.y(o,d,e),1));break;case X:r.push(U(input,new l.z(o,d,e),1));break;case L:r.push(U(input,new l.A(o,d,e),1))}}}for(let i=0,e=input.readInt(!0);i<e;i++){let e=input.readInt(!0),t=input.readInt(!0),o=t-1,d=new l.j(t,input.readInt(!0),e),time=input.readFloat(),h=input.readFloat(),c=input.readFloat()*n;for(let e=0,t=0;d.setFrame(e,time,h,c,input.readByte(),input.readBoolean(),input.readBoolean()),e!=o;e++){let r=input.readFloat(),l=input.readFloat(),o=input.readFloat()*n;switch(input.readByte()){case Q:d.setStepped(e);break;case Z:P(input,d,t++,e,0,time,r,h,l,1),P(input,d,t++,e,1,time,r,c,o,n)}time=r,h=l,c=o}r.push(d)}for(let i=0,e=input.readInt(!0);i<e;i++){let e=input.readInt(!0),t=input.readInt(!0),n=t-1,o=new l.C(t,input.readInt(!0),e),time=input.readFloat(),d=input.readFloat(),h=input.readFloat(),c=input.readFloat(),f=input.readFloat(),m=input.readFloat(),I=input.readFloat();for(let e=0,t=0;o.setFrame(e,time,d,h,c,f,m,I),e!=n;e++){let r=input.readFloat(),n=input.readFloat(),l=input.readFloat(),F=input.readFloat(),w=input.readFloat(),y=input.readFloat(),B=input.readFloat();switch(input.readByte()){case Q:o.setStepped(e);break;case Z:P(input,o,t++,e,0,time,r,d,n,1),P(input,o,t++,e,1,time,r,h,l,1),P(input,o,t++,e,2,time,r,c,F,1),P(input,o,t++,e,3,time,r,f,w,1),P(input,o,t++,e,4,time,r,m,y,1),P(input,o,t++,e,5,time,r,I,B,1)}time=r,d=n,h=l,c=F,f=w,m=y,I=B}r.push(o)}for(let i=0,e=input.readInt(!0);i<e;i++){let e=input.readInt(!0),data=t.pathConstraints[e];for(let t=0,o=input.readInt(!0);t<o;t++)switch(input.readByte()){case H:r.push(U(input,new l.n(input.readInt(!0),input.readInt(!0),e),data.positionMode==m.b.Fixed?n:1));break;case K:r.push(U(input,new l.o(input.readInt(!0),input.readInt(!0),e),data.spacingMode==m.d.Length||data.spacingMode==m.d.Fixed?n:1));break;case $:let t=new l.m(input.readInt(!0),input.readInt(!0),e),time=input.readFloat(),o=input.readFloat(),d=input.readFloat(),h=input.readFloat();for(let e=0,r=0,n=t.getFrameCount()-1;t.setFrame(e,time,o,d,h),e!=n;e++){let n=input.readFloat(),l=input.readFloat(),c=input.readFloat(),f=input.readFloat();switch(input.readByte()){case Q:t.setStepped(e);break;case Z:P(input,t,r++,e,0,time,n,o,l,1),P(input,t,r++,e,1,time,n,d,c,1),P(input,t,r++,e,2,time,n,h,f,1)}time=n,o=l,d=c,h=f}r.push(t)}}for(let i=0,e=input.readInt(!0);i<e;i++){let e=t.skins[input.readInt(!0)];for(let t=0,d=input.readInt(!0);t<d;t++){let t=input.readInt(!0);for(let d=0,h=input.readInt(!0);d<h;d++){let d=input.readStringRef();if(!d)throw new Error("attachmentName must not be null.");let h=e.getAttachment(t,d),c=input.readByte(),f=input.readInt(!0),m=f-1;switch(c){case J:{let e=h,o=e.bones,d=e.vertices,c=o?d.length/3*2:d.length,I=input.readInt(!0),F=new l.g(f,I,t,e),time=input.readFloat();for(let e=0,t=0;;e++){let r,l=input.readInt(!0);if(0==l)r=o?B.k.newFloatArray(c):d;else{r=B.k.newFloatArray(c);let e=input.readInt(!0);if(l+=e,1==n)for(let t=e;t<l;t++)r[t]=input.readFloat();else for(let t=e;t<l;t++)r[t]=input.readFloat()*n;if(!o)for(let e=0,t=r.length;e<t;e++)r[e]+=d[e]}if(F.setFrame(e,time,r),e==m)break;let h=input.readFloat();switch(input.readByte()){case Q:F.setStepped(e);break;case Z:P(input,F,t++,e,0,time,h,0,1,1)}time=h}r.push(F);break}case j:{let e=new l.x(f,t,h);for(let t=0;t<f;t++){let time=input.readFloat(),r=input.readInt32();e.setFrame(t,time,o.c[15&r],r>>4,input.readFloat())}r.push(e);break}}}}}let d=input.readInt(!0);if(d>0){let e=new l.h(d),n=t.slots.length;for(let i=0;i<d;i++){let time=input.readFloat(),t=input.readInt(!0),r=B.k.newArray(n,0);for(let e=n-1;e>=0;e--)r[e]=-1;let l=B.k.newArray(n-t,0),o=0,d=0;for(let e=0;e<t;e++){let e=input.readInt(!0);for(;o!=e;)l[d++]=o++;r[o+input.readInt(!0)]=o++}for(;o<n;)l[d++]=o++;for(let e=n-1;e>=0;e--)-1==r[e]&&(r[e]=l[--d]);e.setFrame(i,time,r)}r.push(e)}let c=input.readInt(!0);if(c>0){let e=new l.i(c);for(let i=0;i<c;i++){let time=input.readFloat(),r=t.events[input.readInt(!0)],n=new h.a(time,r);n.intValue=input.readInt(!1),n.floatValue=input.readFloat(),n.stringValue=input.readBoolean()?input.readString():r.stringValue,n.data.audioPath&&(n.volume=input.readFloat(),n.balance=input.readFloat()),e.setFrame(i,n)}r.push(e)}let f=0;for(let i=0,e=r.length;i<e;i++)f=Math.max(f,r[i].getDuration());return new l.b(e,r,f)}}class S{constructor(data,e=new Array,t=0,r=new DataView(data.buffer)){this.strings=e,this.index=t,this.buffer=r}readByte(){return this.buffer.getInt8(this.index++)}readUnsignedByte(){return this.buffer.getUint8(this.index++)}readShort(){let e=this.buffer.getInt16(this.index);return this.index+=2,e}readInt32(){let e=this.buffer.getInt32(this.index);return this.index+=4,e}readInt(e){let b=this.readByte(),t=127&b;return 0!=(128&b)&&(b=this.readByte(),t|=(127&b)<<7,0!=(128&b)&&(b=this.readByte(),t|=(127&b)<<14,0!=(128&b)&&(b=this.readByte(),t|=(127&b)<<21,0!=(128&b)&&(b=this.readByte(),t|=(127&b)<<28)))),e?t:t>>>1^-(1&t)}readStringRef(){let e=this.readInt(!0);return 0==e?null:this.strings[e-1]}readString(){let e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;let t="";for(let i=0;i<e;){let b=this.readUnsignedByte();switch(b>>4){case 12:case 13:t+=String.fromCharCode((31&b)<<6|63&this.readByte()),i+=2;break;case 14:t+=String.fromCharCode((15&b)<<12|(63&this.readByte())<<6|63&this.readByte()),i+=3;break;default:t+=String.fromCharCode(b),i++}}return t}readFloat(){let e=this.buffer.getFloat32(this.index);return this.index+=4,e}readBoolean(){return 0!=this.readByte()}}class A{constructor(e,t,r,n,l){this.mesh=e,this.skin=t,this.slotIndex=r,this.parent=n,this.inheritTimeline=l}}class x{constructor(e=null,t=null){this.bones=e,this.vertices=t}}function U(input,e,t){let time=input.readFloat(),r=input.readFloat()*t;for(let n=0,l=0,o=e.getFrameCount()-1;e.setFrame(n,time,r),n!=o;n++){let o=input.readFloat(),d=input.readFloat()*t;switch(input.readByte()){case Q:e.setStepped(n);break;case Z:P(input,e,l++,n,0,time,o,r,d,t)}time=o,r=d}return e}function C(input,e,t){let time=input.readFloat(),r=input.readFloat()*t,n=input.readFloat()*t;for(let l=0,o=0,d=e.getFrameCount()-1;e.setFrame(l,time,r,n),l!=d;l++){let d=input.readFloat(),h=input.readFloat()*t,c=input.readFloat()*t;switch(input.readByte()){case Q:e.setStepped(l);break;case Z:P(input,e,o++,l,0,time,d,r,h,t),P(input,e,o++,l,1,time,d,n,c,t)}time=d,r=h,n=c}return e}function P(input,e,t,r,n,l,o,d,h,c){e.setBezier(t,r,n,l,d,input.readFloat(),input.readFloat()*c,input.readFloat(),input.readFloat()*c,o,h)}!function(e){e[e.Region=0]="Region",e[e.BoundingBox=1]="BoundingBox",e[e.Mesh=2]="Mesh",e[e.LinkedMesh=3]="LinkedMesh",e[e.Path=4]="Path",e[e.Point=5]="Point",e[e.Clipping=6]="Clipping"}(n||(n={}));const V=0,Y=1,E=2,T=3,M=4,N=5,R=6,v=7,X=8,L=9,z=0,O=1,_=2,D=3,G=4,W=5,J=0,j=1,H=0,K=1,$=2,Q=1,Z=2},1242:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(424),l=r(7);class o{constructor(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new l.f((()=>l.k.newFloatArray(16)))}update(e,t){if(!e)throw new Error("skeleton cannot be null.");let r=this.boundingBoxes,o=this.polygons,d=this.polygonPool,h=e.slots,c=h.length;r.length=0,d.freeAll(o),o.length=0;for(let i=0;i<c;i++){let slot=h[i];if(!slot.bone.active)continue;let e=slot.getAttachment();if(e instanceof n.a){let t=e;r.push(t);let polygon=d.obtain();polygon.length!=t.worldVerticesLength&&(polygon=l.k.newFloatArray(t.worldVerticesLength)),o.push(polygon),t.computeWorldVertices(slot,0,t.worldVerticesLength,polygon,0,2)}}t?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}aabbCompute(){let e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,l=this.polygons;for(let i=0,o=l.length;i<o;i++){let polygon=l[i],o=polygon;for(let l=0,d=polygon.length;l<d;l+=2){let d=o[l],h=o[l+1];e=Math.min(e,d),t=Math.min(t,h),r=Math.max(r,d),n=Math.max(n,h)}}this.minX=e,this.minY=t,this.maxX=r,this.maxY=n}aabbContainsPoint(e,t){return e>=this.minX&&e<=this.maxX&&t>=this.minY&&t<=this.maxY}aabbIntersectsSegment(e,t,r,n){let l=this.minX,o=this.minY,d=this.maxX,h=this.maxY;if(e<=l&&r<=l||t<=o&&n<=o||e>=d&&r>=d||t>=h&&n>=h)return!1;let c=(n-t)/(r-e),f=c*(l-e)+t;if(f>o&&f<h)return!0;if(f=c*(d-e)+t,f>o&&f<h)return!0;let m=(o-t)/c+e;return m>l&&m<d||(m=(h-t)/c+e,m>l&&m<d)}aabbIntersectsSkeleton(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY}containsPoint(e,t){let r=this.polygons;for(let i=0,n=r.length;i<n;i++)if(this.containsPointPolygon(r[i],e,t))return this.boundingBoxes[i];return null}containsPointPolygon(polygon,e,t){let r=polygon,n=polygon.length,l=n-2,o=!1;for(let d=0;d<n;d+=2){let n=r[d+1],h=r[l+1];if(n<t&&h>=t||h<t&&n>=t){let c=r[d];c+(t-n)/(h-n)*(r[l]-c)<e&&(o=!o)}l=d}return o}intersectsSegment(e,t,r,n){let l=this.polygons;for(let i=0,o=l.length;i<o;i++)if(this.intersectsSegmentPolygon(l[i],e,t,r,n))return this.boundingBoxes[i];return null}intersectsSegmentPolygon(polygon,e,t,r,n){let l=polygon,o=polygon.length,d=e-r,h=t-n,c=e*n-t*r,f=l[o-2],m=l[o-1];for(let I=0;I<o;I+=2){let o=l[I],F=l[I+1],w=f*F-m*o,y=f-o,B=m-F,k=d*B-h*y,S=(c*y-d*w)/k;if((S>=f&&S<=o||S>=o&&S<=f)&&(S>=e&&S<=r||S>=r&&S<=e)){let e=(c*B-h*w)/k;if((e>=m&&e<=F||e>=F&&e<=m)&&(e>=t&&e<=n||e>=n&&e<=t))return!0}f=o,m=F}return!1}getPolygon(e){if(!e)throw new Error("boundingBox cannot be null.");let t=this.boundingBoxes.indexOf(e);return-1==t?null:this.polygons[t]}getWidth(){return this.maxX-this.minX}getHeight(){return this.maxY-this.minY}}},1243:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(654),l=r(7);class o{constructor(){this.triangulator=new n.a,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array,this.clipAttachment=null,this.clippingPolygons=null}clipStart(slot,e){if(this.clipAttachment)return 0;this.clipAttachment=e;let t=e.worldVerticesLength,r=l.k.setArraySize(this.clippingPolygon,t);e.computeWorldVertices(slot,0,t,r,0,2);let n=this.clippingPolygon;o.makeClockwise(n);let d=this.clippingPolygons=this.triangulator.decompose(n,this.triangulator.triangulate(n));for(let i=0,e=d.length;i<e;i++){let polygon=d[i];o.makeClockwise(polygon),polygon.push(polygon[0]),polygon.push(polygon[1])}return d.length}clipEndWithSlot(slot){this.clipAttachment&&this.clipAttachment.endSlot==slot.data&&this.clipEnd()}clipEnd(){this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)}isClipping(){return null!=this.clipAttachment}clipTriangles(e,t,r,n,o,d,h,c){let f=this.clipOutput,m=this.clippedVertices,I=this.clippedTriangles,F=this.clippingPolygons,w=F.length,y=c?12:8,B=0;m.length=0,I.length=0;e:for(let i=0;i<n;i+=3){let t=r[i]<<1,n=e[t],k=e[t+1],S=o[t],A=o[t+1];t=r[i+1]<<1;let x=e[t],U=e[t+1],C=o[t],P=o[t+1];t=r[i+2]<<1;let V=e[t],Y=e[t+1],E=o[t],T=o[t+1];for(let p=0;p<w;p++){let s=m.length;if(!this.clip(n,k,x,U,V,Y,F[p],f)){let e=l.k.setArraySize(m,s+3*y);e[s]=n,e[s+1]=k,e[s+2]=d.r,e[s+3]=d.g,e[s+4]=d.b,e[s+5]=d.a,c?(e[s+6]=S,e[s+7]=A,e[s+8]=h.r,e[s+9]=h.g,e[s+10]=h.b,e[s+11]=h.a,e[s+12]=x,e[s+13]=U,e[s+14]=d.r,e[s+15]=d.g,e[s+16]=d.b,e[s+17]=d.a,e[s+18]=C,e[s+19]=P,e[s+20]=h.r,e[s+21]=h.g,e[s+22]=h.b,e[s+23]=h.a,e[s+24]=V,e[s+25]=Y,e[s+26]=d.r,e[s+27]=d.g,e[s+28]=d.b,e[s+29]=d.a,e[s+30]=E,e[s+31]=T,e[s+32]=h.r,e[s+33]=h.g,e[s+34]=h.b,e[s+35]=h.a):(e[s+6]=S,e[s+7]=A,e[s+8]=x,e[s+9]=U,e[s+10]=d.r,e[s+11]=d.g,e[s+12]=d.b,e[s+13]=d.a,e[s+14]=C,e[s+15]=P,e[s+16]=V,e[s+17]=Y,e[s+18]=d.r,e[s+19]=d.g,e[s+20]=d.b,e[s+21]=d.a,e[s+22]=E,e[s+23]=T),s=I.length;let t=l.k.setArraySize(I,s+3);t[s]=B,t[s+1]=B+1,t[s+2]=B+2,B+=3;continue e}{let e=f.length;if(0==e)continue;let t=U-Y,r=V-x,o=n-V,F=Y-k,w=1/(t*o+r*(k-Y)),M=e>>1,N=this.clipOutput,R=l.k.setArraySize(m,s+M*y);for(let n=0;n<e;n+=2){let e=N[n],l=N[n+1];R[s]=e,R[s+1]=l,R[s+2]=d.r,R[s+3]=d.g,R[s+4]=d.b,R[s+5]=d.a;let f=e-V,m=l-Y,a=(t*f+r*m)*w,b=(F*f+o*m)*w,I=1-a-b;R[s+6]=S*a+C*b+E*I,R[s+7]=A*a+P*b+T*I,c&&(R[s+8]=h.r,R[s+9]=h.g,R[s+10]=h.b,R[s+11]=h.a),s+=y}s=I.length;let v=l.k.setArraySize(I,s+3*(M-2));M--;for(let e=1;e<M;e++)v[s]=B,v[s+1]=B+e,v[s+2]=B+e+1,s+=3;B+=M+1}}}}clip(e,t,r,n,l,o,d,output){let input,h=output,c=!1;d.length%4>=2?(input=output,output=this.scratch):input=this.scratch,input.length=0,input.push(e),input.push(t),input.push(r),input.push(n),input.push(l),input.push(o),input.push(e),input.push(t),output.length=0;let f=d,m=d.length-4;for(let i=0;;i+=2){let e=f[i],t=f[i+1],r=f[i+2],n=f[i+3],l=e-r,o=t-n,d=input,I=input.length-2,F=output.length;for(let h=0;h<I;h+=2){let f=d[h],m=d[h+1],I=d[h+2],F=d[h+3],w=l*(F-n)-o*(I-r)>0;if(l*(m-n)-o*(f-r)>0){if(w){output.push(I),output.push(F);continue}let l=F-m,o=I-f,s=l*(r-e)-o*(n-t);if(Math.abs(s)>1e-6){let d=(o*(t-m)-l*(e-f))/s;output.push(e+(r-e)*d),output.push(t+(n-t)*d)}else output.push(e),output.push(t)}else if(w){let l=F-m,o=I-f,s=l*(r-e)-o*(n-t);if(Math.abs(s)>1e-6){let d=(o*(t-m)-l*(e-f))/s;output.push(e+(r-e)*d),output.push(t+(n-t)*d)}else output.push(e),output.push(t);output.push(I),output.push(F)}c=!0}if(F==output.length)return h.length=0,!0;if(output.push(output[0]),output.push(output[1]),i==m)break;let w=output;(output=input).length=0,input=w}if(h!=output){h.length=0;for(let i=0,e=output.length-2;i<e;i++)h[i]=output[i]}else h.length=h.length-2;return c}static makeClockwise(polygon){let e=polygon,t=polygon.length,area=e[t-2]*e[1]-e[0]*e[t-1],r=0,n=0,l=0,o=0;for(let i=0,d=t-3;i<d;i+=2)r=e[i],n=e[i+1],l=e[i+2],o=e[i+3],area+=r*o-l*n;if(!(area<0))for(let i=0,r=t-2,n=t>>1;i<n;i+=2){let t=e[i],n=e[i+1],l=r-i;e[i]=e[l],e[i+1]=e[l+1],e[l]=t,e[l+1]=n}}}}}]);