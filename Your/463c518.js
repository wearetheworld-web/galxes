(window.webpackJsonp=window.webpackJsonp||[]).push([[1135],{1251:function(t,e){t.exports=function(){return"/* This file automatically generated by jsonToless() and LESS. */\n.apg-mono {\n  font-family: monospace;\n}\n.apg-active {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-match {\n  font-weight: bold;\n  color: #264BFF;\n}\n.apg-empty {\n  font-weight: bold;\n  color: #0fbd0f;\n}\n.apg-nomatch {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-lh-match {\n  font-weight: bold;\n  color: #1A97BA;\n}\n.apg-lb-match {\n  font-weight: bold;\n  color: #5F1687;\n}\n.apg-remainder {\n  font-weight: bold;\n  color: #999999;\n}\n.apg-ctrl-char {\n  font-weight: bolder;\n  font-style: italic;\n  font-size: 0.6em;\n}\n.apg-line-end {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-error {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-phrase {\n  color: #000000;\n  background-color: #8caae6;\n}\n.apg-empty-phrase {\n  color: #0fbd0f;\n}\ntable.apg-state {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th,\ntable.apg-state td {\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th:nth-last-child(2),\ntable.apg-state td:nth-last-child(2) {\n  text-align: right;\n}\ntable.apg-state caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-stats {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats th,\ntable.apg-stats td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace th,\ntable.apg-trace td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace th:last-child,\ntable.apg-trace th:nth-last-child(2),\ntable.apg-trace td:last-child,\ntable.apg-trace td:nth-last-child(2) {\n  text-align: left;\n}\ntable.apg-grammar {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-grammar th,\ntable.apg-grammar td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar th:last-child,\ntable.apg-grammar td:last-child {\n  text-align: left;\n}\ntable.apg-rules {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-rules th,\ntable.apg-rules td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules a {\n  color: #003399 !important;\n}\ntable.apg-rules a:hover {\n  color: #8caae6 !important;\n}\ntable.apg-attrs {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-attrs th,\ntable.apg-attrs td {\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs th:nth-child(1),\ntable.apg-attrs th:nth-child(2),\ntable.apg-attrs th:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs td:nth-child(1),\ntable.apg-attrs td:nth-child(2),\ntable.apg-attrs td:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs a {\n  color: #003399 !important;\n}\ntable.apg-attrs a:hover {\n  color: #8caae6 !important;\n}\n"}},1252:function(t,e){t.exports=function(){let t=-1,e=0;this.init=function(n){if("number"!=typeof n||n<=0)throw new Error("circular-buffer.js: init: circular buffer size must an integer > 0");e=Math.ceil(n),t=-1},this.increment=function(){return t+=1,(t+e)%e},this.maxSize=function(){return e},this.items=function(){return t+1},this.getListIndex=function(n){return-1===t||n<0||n>t||t-n>=e?-1:(n+e)%e},this.forEach=function(n){if(-1!==t)if(t<e)for(let i=0;i<=t;i+=1)n(i,i);else for(let i=t-e+1;i<=t;i+=1){n((i+e)%e,i)}}}},2230:function(t,e,n){t.exports=function(){const t=n(247),e=n(410),r=this;let o=null,l=null,h=null,c=0;const d=[],f=[],A=[],T=[];function m(t){let e="";for(let i=0;i<t;i+=1)e+=" ";return e}this.callbacks=[],this.astObject="astObject",this.init=function(t,e,n){let i;A.length=0,T.length=0,d.length=0,c=0,o=t,l=e,h=n;const m=[];for(i=0;i<o.length;i+=1)m.push(o[i].lower);for(i=0;i<l.length;i+=1)m.push(l[i].lower);for(c=o.length+l.length,i=0;i<c;i+=1)d[i]=!1,f[i]=null;for(const t in r.callbacks){const e=t.toLowerCase();if(i=m.indexOf(e),i<0)throw new Error(`ast.js: init: node '${t}' not a rule or udt name`);"function"==typeof r.callbacks[t]&&(d[i]=!0,f[i]=r.callbacks[t]),!0===r.callbacks[t]&&(d[i]=!0)}},this.ruleDefined=function(t){return!1!==d[t]},this.udtDefined=function(t){return!1!==d[o.length+t]},this.down=function(e,n){const r=T.length;return A.push(r),T.push({name:n,thisIndex:r,thatIndex:null,state:t.SEM_PRE,callbackIndex:e,phraseIndex:null,phraseLength:null,stack:A.length}),r},this.up=function(e,n,r,o){const l=T.length,h=A.pop();return T.push({name:n,thisIndex:l,thatIndex:h,state:t.SEM_POST,callbackIndex:e,phraseIndex:r,phraseLength:o,stack:A.length}),T[h].thatIndex=l,T[h].phraseIndex=r,T[h].phraseLength=o,l},this.translate=function(data){let e,n,r;for(let i=0;i<T.length;i+=1)r=T[i],n=f[r.callbackIndex],r.state===t.SEM_PRE?null!==n&&(e=n(t.SEM_PRE,h,r.phraseIndex,r.phraseLength,data),e===t.SEM_SKIP&&(i=r.thatIndex)):null!==n&&n(t.SEM_POST,h,r.phraseIndex,r.phraseLength,data)},this.setLength=function(t){T.length=t,A.length=t>0?T[t-1].stack:0},this.getLength=function(){return T.length},this.toXml=function(n){let r=e.charsToDec,caption="decimal integer character codes";if("string"==typeof n&&n.length>=3){const t=n.slice(0,3).toLowerCase();"asc"===t?(r=e.charsToAscii,caption="ASCII for printing characters, hex for non-printing"):"hex"===t?(r=e.charsToHex,caption="hexadecimal integer character codes"):"uni"===t&&(r=e.charsToUnicode,caption="Unicode UTF-32 integer character codes")}let o="",l=0;return o+='<?xml version="1.0" encoding="utf-8"?>\n',o+=`<root nodes="${T.length/2}" characters="${h.length}">\n`,o+=`\x3c!-- input string, ${caption} --\x3e\n`,o+=m(l+2),o+=r(h),o+="\n",T.forEach((e=>{e.state===t.SEM_PRE?(l+=1,o+=m(l),o+=`<node name="${e.name}" index="${e.phraseIndex}" length="${e.phraseLength}">\n`,o+=m(l+2),o+=r(h,e.phraseIndex,e.phraseLength),o+="\n"):(o+=m(l),o+=`</node>\x3c!-- name="${e.name}" --\x3e\n`,l-=1)})),o+="</root>\n",o},this.phrases=function(){const e={};let i,n;for(i=0;i<T.length;i+=1)n=T[i],n.state===t.SEM_PRE&&(Array.isArray(e[n.name])||(e[n.name]=[]),e[n.name].push({index:n.phraseIndex,length:n.phraseLength}));return e}}},2232:function(t,e,n){t.exports=function(){const t=n(247),e=n(410),r="parser.js: ",o=this;let l;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let h,c,d,f,A=null,T=null,m=0,C=0,E=0,S=null,L=null,M=null,$=null,w=null,x=0,N=1/0,k=1/0;const O=function(e,n,o){const h=`${r}evaluateRule(): `;if(e>=M.length)throw new Error(`${h}rule index: ${e} out of range`);if(n>=d)throw new Error(`${h}phrase index: ${n} out of range`);const{length:c}=A;A.push({type:t.RNM,index:e}),l(c,n,o),A.pop()},H=function(e,n,o){const h=`${r}evaluateUdt(): `;if(e>=$.length)throw new Error(`${h}udt index: ${e} out of range`);if(n>=d)throw new Error(`${h}phrase index: ${n} out of range`);const{length:c}=A;A.push({type:t.UDT,empty:$[e].empty,index:e}),l(c,n,o),A.pop()},R=function(){m=0,C=0,E=0,x=0,f=[{lookAround:t.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],M=null,$=null,T=null,h=0,c=0,d=0,S=null,L=null,w=null,A=null},D=function(){const t=[];this.push=function(){t.push(function(){const e=t[t.length-1],n={};for(const t in e)n[t]=e[t];return n}())},this.pop=function(e){let n=e;if(n||(n=t.length-1),n<1||n>t.length)throw new Error(`${r}backRef.pop(): bad length: ${n}`);return t.length=n,t[t.length-1]},this.length=function(){return t.length},this.savePhrase=function(e,n,r){t[t.length-1][e]={phraseIndex:n,phraseLength:r}},this.getPhrase=function(e){return t[t.length-1][e]},function(){const e={};M.forEach((t=>{t.isBkr&&(e[t.lower]=null)})),$.length>0&&$.forEach((t=>{t.isBkr&&(e[t.lower]=null)})),t.push(e)}()},y=function(){const e=this;this.state=t.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=f[f.length-1],this.uFrame=new D,this.pFrame=new D,this.evaluateRule=O,this.evaluateUdt=H,this.refresh=function(){e.state=t.ACTIVE,e.phraseLength=0,e.lookAround=f[f.length-1]}},_=function(){return f[f.length-1]},B=function(){return f.length>1},P=function(t,n,o){const l=`${r}initializeInputChars(): `;let input=t,f=n,A=o;if(void 0===input)throw new Error(`${l}input string is undefined`);if(null===input)throw new Error(`${l}input string is null`);if("string"==typeof input)input=e.stringToChars(input);else if(!Array.isArray(input))throw new Error(`${l}input string is not a string or array`);if(input.length>0&&"number"!=typeof input[0])throw new Error(`${l}input string not an array of integers`);if("number"!=typeof f)f=0;else if(f=Math.floor(f),f<0||f>input.length)throw new Error(`${l}input beginning index out of range: ${f}`);if("number"!=typeof A)A=input.length-f;else if(A=Math.floor(A),A<0||A>input.length-f)throw new Error(`${l}input length out of range: ${A}`);T=input,h=f,c=A,d=h+c};this.setMaxTreeDepth=function(t){if("number"!=typeof t)throw new Error(`parser: max tree depth must be integer > 0: ${t}`);if(N=Math.floor(t),N<=0)throw new Error(`parser: max tree depth must be integer > 0: ${t}`)},this.setMaxNodeHits=function(t){if("number"!=typeof t)throw new Error(`parser: max node hits must be integer > 0: ${t}`);if(k=Math.floor(t),k<=0)throw new Error(`parser: max node hits must be integer > 0: ${t}`)};const I=function(e,n,f){let m;const N=`${r}parse(): `;!function(t){const e=`${r}initializeGrammar(): `;if(!t)throw new Error(`${e}grammar object undefined`);if("grammarObject"!==t.grammarObject)throw new Error(`${e}bad grammar object`);M=t.rules,$=t.udts}(e);const k=function(t){const e=`${r}initializeStartRule(): `;let n=null;if("number"==typeof t){if(t>=M.length)throw new Error(`${e}start rule index too large: max: ${M.length}: index: ${t}`);n=t}else{if("string"!=typeof t)throw new Error(`${e}type of start rule '${typeof t}' not recognized`);{const r=t.toLowerCase();for(let i=0;i<M.length;i+=1)if(r===M[i].lower){n=M[i].index;break}if(null===n)throw new Error(`${e}start rule name '${t}' not recognized`)}}return n}(n);!function(){const t=`${r}initializeCallbacks(): `;let i,e;for(S=[],L=[],i=0;i<M.length;i+=1)S[i]=null;for(i=0;i<$.length;i+=1)L[i]=null;const n=[];for(i=0;i<M.length;i+=1)n.push(M[i].lower);for(i=0;i<$.length;i+=1)n.push($[i].lower);for(const r in o.callbacks){if(i=n.indexOf(r.toLowerCase()),i<0)throw new Error(`${t}syntax callback '${r}' not a rule or udt name`);if(e=o.callbacks[r],e||(e=null),"function"!=typeof e&&null!==e)throw new Error(`${t}syntax callback[${r}] must be function reference or 'false' (false/null/undefined/etc.)`);i<M.length?S[i]=e:L[i-M.length]=e}for(i=0;i<$.length;i+=1)if(null===L[i])throw new Error(`${t}all UDT callbacks must be defined. UDT callback[${$[i].lower}] not a function reference`)}(),function(){const t=`${r}initializeTrace(): `;for(;;){if(void 0===o.trace){o.trace=null;break}if(null===o.trace)break;if("traceObject"!==o.trace.traceObject)throw new Error(`${t}trace object not recognized`);break}null!==o.trace&&o.trace.init(M,$,T)}(),function(){const t=`${r}initializeStats(): `;for(;;){if(void 0===o.stats){o.stats=null;break}if(null===o.stats)break;if("statsObject"!==o.stats.statsObject)throw new Error(`${t}stats object not recognized`);break}null!==o.stats&&o.stats.init(M,$)}(),function(){const t=`${r}initializeAst(): `;for(;;){if(void 0===o.ast){o.ast=null;break}if(null===o.ast)break;if("astObject"!==o.ast.astObject)throw new Error(`${t}ast object not recognized`);break}null!==o.ast&&o.ast.init(M,$,T)}();const O=new y;switch(null!=f&&(w=f),A=[{type:t.RNM,index:k}],l(0,h,O),A=null,O.state){case t.ACTIVE:throw new Error(`${N}final state should never be 'ACTIVE'`);case t.NOMATCH:m=!1;break;case t.EMPTY:case t.MATCH:m=O.phraseLength===c;break;default:throw new Error("unrecognized state")}return{success:m,state:O.state,length:c,matched:O.phraseLength,maxMatched:x,maxTreeDepth:C,nodeHits:E,inputLength:T.length,subBegin:h,subEnd:d,subLength:c}};this.parseSubstring=function(t,e,n,r,o,l){return R(),P(n,r,o),I(t,e,l)},this.parse=function(t,e,n,r){return R(),P(n,0,n.length),I(t,e,r)};const K=function(e,n,r){const o=A[e];for(let i=0;i<o.children.length&&(l(o.children[i],n,r),r.state===t.NOMATCH);i+=1);},U=function(e,n,o,l){if(n.phraseLength>o){let t=`${r}opRNM(${e.name}): callback function error: `;throw t+=`sysData.phraseLength: ${n.phraseLength}`,t+=` must be <= remaining chars: ${o}`,new Error(t)}switch(n.state){case t.ACTIVE:if(!0!==l)throw new Error(`${r}opRNM(${e.name}): callback function return error. ACTIVE state not allowed.`);break;case t.EMPTY:n.phraseLength=0;break;case t.MATCH:0===n.phraseLength&&(n.state=t.EMPTY);break;case t.NOMATCH:n.phraseLength=0;break;default:throw new Error(`${r}opRNM(${e.name}): callback function return error. Unrecognized return state: ${n.state}`)}},F=function(e,n,r){let h,c,f,m,C,E;const L=A[e],$=M[L.index],x=S[$.index],N=!B();if(N&&(c=o.ast&&o.ast.ruleDefined(L.index),c&&(h=o.ast.getLength(),o.ast.down(L.index,M[L.index].name)),m=r.uFrame.length(),C=r.pFrame.length(),r.uFrame.push(),r.pFrame.push(),E=r.pFrame,r.pFrame=new D),null===x)f=A,A=$.opcodes,l(0,n,r),A=f;else{const e=d-n;r.ruleIndex=$.index,x(r,T,n,w),U($,r,e,!0),r.state===t.ACTIVE&&(f=A,A=$.opcodes,l(0,n,r),A=f,r.ruleIndex=$.index,x(r,T,n,w),U($,r,e,!1))}N&&(c&&(r.state===t.NOMATCH?o.ast.setLength(h):o.ast.up(L.index,$.name,n,r.phraseLength)),r.pFrame=E,r.state===t.NOMATCH?(r.uFrame.pop(m),r.pFrame.pop(C)):$.isBkr&&(r.pFrame.savePhrase($.lower,n,r.phraseLength),r.uFrame.savePhrase($.lower,n,r.phraseLength)))},Y=function(e,n,l){let h,c,f,m,C,E;const S=A[e],x=$[S.index];l.UdtIndex=x.index;const N=!B();N&&(f=o.ast&&o.ast.udtDefined(S.index),f&&(c=M.length+S.index,h=o.ast.getLength(),o.ast.down(c,x.name)),m=l.uFrame.length(),C=l.pFrame.length(),l.uFrame.push(),l.pFrame.push(),E=l.pFrame,l.pFrame=new D);const k=d-n;L[S.index](l,T,n,w),function(e,n,o){if(n.phraseLength>o){let t=`${r}opUDT(${e.name}): callback function error: `;throw t+=`sysData.phraseLength: ${n.phraseLength}`,t+=` must be <= remaining chars: ${o}`,new Error(t)}switch(n.state){case t.ACTIVE:throw new Error(`${r}opUDT(${e.name}): callback function return error. ACTIVE state not allowed.`);case t.EMPTY:if(!1===e.empty)throw new Error(`${r}opUDT(${e.name}): callback function return error. May not return EMPTY.`);n.phraseLength=0;break;case t.MATCH:if(0===n.phraseLength){if(!1===e.empty)throw new Error(`${r}opUDT(${e.name}): callback function return error. May not return EMPTY.`);n.state=t.EMPTY}break;case t.NOMATCH:n.phraseLength=0;break;default:throw new Error(`${r}opUDT(${e.name}): callback function return error. Unrecognized return state: ${n.state}`)}}(x,l,k),N&&(f&&(l.state===t.NOMATCH?o.ast.setLength(h):o.ast.up(c,x.name,n,l.phraseLength)),l.pFrame=E,l.state===t.NOMATCH?(l.uFrame.pop(m),l.pFrame.pop(C)):x.isBkr&&(l.pFrame.savePhrase(x.lower,n,l.phraseLength),l.uFrame.savePhrase(x.lower,n,l.phraseLength)))},v=function(e,n,r){f.push({lookAround:t.LOOKAROUND_AHEAD,anchor:n,charsEnd:d,charsLength:c}),d=T.length,c=T.length-h,l(e+1,n,r);const o=f.pop();switch(d=o.charsEnd,c=o.charsLength,r.phraseLength=0,r.state){case t.EMPTY:case t.MATCH:r.state=t.EMPTY;break;case t.NOMATCH:r.state=t.NOMATCH;break;default:throw new Error(`opAND: invalid state ${r.state}`)}},G=function(e,n,r){f.push({lookAround:t.LOOKAROUND_AHEAD,anchor:n,charsEnd:d,charsLength:c}),d=T.length,c=T.length-h,l(e+1,n,r);const o=f.pop();switch(d=o.charsEnd,c=o.charsLength,r.phraseLength=0,r.state){case t.EMPTY:case t.MATCH:r.state=t.NOMATCH;break;case t.NOMATCH:r.state=t.EMPTY;break;default:throw new Error(`opNOT: invalid state ${r.state}`)}},z=function(e,n,r){r.state=t.NOMATCH,r.phraseLength=0,r.state=0===n?t.EMPTY:t.NOMATCH},V=function(e,n,r){r.state=t.NOMATCH,r.phraseLength=0,r.state=n===T.length?t.EMPTY:t.NOMATCH},j=function(e,n,r){switch(f.push({lookAround:t.LOOKAROUND_BEHIND,anchor:n}),l(e+1,n,r),f.pop(),r.phraseLength=0,r.state){case t.EMPTY:case t.MATCH:r.state=t.EMPTY;break;case t.NOMATCH:r.state=t.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${r.state}`)}},J=function(e,n,r){switch(f.push({lookAround:t.LOOKAROUND_BEHIND,anchor:n}),l(e+1,n,r),f.pop(),r.phraseLength=0,r.state){case t.EMPTY:case t.MATCH:r.state=t.NOMATCH;break;case t.NOMATCH:r.state=t.EMPTY;break;default:throw new Error(`opBKN: invalid state ${r.state}`)}};l=function(e,n,r){let h=!0;const c=A[e];if(E+=1,E>k)throw new Error(`parser: maximum number of node hits exceeded: ${k}`);if(m+=1,m>C&&(C=m,C>N))throw new Error(`parser: maximum parse tree depth exceeded: ${N}`);if(r.refresh(),null!==o.trace){const t=_();o.trace.down(c,r.state,n,r.phraseLength,t.anchor,t.lookAround)}if(f[f.length-1].lookAround===t.LOOKAROUND_BEHIND)switch(c.type){case t.ALT:K(e,n,r);break;case t.CAT:!function(e,n,r){let h,c,d,f;const T=A[e],m=r.uFrame.length(),C=r.pFrame.length();o.ast&&(c=o.ast.getLength()),h=!0,d=n,f=0;for(let i=T.children.length-1;i>=0;i-=1)if(l(T.children[i],d,r),d-=r.phraseLength,f+=r.phraseLength,r.state===t.NOMATCH){h=!1;break}h?(r.state=0===f?t.EMPTY:t.MATCH,r.phraseLength=f):(r.state=t.NOMATCH,r.phraseLength=0,r.uFrame.pop(m),r.pFrame.pop(C),o.ast&&o.ast.setLength(c))}(e,n,r);break;case t.REP:!function(e,n,r){let h,c,d,f;const T=A[e];c=n,d=0,f=0;const m=r.uFrame.length(),C=r.pFrame.length();for(o.ast&&(h=o.ast.getLength());!(c<=0)&&(l(e+1,c,r),r.state!==t.NOMATCH)&&r.state!==t.EMPTY&&(f+=1,d+=r.phraseLength,c-=r.phraseLength,f!==T.max););r.state===t.EMPTY||f>=T.min?(r.state=0===d?t.EMPTY:t.MATCH,r.phraseLength=d):(r.state=t.NOMATCH,r.phraseLength=0,r.uFrame.pop(m),r.pFrame.pop(C),o.ast&&o.ast.setLength(h))}(e,n,r);break;case t.RNM:F(e,n,r);break;case t.UDT:Y(e,n,r);break;case t.AND:v(e,n,r);break;case t.NOT:G(e,n,r);break;case t.TRG:!function(e,n,r){const o=A[e];if(r.state=t.NOMATCH,r.phraseLength=0,n>0){const e=T[n-1];o.min<=e&&e<=o.max&&(r.state=t.MATCH,r.phraseLength=1)}}(e,n,r);break;case t.TBS:!function(e,n,r){let i;const o=A[e];r.state=t.NOMATCH;const l=o.string.length,h=n-l;if(h>=0){for(i=0;i<l;i+=1)if(T[h+i]!==o.string[i])return;r.state=t.MATCH,r.phraseLength=l}}(e,n,r);break;case t.TLS:!function(e,n,r){let o;const l=A[e];r.state=t.NOMATCH;const h=l.string.length;if(0===h)return void(r.state=t.EMPTY);const c=n-h;if(c>=0){for(let i=0;i<h;i+=1)if(o=T[c+i],o>=65&&o<=90&&(o+=32),o!==l.string[i])return;r.state=t.MATCH,r.phraseLength=h}}(e,n,r);break;case t.BKR:!function(e,n,r){let i,code,o,l;const h=A[e];r.state=t.NOMATCH,r.phraseLength=0,l=h.index<M.length?M[h.index].lower:$[h.index-M.length].lower;const c=h.bkrMode===t.BKR_MODE_PM?r.pFrame.getPhrase(l):r.uFrame.getPhrase(l),d=h.bkrCase===t.BKR_MODE_CI;if(null===c)return;const f=c.phraseIndex,m=c.phraseLength;if(0===m)return r.state=t.EMPTY,void(r.phraseLength=0);const C=n-m;if(C>=0){if(d){for(i=0;i<m;i+=1)if(code=T[C+i],o=T[f+i],code>=65&&code<=90&&(code+=32),o>=65&&o<=90&&(o+=32),code!==o)return;r.state=t.MATCH,r.phraseLength=m}else for(i=0;i<m;i+=1)if(code=T[C+i],o=T[f+i],code!==o)return;r.state=t.MATCH,r.phraseLength=m}}(e,n,r);break;case t.BKA:j(e,n,r);break;case t.BKN:J(e,n,r);break;case t.ABG:z(0,n,r);break;case t.AEN:V(0,n,r);break;default:h=!1}else switch(c.type){case t.ALT:K(e,n,r);break;case t.CAT:!function(e,n,r){let h,c,d,f;const T=A[e],m=r.uFrame.length(),C=r.pFrame.length();o.ast&&(c=o.ast.getLength()),h=!0,d=n,f=0;for(let i=0;i<T.children.length;i+=1){if(l(T.children[i],d,r),r.state===t.NOMATCH){h=!1;break}d+=r.phraseLength,f+=r.phraseLength}h?(r.state=0===f?t.EMPTY:t.MATCH,r.phraseLength=f):(r.state=t.NOMATCH,r.phraseLength=0,r.uFrame.pop(m),r.pFrame.pop(C),o.ast&&o.ast.setLength(c))}(e,n,r);break;case t.REP:!function(e,n,r){let h,c,f,T;const m=A[e];c=n,f=0,T=0;const C=r.uFrame.length(),E=r.pFrame.length();for(o.ast&&(h=o.ast.getLength());!(c>=d)&&(l(e+1,c,r),r.state!==t.NOMATCH)&&r.state!==t.EMPTY&&(T+=1,f+=r.phraseLength,c+=r.phraseLength,T!==m.max););r.state===t.EMPTY||T>=m.min?(r.state=0===f?t.EMPTY:t.MATCH,r.phraseLength=f):(r.state=t.NOMATCH,r.phraseLength=0,r.uFrame.pop(C),r.pFrame.pop(E),o.ast&&o.ast.setLength(h))}(e,n,r);break;case t.RNM:F(e,n,r);break;case t.UDT:Y(e,n,r);break;case t.AND:v(e,n,r);break;case t.NOT:G(e,n,r);break;case t.TRG:!function(e,n,r){const o=A[e];r.state=t.NOMATCH,n<d&&o.min<=T[n]&&T[n]<=o.max&&(r.state=t.MATCH,r.phraseLength=1)}(e,n,r);break;case t.TBS:!function(e,n,r){let i;const o=A[e],l=o.string.length;if(r.state=t.NOMATCH,n+l<=d){for(i=0;i<l;i+=1)if(T[n+i]!==o.string[i])return;r.state=t.MATCH,r.phraseLength=l}}(e,n,r);break;case t.TLS:!function(e,n,r){let i,code;const o=A[e];r.state=t.NOMATCH;const l=o.string.length;if(0!==l){if(n+l<=d){for(i=0;i<l;i+=1)if(code=T[n+i],code>=65&&code<=90&&(code+=32),code!==o.string[i])return;r.state=t.MATCH,r.phraseLength=l}}else r.state=t.EMPTY}(e,n,r);break;case t.BKR:!function(e,n,r){let i,code,o,l;const h=A[e];r.state=t.NOMATCH,l=h.index<M.length?M[h.index].lower:$[h.index-M.length].lower;const c=h.bkrMode===t.BKR_MODE_PM?r.pFrame.getPhrase(l):r.uFrame.getPhrase(l),f=h.bkrCase===t.BKR_MODE_CI;if(null===c)return;const m=c.phraseIndex,C=c.phraseLength;if(0!==C){if(n+C<=d){if(f){for(i=0;i<C;i+=1)if(code=T[n+i],o=T[m+i],code>=65&&code<=90&&(code+=32),o>=65&&o<=90&&(o+=32),code!==o)return;r.state=t.MATCH,r.phraseLength=C}else for(i=0;i<C;i+=1)if(code=T[n+i],o=T[m+i],code!==o)return;r.state=t.MATCH,r.phraseLength=C}}else r.state=t.EMPTY}(e,n,r);break;case t.BKA:j(e,n,r);break;case t.BKN:J(e,n,r);break;case t.ABG:z(0,n,r);break;case t.AEN:V(0,n,r);break;default:h=!1}if(!B()&&n+r.phraseLength>x&&(x=n+r.phraseLength),null!==o.stats&&o.stats.collect(c,r),null!==o.trace){const t=_();o.trace.up(c,r.state,n,r.phraseLength,t.anchor,t.lookAround)}return m-=1,h}}},2233:function(t,e,n){t.exports=function(){const t=n(247),e=n(410),style=n(624);let r=[],o=[];const l=[];let h;const c=[],d=[];this.statsObject="statsObject";const f=function(t,e){return t.lower<e.lower?-1:t.lower>e.lower?1:0},A=function(t,e){return t.total<e.total?1:t.total>e.total?-1:f(t,e)},T=function(t,e){return t.index<e.index?-1:t.index>e.index?1:0},m=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},C=function(e,n){switch(e.total+=1,n){case t.EMPTY:e.empty+=1;break;case t.MATCH:e.match+=1;break;case t.NOMATCH:e.nomatch+=1;break;default:throw new Error(`stats.js: collect(): incStat(): unrecognized state: ${n}`)}},E=function(t,e){let html="";return html+="<tr>",html+=`<td class="${style.CLASS_ACTIVE}">${t}</td>`,html+=`<td class="${style.CLASS_EMPTY}">${e.empty}</td>`,html+=`<td class="${style.CLASS_MATCH}">${e.match}</td>`,html+=`<td class="${style.CLASS_NOMATCH}">${e.nomatch}</td>`,html+=`<td class="${style.CLASS_ACTIVE}">${e.total}</td>`,html+="</tr>\n",html},S=function(){let html="";return html+=E("ALT",l[t.ALT]),html+=E("CAT",l[t.CAT]),html+=E("REP",l[t.REP]),html+=E("RNM",l[t.RNM]),html+=E("TRG",l[t.TRG]),html+=E("TBS",l[t.TBS]),html+=E("TLS",l[t.TLS]),html+=E("UDT",l[t.UDT]),html+=E("AND",l[t.AND]),html+=E("NOT",l[t.NOT]),html+=E("BKR",l[t.BKR]),html+=E("BKA",l[t.BKA]),html+=E("BKN",l[t.BKN]),html+=E("ABG",l[t.ABG]),html+=E("AEN",l[t.AEN]),html+=E("totals",h),html},L=function(){let html="";html+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",html+="<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>\n";for(let i=0;i<r.length;i+=1)c[i].total>0&&(html+="<tr>",html+=`<td class="${style.CLASS_ACTIVE}">${c[i].name}</td>`,html+=`<td class="${style.CLASS_EMPTY}">${c[i].empty}</td>`,html+=`<td class="${style.CLASS_MATCH}">${c[i].match}</td>`,html+=`<td class="${style.CLASS_NOMATCH}">${c[i].nomatch}</td>`,html+=`<td class="${style.CLASS_ACTIVE}">${c[i].total}</td>`,html+="</tr>\n");if(o.length>0){html+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",html+="<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>\n";for(let i=0;i<o.length;i+=1)d[i].total>0&&(html+="<tr>",html+=`<td class="${style.CLASS_ACTIVE}">${d[i].name}</td>`,html+=`<td class="${style.CLASS_EMPTY}">${d[i].empty}</td>`,html+=`<td class="${style.CLASS_MATCH}">${d[i].match}</td>`,html+=`<td class="${style.CLASS_NOMATCH}">${d[i].nomatch}</td>`,html+=`<td class="${style.CLASS_ACTIVE}">${d[i].total}</td>`,html+="</tr>\n")}return html};this.validate=function(t){let e=!1;return"string"==typeof t&&"stats"===t&&(e=!0),e},this.init=function(e,n){r=e,o=n,function(){l.length=0,h=new m,l[t.ALT]=new m,l[t.CAT]=new m,l[t.REP]=new m,l[t.RNM]=new m,l[t.TRG]=new m,l[t.TBS]=new m,l[t.TLS]=new m,l[t.UDT]=new m,l[t.AND]=new m,l[t.NOT]=new m,l[t.BKR]=new m,l[t.BKA]=new m,l[t.BKN]=new m,l[t.ABG]=new m,l[t.AEN]=new m,c.length=0;for(let i=0;i<r.length;i+=1)c.push({empty:0,match:0,nomatch:0,total:0,name:r[i].name,lower:r[i].lower,index:r[i].index});if(o.length>0){d.length=0;for(let i=0;i<o.length;i+=1)d.push({empty:0,match:0,nomatch:0,total:0,name:o[i].name,lower:o[i].lower,index:o[i].index})}}()},this.collect=function(e,n){C(h,n.state,n.phraseLength),C(l[e.type],n.state,n.phraseLength),e.type===t.RNM&&C(c[e.index],n.state,n.phraseLength),e.type===t.UDT&&C(d[e.index],n.state,n.phraseLength)},this.toHtml=function(t,caption){let html="";html+=`<table class="${style.CLASS_STATS}">\n`,"string"==typeof caption&&(html+=`<caption>${caption}</caption>\n`),html+=`<tr><th class="${style.CLASS_ACTIVE}">ops</th>\n`,html+=`<th class="${style.CLASS_EMPTY}">EMPTY</th>\n`,html+=`<th class="${style.CLASS_MATCH}">MATCH</th>\n`,html+=`<th class="${style.CLASS_NOMATCH}">NOMATCH</th>\n`,html+=`<th class="${style.CLASS_ACTIVE}">totals</th></tr>\n`;for(;;){if(void 0===t){html+=S();break}if(null===t){html+=S();break}if("ops"===t){html+=S();break}if("index"===t){c.sort(T),d.length>0&&d.sort(T),html+=S(),html+=L();break}if("hits"===t){c.sort(A),d.length>0&&d.sort(T),html+=S(),html+=L();break}if("alpha"===t){c.sort(f),d.length>0&&d.sort(f),html+=S(),html+=L();break}break}return html+="</table>\n",html},this.toHtmlPage=function(t,caption,title){return e.htmlToPage(this.toHtml(t,caption),title)}}},2234:function(t,e,n){t.exports=function(){const t=n(410),style=n(624),e=new(n(1252)),r=n(247),o="trace.js: ",l=this,h=16,c=80,d=[];let f=5e3,A=-1,T=0,m=0;const C=[];let E=null,S=null,L=null;const M=[],$=[],w=`<span class="${style.CLASS_LINEEND}">&bull;</span>`,x=`<span class="${style.CLASS_LINEEND}">&hellip;</span>`,N=`<span class="${style.CLASS_EMPTY}">&#120634;</span>`;this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(t,e){A=-1,"number"==typeof t&&t>0?(f=Math.ceil(t),"number"==typeof e&&(A=Math.floor(e),A<0&&(A=-1))):f=0},this.getMaxRecords=function(){return f},this.getLastRecord=function(){return A},this.init=function(t,n,h){d.length=0,C.length=0,T=0,m=0,E=h,S=t,L=n,function(){const t=function(t){M[r.ALT]=t,M[r.CAT]=t,M[r.REP]=t,M[r.TLS]=t,M[r.TBS]=t,M[r.TRG]=t,M[r.AND]=t,M[r.NOT]=t,M[r.BKR]=t,M[r.BKA]=t,M[r.BKN]=t,M[r.ABG]=t,M[r.AEN]=t};let e=0;for(const t in l.filter.operators)e+=1;if(0!==e){for(const e in l.filter.operators){const n=e.toUpperCase();if("<ALL>"===n)return void t(!0);if("<NONE>"===n)return void t(!1)}t(!1);for(const t in l.filter.operators){const e=t.toUpperCase();if("ALT"===e)M[r.ALT]=!0===l.filter.operators[t];else if("CAT"===e)M[r.CAT]=!0===l.filter.operators[t];else if("REP"===e)M[r.REP]=!0===l.filter.operators[t];else if("AND"===e)M[r.AND]=!0===l.filter.operators[t];else if("NOT"===e)M[r.NOT]=!0===l.filter.operators[t];else if("TLS"===e)M[r.TLS]=!0===l.filter.operators[t];else if("TBS"===e)M[r.TBS]=!0===l.filter.operators[t];else if("TRG"===e)M[r.TRG]=!0===l.filter.operators[t];else if("BKR"===e)M[r.BKR]=!0===l.filter.operators[t];else if("BKA"===e)M[r.BKA]=!0===l.filter.operators[t];else if("BKN"===e)M[r.BKN]=!0===l.filter.operators[t];else if("ABG"===e)M[r.ABG]=!0===l.filter.operators[t];else{if("AEN"!==e)throw new Error(`${o}initOpratorFilter: '${t}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`);M[r.AEN]=!0===l.filter.operators[t]}}}else t(!1)}(),function(){const t=function(t){M[r.RNM]=t,M[r.UDT]=t;const e=S.length+L.length;$.length=0;for(let i=0;i<e;i+=1)$.push(t)};let e,i;const n=[];for(i=0;i<S.length;i+=1)n.push(S[i].lower);for(i=0;i<L.length;i+=1)n.push(L[i].lower);$.length=0,e=0;for(const t in l.filter.rules)e+=1;if(0!==e){for(const e in l.filter.rules){const n=e.toLowerCase();if("<all>"===n)return void t(!0);if("<none>"===n)return void t(!1)}t(!1),M[r.RNM]=!0,M[r.UDT]=!0;for(const t in l.filter.rules){const e=t.toLowerCase();if(i=n.indexOf(e),i<0)throw new Error(`${o}initRuleFilter: '${t}' not a valid rule or udt name`);$[i]=!0===l.filter.rules[t]}}else t(!0)}(),e.init(f)};const k=function(t){let e=!1;return e=t.type===r.RNM?!(!M[t.type]||!$[t.index]):t.type===r.UDT?!(!M[t.type]||!$[S.length+t.index]):M[t.type],e},O=function(t){return-1===A||t<=A};this.down=function(t,n,r,o,l,h){O(T)&&k(t)&&(C.push(T),d[e.increment()]={dirUp:!1,depth:m,thisLine:T,thatLine:void 0,opcode:t,state:n,phraseIndex:r,phraseLength:o,lookAnchor:l,lookAround:h},T+=1,m+=1)},this.up=function(t,n,r,o,l,h){if(O(T)&&k(t)){const c=T,f=C.pop(),A=e.getListIndex(f);-1!==A&&(d[A].thatLine=c),m-=1,d[e.increment()]={dirUp:!0,depth:m,thisLine:c,thatLine:f,opcode:t,state:n,phraseIndex:r,phraseLength:o,lookAnchor:l,lookAround:h},T+=1}};this.toTree=function(n){const o=function(){function n(e,n){let o,l,h;if(n)switch(e.op={id:n.type,name:t.opcodeToString(n.type)},e.opData=void 0,n.type){case r.RNM:e.opData=S[n.index].name;break;case r.UDT:e.opData=L[n.index].name;break;case r.BKR:o=n.index<S.length?S[n.index].name:L[n.index-S.length].name,l=n.bkrCase===r.BKR_MODE_CI?"%i":"%s",h=n.bkrMode===r.BKR_MODE_UM?"%u":"%p",e.opData=`\\\\${l}${h}${o}`;break;case r.TLS:e.opData=[];for(let i=0;i<n.string.length;i+=1)e.opData.push(n.string[i]);break;case r.TBS:e.opData=[];for(let i=0;i<n.string.length;i+=1)e.opData.push(n.string[i]);break;case r.TRG:case r.REP:e.opData=[n.min,n.max];break;default:throw new Error("unrecognized opcode")}else e.op={id:void 0,name:void 0},e.opData=void 0}function o(t,e,n){return t===r.MATCH?{index:e,length:n}:t===r.NOMATCH||t===r.EMPTY?{index:e,length:0}:null}let l=-1;function h(e,r,h){const c={id:l++,branch:-1,parent:e,up:!1,down:!1,depth:h,children:[]};return r?(c.down=!0,c.state={id:r.state,name:t.stateToString(r.state)},c.phrase=null,n(c,r.opcode)):(c.state={id:void 0,name:void 0},c.phrase=o(),n(c,void 0)),c}function c(e,r){r&&(e.up=!0,e.state={id:r.state,name:t.stateToString(r.state)},e.phrase=o(r.state,r.phraseIndex,r.phraseLength),e.down||n(e,r.opcode))}let f=0,A=-1,T=1;const C=[];let M,$,w,x,N=!0;const k=h(null,null,-1);for(C.push(k),$=k,e.forEach((t=>{if(x=d[t],N&&(N=!1,x.depth>0)){const t=x.dirUp?x.depth+1:x.depth;for(let i=0;i<t;i+=1)w=$,$=h($,null,i),C.push($),w.children.push($)}x.dirUp?($=C.pop(),c($,x),$=C[C.length-1]):(w=$,$=h($,x,x.depth),C.push($),w.children.push($))}));C.length>1;)$=C.pop(),c($,null);if(0===k.children.length)throw new Error("trace.toTree(): parse tree has no nodes");if(0===C.length)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");M=k.children[0];let O=M;for(;M&&!M.down&&!M.up;)O=M,M=M.children[0];M=O,M.leftMost=!0,M.rightMost=!0,function t(e){if(A+=1,e.branch=T,A>m&&(m=A),0===e.children.length)f+=1;else for(let i=0;i<e.children.length;i+=1)i>0&&(T+=1),e.children[i].leftMost=!1,e.children[i].rightMost=!1,e.leftMost&&(e.children[i].leftMost=0===i),e.rightMost&&(e.children[i].rightMost=i===e.children.length-1),t(e.children[i]);A-=1}(M),M.branch=0;const H={string:[]};for(let i=0;i<E.length;i+=1)H.string[i]=E[i];H.rules=[];for(let i=0;i<S.length;i+=1)H.rules[i]=S[i].name;H.udts=[];for(let i=0;i<L.length;i+=1)H.udts[i]=L[i].name;let R;return H.id={},H.id.ALT={id:r.ALT,name:"ALT"},H.id.CAT={id:r.CAT,name:"CAT"},H.id.REP={id:r.REP,name:"REP"},H.id.RNM={id:r.RNM,name:"RNM"},H.id.TLS={id:r.TLS,name:"TLS"},H.id.TBS={id:r.TBS,name:"TBS"},H.id.TRG={id:r.TRG,name:"TRG"},H.id.UDT={id:r.UDT,name:"UDT"},H.id.AND={id:r.AND,name:"AND"},H.id.NOT={id:r.NOT,name:"NOT"},H.id.BKR={id:r.BKR,name:"BKR"},H.id.BKA={id:r.BKA,name:"BKA"},H.id.BKN={id:r.BKN,name:"BKN"},H.id.ABG={id:r.ABG,name:"ABG"},H.id.AEN={id:r.AEN,name:"AEN"},H.id.ACTIVE={id:r.ACTIVE,name:"ACTIVE"},H.id.MATCH={id:r.MATCH,name:"MATCH"},H.id.EMPTY={id:r.EMPTY,name:"EMPTY"},H.id.NOMATCH={id:r.NOMATCH,name:"NOMATCH"},H.treeDepth=m,H.leafNodes=f,R=M.down?M.up?"none":"right":M.up?"left":"both",H.branchesIncomplete=R,H.tree=function t(e,n){let r;const o={};if(o.id=e.id,o.branch=e.branch,o.leftMost=e.leftMost,o.rightMost=e.rightMost,r=e.state.name?e.state.name:"ACTIVE",o.state={id:e.state.id,name:r},r=e.op.name?e.op.name:"?",o.op={id:e.op.id,name:r},"string"==typeof e.opData)o.opData=e.opData;else if(Array.isArray(e.opData)){o.opData=[];for(let i=0;i<e.opData.length;i+=1)o.opData[i]=e.opData[i]}else o.opData=void 0;e.phrase?o.phrase={index:e.phrase.index,length:e.phrase.length}:o.phrase=null,o.depth=e.depth,o.children=[];for(let i=0;i<e.children.length;i+=1)e.children.length,o.children[i]=t(e.children[i],n);return o}(M,M.depth),H}();return n?JSON.stringify(o):o},this.toHtmlPage=function(e,caption,title){return t.htmlToPage(this.toHtml(e,caption),title)};this.indent=function(t){let html="";for(let i=0;i<t;i+=1)html+=".";return html};const H=function(e,n,r,o,l){if(0===o)return"";let c="";const d=l?",":"";switch(e){case h:c=d+t.charsToHex(n,r,o);break;case 10:if(l)return`,${t.charsToDec(n,r,o)}`;c=d+t.charsToDec(n,r,o);break;case 32:c=t.charsToUnicode(n,r,o);break;default:c=t.charsToAsciiHtml(n,r,o)}return c},R=function(t,e,n,o,l,h){let d,f,A,T,html="",m=w;const C=`<span class="${style.CLASS_REMAINDER}">`,E="</span>";let S=!1;switch(n){case r.EMPTY:html+=N;case r.NOMATCH:case r.ACTIVE:d=o,f=0,A=o,T=e.length-A;break;case r.MATCH:d=o,f=l,A=o+f,T=e.length-A;break;default:throw new Error("unrecognized state")}return m=w,f>c?(f=c,m=x,T=0):f+T>c&&(m=x,T=c-f),f>0&&(html+=h,html+=H(t,e,d,f,S),html+=E,S=!0),T>0&&(html+=C,html+=H(t,e,A,T,S),html+=E),html+m},D=function(n){if(null===S)return"";let o,f,A,T,m,C,html="";return html+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",html+="<th>operator</th><th>phrase</th></tr>\n",e.forEach((e=>{const line=d[e];switch(o=line.thisLine,f=void 0!==line.thatLine?line.thatLine:"--",A=!1,T=!1,m=!1,line.lookAround===r.LOOKAROUND_AHEAD&&(A=!0,m=!0,C=line.lookAnchor),line.opcode.type!==r.AND&&line.opcode.type!==r.NOT||(A=!0,m=!0,C=line.phraseIndex),line.lookAround===r.LOOKAROUND_BEHIND&&(T=!0,m=!0,C=line.lookAnchor),line.opcode.type!==r.BKA&&line.opcode.type!==r.BKN||(T=!0,m=!0,C=line.phraseIndex),html+="<tr>",html+=`<td>${o}</td><td>${f}</td>`,html+=`<td>${line.phraseIndex}</td>`,html+=`<td>${line.phraseLength}</td>`,html+=`<td>${line.depth}</td>`,html+="<td>",line.state){case r.ACTIVE:html+=`<span class="${style.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case r.MATCH:html+=`<span class="${style.CLASS_MATCH}">&uarr;M</span>`;break;case r.NOMATCH:html+=`<span class="${style.CLASS_NOMATCH}">&uarr;N</span>`;break;case r.EMPTY:html+=`<span class="${style.CLASS_EMPTY}">&uarr;E</span>`;break;default:html+=`<span class="${style.CLASS_ACTIVE}">--</span>`}if(html+="</td>",html+="<td>",html+=l.indent(line.depth),A?html+=`<span class="${style.CLASS_LOOKAHEAD}">`:T&&(html+=`<span class="${style.CLASS_LOOKBEHIND}">`),html+=t.opcodeToString(line.opcode.type),line.opcode.type===r.RNM&&(html+=`(${S[line.opcode.index].name}) `),line.opcode.type===r.BKR){const t=line.opcode.bkrCase===r.BKR_MODE_CI?"%i":"%s",e=line.opcode.bkrMode===r.BKR_MODE_UM?"%u":"%p";html+=`(\\${t}${e}${S[line.opcode.index].name}) `}line.opcode.type===r.UDT&&(html+=`(${L[line.opcode.index].name}) `),line.opcode.type===r.TRG&&(html+=`(${function(t,e){let html="";if(e.type===r.TRG)if(t===h||32===t){let n=e.min.toString(16).toUpperCase();n.length%2!=0&&(n=`0${n}`),html+=t===h?"%x":"U+",html+=n,n=e.max.toString(16).toUpperCase(),n.length%2!=0&&(n=`0${n}`),html+=`&ndash;${n}`}else html=`%d${e.min.toString(10)}&ndash;${e.max.toString(10)}`;return html}(n,line.opcode)}) `),line.opcode.type===r.TBS&&(html+=`(${function(t,e){let html="";if(e.type===r.TBS){const n=Math.min(e.string.length,10);if(t===h||32===t){html+=t===h?"%x":"U+";for(let i=0;i<n;i+=1){let t;i>0&&(html+="."),t=e.string[i].toString(16).toUpperCase(),t.length%2!=0&&(t=`0${t}`),html+=t}}else{html="%d";for(let i=0;i<n;i+=1)i>0&&(html+="."),html+=e.string[i].toString(10)}n<e.string.length&&(html+=x)}return html}(n,line.opcode)}) `),line.opcode.type===r.TLS&&(html+=`(${function(e,n){let html="";if(n.type===r.TLS){const r=Math.min(n.string.length,5);if(e===h||10===e){let t,o,base;e===h?(html="%x",base=16):(html="%d",base=10);for(let i=0;i<r;i+=1)i>0&&(html+="."),o=n.string[i],o>=97&&o<=122?(t=o-32,html+=`${t.toString(base)}/${o.toString(base)}`.toUpperCase()):o>=65&&o<=90?(t=o,o+=32,html+=`${t.toString(base)}/${o.toString(base)}`.toUpperCase()):html+=o.toString(base).toUpperCase();r<n.string.length&&(html+=x)}else{html='"';for(let i=0;i<r;i+=1)html+=t.asciiChars[n.string[i]];r<n.string.length&&(html+=x),html+='"'}}return html}(n,line.opcode)}) `),line.opcode.type===r.REP&&(html+=`(${function(t,e){let html="";if(e.type===r.REP)if(t===h){let t=e.min.toString(16).toUpperCase();t.length%2!=0&&(t=`0${t}`),html=`x${t}`,e.max<1/0?(t=e.max.toString(16).toUpperCase(),t.length%2!=0&&(t=`0${t}`)):t="inf",html+=`&ndash;${t}`}else html=e.max<1/0?`${e.min.toString(10)}&ndash;${e.max.toString(10)}`:`${e.min.toString(10)}&ndash;inf`;return html}(n,line.opcode)}) `),m&&(html+="</span>"),html+="</td>",html+="<td>",html+=T?function(t,e,n,o,l,h){let d,f,A,T,html="",m=w;const C=`<span class="${style.CLASS_LOOKBEHIND}">`,E=`<span class="${style.CLASS_REMAINDER}">`,S="</span>";let L=!1;switch(n){case r.EMPTY:html+=N;case r.NOMATCH:case r.MATCH:case r.ACTIVE:d=o-l,f=h-d,A=h,T=e.length-A;break;default:throw new Error("unrecognized state")}return m=w,f>c?(f=c,m=x,T=0):f+T>c&&(m=x,T=c-f),f>0&&(html+=C,html+=H(t,e,d,f,L),html+=S,L=!0),T>0&&(html+=E,html+=H(t,e,A,T,L),html+=S),html+m}(n,E,line.state,line.phraseIndex,line.phraseLength,C):A?function(t,e,n,r,o){const l=`<span class="${style.CLASS_LOOKAHEAD}">`;return R(t,e,n,r,o,l)}(n,E,line.state,line.phraseIndex,line.phraseLength):function(t,e,n,r,o){const l=`<span class="${style.CLASS_MATCH}">`;return R(t,e,n,r,o,l)}(n,E,line.state,line.phraseIndex,line.phraseLength),html+="</td></tr>\n"})),html+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",html+="<th>operator</th><th>phrase</th></tr>\n",html+="</table>\n",html};this.toHtml=function(t,caption){let e=8;if("string"==typeof t&&t.length>=3){const n=t.toLowerCase().slice(0,3);"hex"===n?e=h:"dec"===n?e=10:"uni"===n&&(e=32)}let html="";return html+=function(t,caption){let e;switch(t){case h:e="hexadecimal";break;case 10:e="decimal";break;case 8:e="ASCII";break;case 32:e="UNICODE";break;default:throw new Error(`${o}htmlHeader: unrecognized mode: ${t}`)}let header="";return header+=`<p>display mode: ${e}</p>\n`,header+=`<table class="${style.CLASS_TRACE}">\n`,"string"==typeof caption&&(header+=`<caption>${caption}</caption>`),header}(e,caption),html+=D(e),html+=function(){let footer="";return footer+="</table>\n",footer+=`<p class="${style.CLASS_MONOSPACE}">legend:<br>\n`,footer+="(a)&nbsp;-&nbsp;line number<br>\n",footer+="(b)&nbsp;-&nbsp;matching line number<br>\n",footer+="(c)&nbsp;-&nbsp;phrase offset<br>\n",footer+="(d)&nbsp;-&nbsp;phrase length<br>\n",footer+="(e)&nbsp;-&nbsp;tree depth<br>\n",footer+="(f)&nbsp;-&nbsp;operator state<br>\n",footer+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${style.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>\n`,footer+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${style.CLASS_MATCH}">&uarr;M</span> phrase matched<br>\n`,footer+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${style.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>\n`,footer+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${style.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>\n`,footer+="operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>\n",footer+="phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to 80 characters of the phrase being matched<br>\n",footer+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${style.CLASS_MATCH}">matched characters</span><br>\n`,footer+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${style.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>\n`,footer+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${style.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>\n`,footer+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${style.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>\n`,footer+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${style.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>\n`,footer+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${N} empty string<br>\n`,footer+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${w} end of input string<br>\n`,footer+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${x} input string display truncated<br>\n`,footer+="</p>\n",footer+=`<p class="${style.CLASS_MONOSPACE}">\n`,footer+="<sup>&dagger;</sup>original ABNF operators:<br>\n",footer+="ALT - alternation<br>\n",footer+="CAT - concatenation<br>\n",footer+="REP - repetition<br>\n",footer+="RNM - rule name<br>\n",footer+="TRG - terminal range<br>\n",footer+="TLS - terminal literal string (case insensitive)<br>\n",footer+="TBS - terminal binary string (case sensitive)<br>\n",footer+="<br>\n",footer+="<sup>&Dagger;</sup>super set SABNF operators:<br>\n",footer+="UDT - user-defined terminal<br>\n",footer+="AND - positive look ahead<br>\n",footer+="NOT - negative look ahead<br>\n",footer+="BKA - positive look behind<br>\n",footer+="BKN - negative look behind<br>\n",footer+="BKR - back reference<br>\n",footer+="ABG - anchor - begin of input string<br>\n",footer+="AEN - anchor - end of input string<br>\n",footer+="</p>\n",footer}(),html}}},247:function(t,e){t.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}},409:function(t,e,n){t.exports={ast:n(2230),circular:n(1252),ids:n(247),parser:n(2232),stats:n(2233),trace:n(2234),utils:n(410),emitcss:n(1251),style:n(624)}},410:function(t,e,n){const style=n(624),r=n(1250),o=n(1251),l=n(247),h="utilities.js: ",c=this,d=function(t,e,n){let r,o=e;for(;;){if(t<=0){o=0,r=0;break}if("number"!=typeof o){o=0,r=t;break}if(o>=t){o=t,r=t;break}if("number"!=typeof n){r=t;break}if(r=o+n,r>t){r=t;break}break}return{beg:o,end:r}};e.htmlToPage=function(html,t){let title;if("string"!=typeof html)throw new Error(`${h}htmlToPage: input HTML is not a string`);title="string"!=typeof t?"htmlToPage":t;let e="";return e+="<!DOCTYPE html>\n",e+='<html lang="en">\n',e+="<head>\n",e+='<meta charset="utf-8">\n',e+=`<title>${title}</title>\n`,e+="<style>\n",e+=o(),e+="</style>\n",e+="</head>\n<body>\n",e+=`<p>${new Date}</p>\n`,e+=html,e+="</body>\n</html>\n",e},e.parserResultToHtml=function(t,caption){let e,n,r=null;"string"==typeof caption&&""!==caption&&(r=caption),e=!0===t.success?`<span class="${style.CLASS_MATCH}">true</span>`:`<span class="${style.CLASS_NOMATCH}">false</span>`,n=t.state===l.EMPTY?`<span class="${style.CLASS_EMPTY}">EMPTY</span>`:t.state===l.MATCH?`<span class="${style.CLASS_MATCH}">MATCH</span>`:t.state===l.NOMATCH?`<span class="${style.CLASS_NOMATCH}">NOMATCH</span>`:`<span class="${style.CLASS_NOMATCH}">unrecognized</span>`;let html="";return html+=`<table class="${style.CLASS_STATE}">\n`,r&&(html+=`<caption>${r}</caption>\n`),html+="<tr><th>state item</th><th>value</th><th>description</th></tr>\n",html+=`<tr><td>parser success</td><td>${e}</td>\n`,html+=`<td><span class="${style.CLASS_MATCH}">true</span> if the parse succeeded,\n`,html+=` <span class="${style.CLASS_NOMATCH}">false</span> otherwise`,html+="<br><i>NOTE: for success, entire string must be matched</i></td></tr>\n",html+=`<tr><td>parser state</td><td>${n}</td>\n`,html+=`<td><span class="${style.CLASS_EMPTY}">EMPTY</span>, `,html+=`<span class="${style.CLASS_MATCH}">MATCH</span> or \n`,html+=`<span class="${style.CLASS_NOMATCH}">NOMATCH</span></td></tr>\n`,html+=`<tr><td>string length</td><td>${t.length}</td><td>length of the input (sub)string</td></tr>\n`,html+=`<tr><td>matched length</td><td>${t.matched}</td><td>number of input string characters matched</td></tr>\n`,html+=`<tr><td>max matched</td><td>${t.maxMatched}</td><td>maximum number of input string characters matched</td></tr>\n`,html+=`<tr><td>max tree depth</td><td>${t.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>\n`,html+=`<tr><td>node hits</td><td>${t.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>\n`,html+=`<tr><td>input length</td><td>${t.inputLength}</td><td>length of full input string</td></tr>\n`,html+=`<tr><td>sub-string begin</td><td>${t.subBegin}</td><td>sub-string first character index</td></tr>\n`,html+=`<tr><td>sub-string end</td><td>${t.subEnd}</td><td>sub-string end-of-string index</td></tr>\n`,html+=`<tr><td>sub-string length</td><td>${t.subLength}</td><td>sub-string length</td></tr>\n`,html+="</table>\n",html},e.charsToString=function(t,e,n){let o,l;if("number"==typeof e){if(e>=t.length)return"";o=e<0?0:e}else o=0;if("number"==typeof n){if(n<=0)return"";l=n>t.length-o?t.length:o+n}else l=t.length;return o<l?r.encode("UTF16LE",t.slice(o,l)).toString("utf16le"):""},e.stringToChars=function(t){return r.decode("STRING",t)},e.opcodeToString=function(t){let e="unknown";switch(t){case l.ALT:e="ALT";break;case l.CAT:e="CAT";break;case l.RNM:e="RNM";break;case l.UDT:e="UDT";break;case l.AND:e="AND";break;case l.NOT:e="NOT";break;case l.REP:e="REP";break;case l.TRG:e="TRG";break;case l.TBS:e="TBS";break;case l.TLS:e="TLS";break;case l.BKR:e="BKR";break;case l.BKA:e="BKA";break;case l.BKN:e="BKN";break;case l.ABG:e="ABG";break;case l.AEN:e="AEN";break;default:throw new Error("unrecognized opcode")}return e},e.stateToString=function(t){let e="unknown";switch(t){case l.ACTIVE:e="ACTIVE";break;case l.MATCH:e="MATCH";break;case l.EMPTY:e="EMPTY";break;case l.NOMATCH:e="NOMATCH";break;default:throw new Error("unrecognized state")}return e},e.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],e.charToHex=function(t){let e=t.toString(16).toUpperCase();switch(e.length){case 1:case 3:case 7:e=`0${e}`;break;case 2:case 6:e=`00${e}`;break;case 4:break;case 5:e=`000${e}`;break;default:throw new Error("unrecognized option")}return e},e.charsToDec=function(t,e,n){let r="";if(!Array.isArray(t))throw new Error(`${h}charsToDec: input must be an array of integers`);const o=d(t.length,e,n);if(o.end>o.beg){r+=t[o.beg];for(let i=o.beg+1;i<o.end;i+=1)r+=`,${t[i]}`}return r},e.charsToHex=function(t,e,n){let r="";if(!Array.isArray(t))throw new Error(`${h}charsToHex: input must be an array of integers`);const o=d(t.length,e,n);if(o.end>o.beg){r+=`\\x${c.charToHex(t[o.beg])}`;for(let i=o.beg+1;i<o.end;i+=1)r+=`,\\x${c.charToHex(t[i])}`}return r},e.charsToHtmlEntities=function(t,e,n){let r="";if(!Array.isArray(t))throw new Error(`${h}charsToHex: input must be an array of integers`);const o=d(t.length,e,n);if(o.end>o.beg)for(let i=o.beg;i<o.end;i+=1)r+=`&#x${t[i].toString(16)};`;return r},e.charsToUnicode=function(t,e,n){let r="";if(!Array.isArray(t))throw new Error(`${h}charsToUnicode: input must be an array of integers`);const o=d(t.length,e,n);if(o.end>o.beg)for(let i=o.beg;i<o.end;i+=1)r+=(l=t[i])>=55296&&l<=57343||l>1114111?` U+${c.charToHex(t[i])}`:`&#${t[i]};`;var l;return r},e.charsToJsUnicode=function(t,e,n){let r="";if(!Array.isArray(t))throw new Error(`${h}charsToJsUnicode: input must be an array of integers`);const o=d(t.length,e,n);if(o.end>o.beg){r+=`\\u${c.charToHex(t[o.beg])}`;for(let i=o.beg+1;i<o.end;i+=1)r+=`,\\u${c.charToHex(t[i])}`}return r},e.charsToAscii=function(t,e,n){let r="";if(!Array.isArray(t))throw new Error(`${h}charsToAscii: input must be an array of integers`);const o=d(t.length,e,n);for(let i=o.beg;i<o.end;i+=1){const e=t[i];r+=e>=32&&e<=126?String.fromCharCode(e):`\\x${c.charToHex(e)}`}return r},e.charsToAsciiHtml=function(t,e,n){if(!Array.isArray(t))throw new Error(`${h}charsToAsciiHtml: input must be an array of integers`);let r,html="";const o=d(t.length,e,n);for(let i=o.beg;i<o.end;i+=1)r=t[i],html+=r<32||127===r?`<span class="${style.CLASS_CTRLCHAR}">${c.asciiChars[r]}</span>`:r>127?`<span class="${style.CLASS_CTRLCHAR}">U+${c.charToHex(r)}</span>`:c.asciiChars[r];return html},e.stringToAsciiHtml=function(t){const e=r.decode("STRING",t);return this.charsToAsciiHtml(e)}},624:function(t,e){t.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}}}]);