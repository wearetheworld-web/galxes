(window.webpackJsonp=window.webpackJsonp||[]).push([[891,136],{2734:function(t,e,n){"use strict";n.r(e);n(58);var r=n(11),o=n(12),c=n(19),l=n(24),d=n(17),m=n(8),h=(n(30),n(16),n(80),n(48),n(86),n(37),n(156),n(117),n(71),n(91),n(14)),f=n(9),filter=n(2618),v=n(195),y=n.n(v),x=n(72);function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var w=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},k=function(t){Object(c.a)(n,t);var e=C(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"notOnChainText",get:function(){return this.isAirDrop?this.airDropTips:this.isExternalLink?0===this.canClaimNum?"You are NOT eligible":"You are eligible":this.isOptIn||this.isOptInEmail?this.maxCount>0?0===this.canClaimNum?"You have already opted in":"You are eligible":"You are NOT eligible":""}},{key:"claimedLoyaltyPoints",get:function(){return this.campaign.claimedLoyaltyPoints||0}},{key:"isOnChain",get:function(){return!(this.isAirDrop||this.isExternalLink||this.isOptIn||this.isOptInEmail)}},{key:"airDropTips",get:function(){if(this.campaign&&this.campaign.gamification.airdrop){var t=this.campaign.gamification.airdrop.token.symbol;if(this.campaign.gamification.airdrop.addressInfo){var e=Object(filter.b)(Object(filter.c)(Number(this.campaign.gamification.airdrop.addressInfo.amount.amount)*Math.pow(10,-18),5));return"You can claim ".concat(e," ").concat(t)}return"You can claim 0 ".concat(t)}return""}},{key:"isExternalLink",get:function(){return this.campaign.gamification.type===f.n.ExternalLink}},{key:"isMysteryBoxWr",get:function(){return this.campaign.gamification.type===f.n.MysteryBoxWr}},{key:"isCapableNew",get:function(){return this.campaign.cap>0}},{key:"isCapableOld",get:function(){return!this.isCapableNew&&this.campaign.gamification.nfts.length>0&&this.campaign.gamification.nfts[0].nft.nftCore.capable}},{key:"isAirDrop",get:function(){return this.campaign.gamification.type===f.n.Airdrop}},{key:"isDrop",get:function(){return this.campaign.gamification.type===f.n.Drop}},{key:"isOptIn",get:function(){return this.campaign.gamification.type===f.n.OptIn}},{key:"isOat",get:function(){return this.campaign.gamification.type===f.n.Oat}},{key:"isDiscordRole",get:function(){return this.campaign.type===f.n.DiscordRole}},{key:"isLoyaltyPointMysteryBox",get:function(){return this.campaign.type===f.n.PointsMysteryBox}},{key:"isOptInEmail",get:function(){return this.campaign.gamification.type===f.n.OptInEmail}},{key:"isForge",get:function(){return this.campaign.gamification.type===f.n.Forge}},{key:"isLoyaltyPoint",get:function(){return this.campaign.gamification.type===f.n.Points}},{key:"isRecurring",get:function(){return this.campaign&&this.campaign.recurringType!==f.G.Once}},{key:"isGasless",get:function(){return"GASLESS"===this.campaign.gasType.toUpperCase()}},{key:"isMysteryBox",get:function(){return this.campaign.gamification.type===f.n.MysteryBox}},{key:"isPowahDrop",get:function(){return this.campaign.gamification.type===f.n.PowahDrop}},{key:"remainingAvailablePoints",get:function(){return Math.max(this.availablePoints-this.claimedPoints,0)}},{key:"remainingAvailableNFTsOrOthers",get:function(){return Math.max(this.availableNFTsOrOthers-this.usedCount,0)}},{key:"withPointsTypeName",get:function(){return this.isOat?"OAT":this.isDrop?"NFT":this.isMysteryBox?"MysteryBox":"Reward"}},{key:"availablePoints",get:function(){return this.campaign.credentialGroups?y.a.sum(this.campaign.credentialGroups.map((function(t){var e;return y.a.sum(null===(e=t.rewards)||void 0===e?void 0:e.map((function(t){return t.rewardType===f.j.Loyaltypoints?t.rewardCount:0})))}))):0}},{key:"availableNFTsOrOthers",get:function(){return this.campaign.credentialGroups?y.a.sum(this.campaign.credentialGroups.map((function(t){var e;return y.a.sum(null===(e=t.rewards)||void 0===e?void 0:e.map((function(t){return t.rewardType!==f.j.Loyaltypoints?t.rewardCount:0})))}))):0}},{key:"getGroupMultiRadio",value:function(t){var e,n=1;try{null===(e=t.rewards)||void 0===e||e.forEach((function(e){var r,o,c,l,d;if(e.expression.startsWith("{{")){var m=Number(null===(c=null===(o=null===(r=e.expression.split("/"))||void 0===r?void 0:r[1])||void 0===o?void 0:o.split("*"))||void 0===c?void 0:c[0])||1,h=null===(d=null===(l=t.rewardAttrVals)||void 0===l?void 0:l.find((function(t){return e.expression.includes(t.attrName.toLowerCase())})))||void 0===d?void 0:d.attrVal;n=Math.floor(Number(h)/m)}}))}catch(t){}return n}},{key:"claimedPoints",get:function(){return this.campaign.credentialGroups?y.a.sum(this.campaign.credentialGroups.map((function(t){return t.claimedLoyaltyPoints}))):0}},{key:"availableRecurring",get:function(){if(this.isRecurring){var t=this.campaign.whitelistInfo,e=t.currentPeriodClaimedLoyaltyPoints,n=t.currentPeriodMaxLoyaltyPoints;return Math.max(n-e,0)}return 0}},{key:"claimedRecurring",get:function(){return this.isRecurring?this.campaign.whitelistInfo.currentPeriodClaimedLoyaltyPoints:0}},{key:"gotoForge",value:function(){Object(x.a)("https://docs.galxe.com/guide/FAQ/Forge-Campaign-Permission-FAQ","_blank")}}]),n}(h.Vue);w([Object(h.Prop)({required:!0})],k.prototype,"campaign",void 0),w([Object(h.Prop)({required:!0})],k.prototype,"canClaimNum",void 0),w([Object(h.Prop)({required:!0})],k.prototype,"maxCount",void 0),w([Object(h.Prop)({required:!0})],k.prototype,"usedCount",void 0),w([Object(h.Prop)({required:!1,default:0})],k.prototype,"point",void 0),w([Object(h.Prop)({required:!1,default:!1})],k.prototype,"compactMode",void 0),w([Object(h.Prop)({required:!1,default:!1})],k.prototype,"fromCollection",void 0);var _=k=w([h.Component],k),P=(n(3027),n(32)),component=Object(P.a)(_,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:["text-lighten-1","text-14-regular","width-100","d-flex",t.fromCollection?"":"justify-center"]},[t.isForge?e("div",[e("span",{staticClass:"forge-tip",on:{click:t.gotoForge}},[t._v("Forge Campaign Permission FAQ >>")])]):0===t.usedCount&&0===t.canClaimNum&&t.availablePoints<=0&&t.claimedPoints<=0&&t.availableNFTsOrOthers<=0?e("div",[t._v("\n    You are NOT eligible\n  ")]):t.isOnChain?t.isDiscordRole?t._e():e("div",{staticClass:"width-100"},[!t.isLoyaltyPointMysteryBox&&!t.isLoyaltyPoint&&t.availablePoints>0?e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"d-flex justify-space-between claimed-area"},[e("span",[t._v("Claimed")]),t._v(" "),e("div",{staticClass:"d-flex"},[e("span",[t._v("Points")]),t._v(" "),e("span",{staticClass:"text-base ml-1 mr-3 text-bold"},[t._v(t._s(t.claimedPoints))]),t._v(" "),e("span",[t._v(t._s(t.withPointsTypeName))]),t._v(" "),e("span",{staticClass:"text-base ml-1 text-bold"},[t._v(t._s(t.usedCount))])])]),t._v(" "),t.compactMode?t._e():e("div",{staticClass:"d-flex justify-space-between available-area"},[e("span",[t._v("Available")]),t._v(" "),e("div",{staticClass:"d-flex"},[e("span",[t._v("Points")]),t._v(" "),e("span",{staticClass:"text-base ml-1 mr-3 text-bold"},[t._v(t._s(t.remainingAvailablePoints>0?t.remainingAvailablePoints:0))]),t._v(" "),e("span",[t._v(t._s(t.withPointsTypeName))]),t._v(" "),e("span",{staticClass:"text-base ml-1 text-bold"},[t._v(t._s(t.remainingAvailableNFTsOrOthers))])])])]):t.isRecurring?e("div",{staticClass:"d-flex justify-center"},[e("span",[t._v("Claimed")]),t._v(" "),e("span",{staticClass:"text-base ml-1 mr-3 text-bold"},[t._v(t._s(t.claimedRecurring))]),t._v(" "),e("span",[t._v("Available")]),t._v(" "),e("span",{staticClass:"text-base ml-1 text-bold"},[t._v(t._s(t.availableRecurring))])]):t.isLoyaltyPoint?e("div",{staticClass:"d-flex justify-center"},[e("span",[t._v(t._s(t.compactMode?"Claimed":"Claimed Points"))]),t._v(" "),e("span",{staticClass:"text-base ml-1 mr-3 text-bold"},[t._v(t._s(t.claimedPoints))]),t._v(" "),e("span",[t._v(t._s(t.compactMode?"Available":"Available Points"))]),t._v(" "),e("span",{staticClass:"text-base ml-1 text-bold"},[t._v(t._s(t.remainingAvailablePoints))])]):t.isLoyaltyPointMysteryBox?e("div",{staticClass:"d-flex justify-center"},[e("span",[t._v("Claimed")]),t._v(" "),e("span",{staticClass:"text-base ml-1 mr-3 text-bold"},[t._v(t._s(t.usedCount))]),t._v(" "),e("span",[t._v("Available")]),t._v(" "),e("span",{staticClass:"text-base ml-1 text-bold"},[t._v(t._s(t.canClaimNum))]),t._v(" "),t.compactMode?t._e():e("i",{staticClass:"border-line"}),t._v(" "),t.compactMode?t._e():e("span",[t._v("Claimed Points")]),t._v(" "),t.compactMode?t._e():e("span",{staticClass:"text-base ml-1 text-bold"},[t._v(t._s(t.claimedLoyaltyPoints))])]):e("div",{staticClass:"d-flex justify-center"},[e("span",[t._v("Claimed")]),t._v(" "),e("span",{staticClass:"text-base ml-1 mr-3 text-bold"},[t._v(t._s(t.usedCount))]),t._v(" "),e("span",[t._v("Available")]),t._v(" "),e("span",{staticClass:"text-base ml-1 text-bold"},[t._v(t._s(t.canClaimNum))])])]):e("div",[t._v(t._s(t.notOnChainText))])])}),[],!1,null,"91660c02",null);e.default=component.exports},2777:function(t,e,n){var content=n(3028);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(41).default)("677e81be",content,!0,{sourceMap:!1})},2914:function(t,e,n){var content=n(3248);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(41).default)("22fe3788",content,!0,{sourceMap:!1})},2992:function(t,e,n){"use strict";n.r(e);var r=n(2392),o=n(858),c=(n(46),n(58),n(11)),l=n(12),d=n(19),m=n(24),h=n(17),f=n(8),v=(n(30),n(16),n(80),n(48),n(14)),y=n(233),x=n.n(y),C=n(9),w=n(513),k=n(89),_=n(210),P=n(178);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}var R=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},j=function(t){Object(d.a)(n,t);var e=O(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"sanitize",get:function(){return P.b}},{key:"sanitizeAssets",get:function(){return P.a}},{key:"isDraftType",get:function(){return!!this.campaign.status&&"draft"===this.campaign.status.toLowerCase()}},{key:"isBounty",get:function(){return this.campaign.type===C.n.Bounty}},{key:"isParent",get:function(){return!!this.campaign.childrenCampaigns}},{key:"isTokenReward",get:function(){return this.campaign.type===C.n.Token}},{key:"isLoyaltyPointMysteryBox",get:function(){return this.campaign.type===C.n.PointsMysteryBox}},{key:"tokenObject",get:function(){var t;return Object(w.e)(this.campaign.tokenReward.tokenAddress,null===(t=this.campaign.tokenRewardContract)||void 0===t?void 0:t.chain)}},{key:"tokenIcon",get:function(){return this.tokenObject?this.tokenObject.icon:""}},{key:"tokenName",get:function(){var t;return null===(t=this.tokenObject)||void 0===t?void 0:t.name}},{key:"tokenDecimals",get:function(){return this.tokenObject?this.tokenObject.decimals:0}},{key:"userTokenAmount",get:function(){return Number(new x.a(this.campaign.tokenReward.userTokenAmount*this.winnerNum).multipliedBy(Math.pow(10,-1*this.tokenDecimals)))}},{key:"winnerNum",get:function(){return this.campaign.cap}},{key:"isDiscordRole",get:function(){return this.campaign.type===C.n.DiscordRole}},{key:"isPointReward",get:function(){return this.campaign.type===C.n.Points||this.campaign.type===C.n.PointsMysteryBox}},{key:"discordName",get:function(){return"".concat(this.campaign.rewardInfo.discordRole.guildName," ").concat(this.campaign.rewardInfo.discordRole.roleName)}},{key:"membersCount",get:function(){return this.campaign.participants.bountyWinnersCount+this.campaign.participants.participantsCount}},{key:"isOat",value:function(t){return t===C.n.Oat}},{key:"isGIF",value:function(t){return Object(_.d)(t)}},{key:"isVideoCover",value:function(t){return Object(_.m)(t)||Object(_.d)(t)}},{key:"resizeImageMediumUrl",value:function(t){return Object(k.l)(t)}},{key:"transformToVideoList",value:function(t){return Object(k.p)(t)}}]),n}(v.Vue);R([Object(v.Prop)({required:!0})],j.prototype,"campaign",void 0),R([Object(v.Prop)({required:!1,default:!1,type:Boolean})],j.prototype,"hideRewardName",void 0);var T=j=R([v.Component],j),D=(n(3247),n(32)),component=Object(D.a)(T,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e(o.a,{attrs:{"aspect-ratio":256/308,"content-class":"position-relative flex-all-center"}},[t.isOat(t.campaign.gamification.type)?[e("div",{staticClass:"position-absolute width-100 height-100"},[t.isVideoCover(t.campaign.thumbnail)?e("video",{staticClass:"campaign-img-src campaign-video",attrs:{controls:!1,disablePictureInPicture:"",oncontextmenu:"return(false);","webkit-playsinline":"",playsinline:"",autoplay:"true",loop:"true",muted:"true","x5-video-player-type":"h5","x-webkit-airplay":"true"},domProps:{muted:!0}},[t._l(t.transformToVideoList(t.campaign.thumbnail),(function(video,t){return e("source",{key:t,attrs:{src:video.url,type:video.type}})})),t._v(" "),t.isGIF(t.campaign.thumbnail)?e("a",{attrs:{href:t.sanitize(t.campaign.thumbnail)}},[t._v("Click here to view original GIF")]):t._e()],2):[e("img",{staticClass:"campaign-oat-bg",attrs:{src:t.sanitizeAssets(t.resizeImageMediumUrl(t.campaign.thumbnail)),alt:t.campaign.name}}),t._v(" "),e("div",{staticClass:"position-relative height-100"},[e("div",{staticClass:"campaign-oat-bg-meng"})]),t._v(" "),e(o.a,{staticClass:"campaign-oat-box",attrs:{"aspect-ratio":1}},[e("div",[e(r.a,{staticClass:"campaign-oat-img height-100 width-100",attrs:{"aspect-ratio":1,src:t.sanitizeAssets(t.resizeImageMediumUrl(t.campaign.thumbnail))}})],1)])]],2)]:t.isBounty?[e("div",{staticClass:"custom-reward-wrapper d-flex justify-center align-center width-100 height-100"},[e("div",{staticClass:"height-100 width-100 flex-all-center position-absolute"},[e("img",{staticClass:"image-background",attrs:{src:n(2489)}})]),t._v(" "),e(r.a,{staticClass:"campaign-img-src",attrs:{"aspect-ratio":256/308,height:"75%",src:n(2489),contain:""}}),t._v(" "),t.hideRewardName?t._e():e("div",{staticClass:"reward-name text-16-semi-bold text-overline-ellipsis-1 text-darken-1"},[t._v("\n        "+t._s(t.campaign.rewardName)+"\n      ")])],1)]:t.isPointReward?[e("div",{staticClass:"point-reward-wrapper d-flex justify-center align-center width-100 height-100 d-flex"},[e("div",{staticClass:"height-100 width-100 flex-all-center position-absolute"},[e("img",{staticClass:"image-background",attrs:{src:n(2486)}})]),t._v(" "),e(r.a,{staticClass:"campaign-img-src",attrs:{"aspect-ratio":256/308,height:"75%",src:n(2486),contain:""}})],1)]:t.isDiscordRole?[e("div",{staticClass:"discord-role-wrapper d-flex justify-center align-center width-100 height-100"},[e("div",{staticClass:"height-100 width-100 flex-all-center position-absolute"},[e("img",{staticClass:"image-background",attrs:{src:n(2490)}})]),t._v(" "),e(r.a,{staticClass:"campaign-img-src",attrs:{"aspect-ratio":256/308,height:"75%",src:n(2490),contain:""}}),t._v(" "),t.hideRewardName?t._e():[e("div",{staticClass:"role-name text-16-semi-bold text-overline-ellipsis-1 text-darken-1"},[t._v("\n          "+t._s(t.discordName)+"\n        ")]),t._v(" "),e("div",{staticClass:"role-count"},[e("i",{staticClass:"iconfont icon-member-l text-16-regular text-darken-1"}),t._v(" "),e("span",{staticClass:"text-16-regular text-darken-1"},[t._v(t._s(t.membersCount))])])]],2)]:t.isTokenReward?[e("div"),t._v(" "),e("div",{staticClass:"position-absolute width-100 height-100"},[e("img",{staticClass:"campaign-oat-bg",attrs:{src:t.tokenIcon}}),t._v(" "),e("div",{staticClass:"position-relative height-100"},[e("div",{staticClass:"campaign-oat-bg-meng"}),t._v(" "),e("div",{staticClass:"flex-all-center position-absolute width-100 height-100"},[e("div",{staticClass:"d-flex flex-column align-center justify-center"},[e("img",{attrs:{src:t.sanitizeAssets(t.tokenIcon),width:"112",height:"112"}}),t._v(" "),e("div",{staticClass:"token-title text-28-bold mt-4 text-overline-ellipsis-1",staticStyle:{"max-width":"100%"}},[t._v("\n              "+t._s(t.userTokenAmount)+" "+t._s(t.tokenName)+"\n            ")])])])])])]:[e("div",{staticClass:"position-absolute campaign-img"},[t.isParent?e("img",{staticClass:"oat-icon",attrs:{src:n(3173)}}):t._e(),t._v(" "),t.isVideoCover(t.campaign.thumbnail)?e("video",{staticClass:"campaign-img-src",attrs:{controls:!1,disablePictureInPicture:"",oncontextmenu:"return(false);","webkit-playsinline":"",playsinline:"",autoplay:"true",loop:"true",muted:"true","x5-video-player-type":"h5","x-webkit-airplay":"true"},domProps:{muted:!0}},[t._l(t.transformToVideoList(t.campaign.thumbnail),(function(video,t){return e("source",{key:t,attrs:{src:video.url,type:video.type}})})),t._v(" "),t.isGIF(t.campaign.thumbnail)?e("a",{attrs:{href:t.sanitize(t.campaign.thumbnail)}},[t._v("Click here to view original GIF")]):t._e()],2):e(r.a,{staticClass:"campaign-img-src",attrs:{"aspect-ratio":256/308,src:t.sanitizeAssets(t.resizeImageMediumUrl(t.campaign.thumbnail)),contain:""}})],1)],t._v(" "),t.isDraftType?e("span",{staticClass:"tag-draft"},[t._v("Draft")]):t._e()],2)}),[],!1,null,"4d2ff490",null);e.default=component.exports},2999:function(t,e,n){var content=n(3400);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(41).default)("78c9004f",content,!0,{sourceMap:!1})},3027:function(t,e,n){"use strict";n(2777)},3028:function(t,e,n){var r=n(40)((function(i){return i[1]}));r.push([t.i,".forge-tip[data-v-91660c02]{font-size:12px;line-height:22px;color:#0578ff;cursor:pointer}.border-line[data-v-91660c02]{display:inline-block;width:1px;height:20px;background-color:hsla(0,0%,100%,.1);margin:0 16px}",""]),r.locals={},t.exports=r},3073:function(t,e,n){"use strict";n.r(e);var r=n(12),o=n(11),c=n(19),l=n(24),d=n(17),m=n(8),h=(n(30),n(16),n(58),n(14)),f=n(912);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var y=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},x=function(t){Object(c.a)(n,t);var e=v(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n)}(h.Vue);y([Object(h.Prop)({required:!0})],x.prototype,"title",void 0),y([Object(h.Prop)({required:!0,default:[]})],x.prototype,"childrenCampaignsList",void 0),y([Object(h.Prop)({required:!1})],x.prototype,"nftContractList",void 0);var C=x=y([Object(h.Component)({components:{Copy:f.default}})],x),w=n(32),component=Object(w.a)(C,(function(){var t=this,e=t._self._c;t._self._setupProxy;return 0===t.childrenCampaignsList.length&&t.nftContractList.length>0?e("div",{},[e("div",{staticClass:"text-lighten-1 mb-2"},[t._v(t._s(t.title))]),t._v(" "),t._l(t.nftContractList,(function(n,r){return e("div",{key:r},[e("Copy",{ref:"copyComponent",refInFor:!0,attrs:{content:n.contractAddress}},[e("a",{staticClass:"text-16-bold text-link",attrs:{href:n.url,target:"_blank",rel:"noopener noreferrer"}},[t._v(t._s(n.addressFormat))])])],1)}))],2):t._e()}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Copy:n(912).default})},3074:function(t,e,n){"use strict";n.r(e);var r=n(2414),o=n(2394),c=n(2393),l=n(1359),d=n(2391),m=(n(46),n(48),[function(){var t=this._self._c;this._self._setupProxy;return t("div",{staticClass:"campaign-lock"},[t("img",{staticClass:"campaign-oat-bg",staticStyle:{width:"32px"},attrs:{src:n(3069)}})])}]),h=(n(58),n(1)),f=n(52),v=n(11),y=n(12),x=n(19),C=n(24),w=n(17),k=n(8),_=(n(66),n(30),n(16),n(71),n(91),n(87),n(80),n(43),n(99),n(86),n(129),n(37),n(14)),P=n(195),O=n.n(P),R=n(2578),j=n.n(R),T=n(294),D=n(2541),A=n.n(D),I=n(3102),M=n.n(I),N=n(9),S=n(89),B=n(513),$=n(28),L=n(2961),F=n(3103),E=n(2532),W=n(2840),H=n(2993),U=n(373),z=n(2994),G=n(72),V=n(2995),Y=n(2861),Q=n(2709);function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(w.a)(t);if(e){var o=Object(w.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(C.a)(this,n)}}var X=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(k.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},K=function(t){Object(x.a)(l,t);var e,r,o,c=J(l);function l(){var t;return Object(v.a)(this,l),(t=c.apply(this,arguments)).showDialog=!1,t.curParticipants=null,t.participantsFirst=0,t.participantsAfter="-1",t.winnerFirst=0,t.winnerAfter="-1",t.holdersFirst=0,t.holdersAfter="-1",t.pageLimit=50,t.downloadLimit=1e3,t.selectedIndex=0,t.tmpParticipantsAfter="-1",t.tmpWinnerAfter="-1",t.tmpHolderAfter="-1",t.downloadParticipantsArray=[],t.downloadWinnerArray=[],t.downloadHolderArray=[],t.blockHeightHover=!1,t}return Object(y.a)(l,[{key:"showDownloadButton",get:function(){return this.$vuetify.breakpoint.width>1023&&this.isAdmin&&!this.showHolders}},{key:"showDownloadMenu",get:function(){return this.$vuetify.breakpoint.width>1023&&this.isAdmin&&this.showHolders}},{key:"blockHeight",get:function(){return this.campaign.nftHolderSnapshot.holderSnapshotBlock}},{key:"showHolders",get:function(){var t=this.campaignChain,e=this.campaignType;return(t===N.c.Bsc&&e===N.n.Oat||t===N.c.Ethereum&&(e===N.n.Drop||e===N.n.MysteryBox)||t===N.c.Matic&&(e===N.n.Oat||e===N.n.Drop||e===N.n.MysteryBox))&&!this.is1155NFT}},{key:"nftCoreId",get:function(){return O.a.get(this.campaign,"gamification.nfts[0].nft.nftCore.id","")}},{key:"is1155NFT",get:function(){return F.a.includes(this.nftCoreId)}},{key:"campaignType",get:function(){return this.campaign.type}},{key:"campaignChain",get:function(){return this.campaign.chain}},{key:"rewardType",get:function(){return this.campaign.rewardType}},{key:"isAdmin",get:function(){var t;return null===(t=this.campaign)||void 0===t?void 0:t.space.isAdmin}},{key:"showCustomCard",get:function(){return this.isCustomReward||this.isTokenReward||this.isLoyaltyPointsReward}},{key:"responsiveParticipantsList",get:function(){var t=this.$vuetify.breakpoint.width>1392?12:Math.floor((.333*this.$vuetify.breakpoint.width-96)/27);return[].concat(Object(f.a)(this.topWinnerParticipants),Object(f.a)(this.topParticipants)).slice(0,t)}},{key:"participantsList",get:function(){return this.curParticipants?this.curParticipants.participants.list:[]}},{key:"winnerList",get:function(){return this.curParticipants?this.curParticipants.bountyWinners.list:[]}},{key:"boxNfts",get:function(){return this.campaign.gamification.nfts}},{key:"mediaUrl",get:function(){var t,e,n;return this.isMysteryBox||this.isMysteryBoxWr||this.isLoyaltyPointMysteryBox?"https://cdn.galxe.com/static/mystery-box.png":this.isDrop&&this.campaign.gamification.nfts?(null===(e=null===(t=this.campaign.gamification.nfts[0])||void 0===t?void 0:t.nft)||void 0===e?void 0:e.animationURL)?this.campaign.gamification.nfts[0].nft.animationURL:null===(n=this.campaign.gamification.nfts[0])||void 0===n?void 0:n.nft.image:this.campaign.thumbnail}},{key:"isRaffle",get:function(){return this.campaign.distributionType===N.m.Raffle}},{key:"claimedTheTokenRaffle",get:function(){return!!(this.isTokenReward&&this.isRaffle&&this.$attrs["is-token-raffle-participate-ended"])&&(1===Number(this.$attrs["max-count"])&&1===Number(this.$attrs["used-count"]))}},{key:"tokenObject",get:function(){var t;return Object(B.e)(this.campaign.tokenReward.tokenAddress,null===(t=this.campaign.tokenRewardContract)||void 0===t?void 0:t.chain)}},{key:"bgUrl",get:function(){var t,e,r;return this.isTokenReward?null===(t=this.tokenObject)||void 0===t?void 0:t.icon:this.isCustomReward?n(3269):this.isDiscordRole?n(3270):this.isMysteryBox||this.isMysteryBoxWr?n(3271):this.isLoyaltyPointsReward?n(3272):this.isDrop&&this.campaign.gamification.nfts?Object(S.k)(null===(r=null===(e=this.campaign.gamification.nfts[0])||void 0===e?void 0:e.nft)||void 0===r?void 0:r.image):Object(S.k)(this.campaign.thumbnail)}},{key:"isOat",get:function(){return this.campaign.gamification.type===N.n.Oat}},{key:"isDrop",get:function(){return this.campaign.gamification.type===N.n.Drop}},{key:"boxType",get:function(){return this.isForge?L.a.Forge:this.isMysteryBox?L.a.Mystery:""}},{key:"isForge",get:function(){return this.campaign.gamification.type===N.n.Forge}},{key:"isMysteryBox",get:function(){return this.campaign.gamification.type===N.n.MysteryBox}},{key:"isMysteryBoxWr",get:function(){return this.campaign.gamification.type===N.n.MysteryBoxWr}},{key:"isLoyaltyPointMysteryBox",get:function(){return this.campaign.gamification.type===N.n.PointsMysteryBox}},{key:"isCustomReward",get:function(){return this.campaign.type===N.n.Bounty}},{key:"isTokenReward",get:function(){return this.campaign.type===N.n.Token}},{key:"isLoyaltyPointsReward",get:function(){return this.campaign.type===N.n.Points}},{key:"isDiscordRole",get:function(){return this.campaign.type===N.n.DiscordRole}},{key:"isFcfs",get:function(){return this.campaign.distributionType===N.m.Fcfs}},{key:"isCustomRewardRaffle",get:function(){return this.campaign.type===N.n.Bounty&&this.campaign.distributionType===N.m.Raffle}},{key:"participantsVariables",get:function(){return{id:this.campaign.id,pfirst:this.participantsFirst,pafter:this.participantsAfter,wfirst:this.winnerFirst,wafter:this.winnerAfter,pDownload:!1,bDownload:!1}}},{key:"holdersVariables",get:function(){return{id:this.campaign.id,first:this.holdersFirst,after:this.holdersAfter,block:this.blockHeight}}},{key:"loadingMoreVisibilityChange",value:(o=Object(h.a)(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$apollo.queries.curParticipants&&!this.$apollo.queries.curParticipants.loading){t.next=2;break}return t.abrupt("return");case 2:if(e){t.next=4;break}return t.abrupt("return");case 4:if(!this.curParticipants||this.curParticipants.participants.pageInfo.hasNextPage||this.curParticipants.bountyWinners.pageInfo.hasNextPage){t.next=6;break}return t.abrupt("return");case 6:this.$apollo.queries.curParticipants.fetchMore({variables:O.a.defaultsDeep({},{wfirst:this.curParticipants&&!this.curParticipants.bountyWinners.pageInfo.hasNextPage?0:this.pageLimit,wafter:null===(n=this.curParticipants)||void 0===n?void 0:n.bountyWinners.pageInfo.endCursor,pfirst:this.curParticipants&&!this.curParticipants.bountyWinners.pageInfo.hasNextPage&&this.curParticipants.participants.pageInfo.hasNextPage?this.pageLimit:0,pafter:null===(r=this.curParticipants)||void 0===r?void 0:r.participants.pageInfo.endCursor},this.participantsVariables),updateQuery:function(t,e){var n=e.fetchMoreResult;return n?{campaign:{id:n.campaign.id,numberID:n.campaign.numberID,participants:{bountyWinners:{list:[].concat(Object(f.a)(t.campaign.participants.bountyWinners.list),Object(f.a)(n.campaign.participants.bountyWinners.list)),pageInfo:n.campaign.participants.bountyWinners.pageInfo,__typename:t.campaign.participants.bountyWinners.__typename},bountyWinnersCount:n.campaign.participants.bountyWinnersCount,participants:{list:[].concat(Object(f.a)(t.campaign.participants.participants.list),Object(f.a)(n.campaign.participants.participants.list)),pageInfo:n.campaign.participants.participants.pageInfo,__typename:t.campaign.participants.participants.__typename},participantsCount:n.campaign.participants.participantsCount,__typename:t.campaign.participants.participants.__typename},__typename:t.campaign.__typename}}:t}});case 7:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"showWhatInBox",value:function(){this.boxType&&this.$refs.coverBox.showPage(this.boxType)}},{key:"goParentCampaign",value:function(){var path=$.a.CAMPAIGN;path=(path=path.replace(":space",this.campaign.dao.alias)).replace(":campaignID",this.campaign.parentCampaign?this.campaign.parentCampaign.id:this.campaign.id),this.$router.push({path:path})}},{key:"gotoProfile",value:function(t){var address,path=$.a.GALAXY_ID_DETAIL;address=this.rewardType===N.H.Solana?t.solanaAddress:this.rewardType===N.H.Aptos?t.aptosAddress:t.address,path=path.replace(":galaxyIdAddress",address),this.$router.push({path:path})}},{key:"getItems",value:(r=Object(h.a)(regeneratorRuntime.mark((function t(){var e,data,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$apollo.query({query:A.a,fetchPolicy:"network-only",variables:{id:this.campaign.id,pfirst:this.downloadLimit,pafter:this.tmpParticipantsAfter,wfirst:this.downloadLimit,wafter:this.tmpWinnerAfter,pDownload:!0,bDownload:!0}});case 3:if(e=t.sent,!(data=e.data)||!data.campaign){t.next=16;break}if(this.downloadWinnerArray.length<data.campaign.participants.bountyWinnersCount&&(this.downloadWinnerArray=this.downloadWinnerArray.concat(data.campaign.participants.bountyWinners.list.map((function(t){return n.rewardType===N.H.Email?"".concat(t.email," winner"):n.rewardType===N.H.Evm?"".concat(t.address," winner"):n.rewardType===N.H.Solana?"".concat(t.solanaAddress," winner"):n.rewardType===N.H.Aptos?"".concat(t.aptosAddress," winner"):""}))),this.tmpWinnerAfter=data.campaign.participants.bountyWinners.pageInfo.endCursor),this.downloadParticipantsArray.length<data.campaign.participants.participantsCount&&(this.downloadParticipantsArray=this.downloadParticipantsArray.concat(data.campaign.participants.participants.list.map((function(t){return n.isDiscordRole?t.discordUserID:n.rewardType===N.H.Email?t.email:n.rewardType===N.H.Evm?t.address:n.rewardType===N.H.Solana?t.solanaAddress:n.rewardType===N.H.Aptos?t.aptosAddress:""}))),this.tmpParticipantsAfter=data.campaign.participants.participants.pageInfo.endCursor),!data.campaign.participants.bountyWinners.pageInfo.hasNextPage&&!data.campaign.participants.participants.pageInfo.hasNextPage){t.next=13;break}return t.next=11,this.getItems();case 11:t.next=16;break;case 13:if(!this.isDiscordRole){t.next=15;break}return t.abrupt("return",this.output([].concat(Object(f.a)(this.downloadWinnerArray),Object(f.a)(this.downloadParticipantsArray)),"DiscordRole",["discord id"]));case 15:return t.abrupt("return",this.output([].concat(Object(f.a)(this.downloadWinnerArray),Object(f.a)(this.downloadParticipantsArray)),"Participants",["address"]));case 16:t.next=20;break;case 18:t.prev=18,t.t0=t.catch(0);case 20:case"end":return t.stop()}}),t,this,[[0,18]])}))),function(){return r.apply(this,arguments)})},{key:"getHolderItems",value:(e=Object(h.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$apollo.query({query:M.a,fetchPolicy:"network-only",variables:{id:this.campaign.id,first:this.downloadLimit,after:this.tmpHolderAfter,block:this.blockHeight}});case 3:if(e=t.sent,!((data=e.data)&&data.campaign&&data.campaign.nftHolderSnapshot)){t.next=14;break}if(this.downloadHolderArray=this.downloadHolderArray.concat(data.campaign.nftHolderSnapshot.holders.list.map((function(t){return"".concat(t.id,",").concat(t.holder)}))),this.tmpHolderAfter=data.campaign.nftHolderSnapshot.holders.pageInfo.endCursor,!data.campaign.nftHolderSnapshot.holders.pageInfo.hasNextPage){t.next=13;break}return t.next=11,this.getHolderItems();case 11:t.next=14;break;case 13:return t.abrupt("return",this.output(Object(f.a)(this.downloadHolderArray),"Holders",["token id","address"]));case 14:t.next=18;break;case 16:t.prev=16,t.t0=t.catch(0);case 18:case"end":return t.stop()}}),t,this,[[0,16]])}))),function(){return e.apply(this,arguments)})},{key:"output",value:function(t,e,title){var n,r,o=null===(n=this.campaign.rewardInfo.discordRole)||void 0===n?void 0:n.guildName,c=null===(r=this.campaign.rewardInfo.discordRole)||void 0===r?void 0:r.roleName,l="".concat(title.join(","),"\r\n");t.forEach((function(t){l+="".concat(t,"\r\n")}));var d="data:text/csv;charset=utf-8,".concat(l),m=document.createElement("a");m.href=d,m.download="DiscordRole"===e?"".concat(o,"_").concat(c,"_").concat(this.formatTime(Date.now()),".csv"):"Participants"===e?"".concat(this.campaign.name.split(" ").join("_"),"_").concat(e,".csv"):"".concat(this.campaign.name.split(" ").join("_"),"_").concat(e,"_").concat(this.blockHeight,".csv"),document.body.appendChild(m),m.click(),document.body.removeChild(m)}},{key:"filterAddress",value:function(t){var address;return address=this.rewardType===N.H.Solana?t.solanaAddress:this.rewardType===N.H.Aptos?t.aptosAddress:t.address,"".concat(address.substring(0,6),"...").concat(address.substring(address.length-4))}},{key:"resizeImageTinyUrl",value:function(t){return Object(S.n)(t)}},{key:"formatTime",value:function(t){return Object(T.a)(t,"yyyy-MM-dd")}},{key:"handleDialog",value:function(){var t=this;this.showDialog=!0,this.curParticipants||this.$apollo.addSmartQuery("curParticipants",{query:A.a,variables:function(){return t.participantsVariables},update:function(data){return data.campaign.participants},errorPolicy:"all",fetchPolicy:"cache-and-network",debounce:600,deep:!0})}},{key:"toExplorer",value:function(){var t=this.campaignChain,e=this.campaignType;t===N.c.Bsc&&e===N.n.Oat?Object(G.a)("https://bscscan.com/block/".concat(this.blockHeight),"_blank"):t!==N.c.Ethereum||e!==N.n.Drop&&e!==N.n.MysteryBox?t!==N.c.Matic||e!==N.n.Oat&&e!==N.n.Drop&&e!==N.n.MysteryBox?t!==N.c.Fantom||e!==N.n.Drop&&e!==N.n.MysteryBox?t!==N.c.Avalanche||e!==N.n.Drop&&e!==N.n.MysteryBox?t!==N.c.Arbitrum||e!==N.n.Drop&&e!==N.n.MysteryBox?t!==N.c.Optimism||e!==N.n.Drop&&e!==N.n.MysteryBox?t!==N.c.BobaEth||e!==N.n.Drop&&e!==N.n.MysteryBox||Object(G.a)("https://bobascan.com/batch/".concat(this.blockHeight),"_blank"):Object(G.a)("https://optimistic.etherscan.io/block/".concat(this.blockHeight),"_blank"):Object(G.a)("https://arbiscan.io/block/".concat(this.blockHeight),"_blank"):Object(G.a)("https://snowtrace.io/block/".concat(this.blockHeight),"_blank"):Object(G.a)("https://ftmscan.com/block/".concat(this.blockHeight),"_blank"):Object(G.a)("https://polygonscan.com/block/".concat(this.blockHeight),"_blank"):Object(G.a)("https://etherscan.io/block/".concat(this.blockHeight),"_blank")}}]),l}(_.Vue);X([Object(_.Prop)({required:!0})],K.prototype,"campaign",void 0),X([Object(_.Prop)({required:!0})],K.prototype,"participantsCount",void 0),X([Object(_.Prop)({required:!0,default:void 0})],K.prototype,"isLocked",void 0),X([Object(_.Prop)({required:!0})],K.prototype,"topWinnerParticipants",void 0),X([Object(_.Prop)({required:!0})],K.prototype,"topParticipants",void 0);var Z=K=X([Object(_.Component)({components:{CampaignMedia:E.default,CampaignBtn:W.default,CampaignAvatar:U.default,CoverPage:H.default,VueCountdown:j.a,CustomReward:Q.default,TokenRewardCard:Y.default,DiscordRole:V.default,CampaignLoyaltyPoint:z.default}})],K),tt=(n(3399),n(32)),component=Object(tt.a)(Z,(function(){var t,e,m,h=this,f=h._self._c;h._self._setupProxy;return f("div",{staticClass:"media-container",class:{"mb-6":h.boxType&&h.$vuetify.breakpoint.smAndDown}},[f("div",{staticClass:"media-container-bg",style:{"background-image":"url(".concat(h.bgUrl,")")}}),h._v(" "),f("div",{staticClass:"media-container-main",class:{"mystery-wrapper":h.boxType,"oat-wrapper":h.isOat,"bounty-wrapper":h.showCustomCard}},[h.isCustomReward?f("CustomReward",h._b({staticClass:"media-container-main-media custom-reward",attrs:{"is-fcfs":h.isFcfs,name:h.campaign.rewardName}},"CustomReward",h.$attrs,!1)):h.isTokenReward?f("TokenRewardCard",h._b({staticClass:"media-container-main-media custom-reward",attrs:{"is-fcfs":h.isFcfs,campaign:h.campaign,name:h.campaign.name,"claimed-the-token-raffle":h.claimedTheTokenRaffle}},"TokenRewardCard",h.$attrs,!1)):h.isLoyaltyPointsReward?f("CampaignLoyaltyPoint",h._b({staticClass:"media-container-main-media custom-reward",attrs:{"is-fcfs":h.isFcfs,campaign:h.campaign,name:h.campaign.name,"claimed-the-token-raffle":h.claimedTheTokenRaffle}},"CampaignLoyaltyPoint",h.$attrs,!1)):h.isDiscordRole?f("DiscordRole",h._b({staticClass:"media-container-main-media custom-reward",attrs:{campaign:h.campaign}},"DiscordRole",h.$attrs,!1)):f("CampaignMedia",{staticClass:"media-container-main-media",class:{"mystery-media":h.boxType,"oat-media":h.isOat},attrs:{"media-url":h.mediaUrl,"is-oat":h.isOat,"in-detail":""}}),h._v(" "),h.boxType?f("div",{staticClass:"position-relative mt-4 width-100",staticStyle:{"min-height":"40px"},on:{click:h.showWhatInBox}},[f("div",{staticClass:"box-nfts-container"},[f("div",{staticClass:"flex-all-center ma-auto"},h._l(h.boxNfts,(function(t,e){var n;return f("CampaignMedia",{key:e,staticClass:"box-sm-item mr-4",attrs:{"media-url":null==t||null===(n=t.nft)||void 0===n?void 0:n.image}})})),1)]),h._v(" "),f("img",{staticClass:"full-screen-icon clickable",attrs:{src:n(3398)}})]):h._e(),h._v(" "),f("div",{staticClass:"op-btn flex-all-center"},[!0===h.isLocked?f("div",{staticClass:"campaign-lock-wrap"},[h._m(0),h._v(" "),f("div",{staticStyle:{"margin-top":"12px"}},[f("div",{staticClass:"text-14-regular",staticStyle:{color:"#a8aeba"}},[h._v("\n            Please complete the previous campaigns in order.\n          ")]),h._v(" "),f("span",{staticStyle:{color:"#1e5dff","font-weight":"700","font-size":"14px",cursor:"pointer"},on:{click:h.goParentCampaign}},[h._v("\n            View Campaign Collection.\n          ")])])]):h._e(),h._v(" "),!1!==h.isLocked&&null!==(t=h.campaign)&&void 0!==t&&null!==(e=t.parentCampaign)&&void 0!==e&&e.id?h._e():f("CampaignBtn",h._g(h._b({staticClass:"width-100 linear-blue",attrs:{small:!1,campaign:h.campaign,"in-detail":!0}},"CampaignBtn",h.$attrs,!1),h.$listeners))],1),h._v(" "),h.participantsCount>0?f("div",{staticClass:"participants-wrapper mt-10",on:{click:h.handleDialog}},[f("div",{staticClass:"participants"},[f("div",{staticClass:"participants-count"},[h._v("\n          "+h._s("".concat(h.isDiscordRole?"Assigned Members ":"All Participants ","(").concat(h.participantsCount,")"))+"\n        ")]),h._v(" "),f("div",{staticClass:"avatars-wrapper d-flex mt-3"},h._l(h.responsiveParticipantsList,(function(t){return f("div",{key:t.avatar,staticClass:"avatar"},[f("CampaignAvatar",{staticClass:"avatar-item",attrs:{src:t.avatar}}),h._v(" "),t.winner?f("img",{staticClass:"winner",attrs:{src:n(2693)}}):h._e()],1)})),0)])]):h._e()],1),h._v(" "),f("div",{staticClass:"blur-layer"}),h._v(" "),f("div",{staticClass:"bottom-layer"}),h._v(" "),f("CoverPage",{ref:"coverBox",attrs:{"nft-list":h.campaign.gamification.nfts}}),h._v(" "),f(r.a,{attrs:{"content-class":"participate-dialog",fullscreen:"","overlay-opacity":"1",transition:"dialog-bottom-transition"},model:{value:h.showDialog,callback:function(t){h.showDialog=t},expression:"showDialog"}},[f("div",{staticClass:"participants-container"},[f("div",{staticClass:"header-wrapper"},[f("div",{staticClass:"close-button"},[f("img",{attrs:{src:n(2706)},on:{click:function(t){h.showDialog=!1}}})]),h._v(" "),f("div",{staticClass:"header-buttons"},[f("div",{staticClass:"count-buttons-wrapper"},[f("div",{staticClass:"header-icon"}),h._v(" "),f("div",{class:["participants-count",0===h.selectedIndex?"selected":""],on:{click:function(t){h.selectedIndex=0}}},[h._v("\n              "+h._s("".concat(h.isDiscordRole?"Assigned Members ":"Participants ","(").concat(h.participantsCount,")"))+"\n            ")])]),h._v(" "),h.showDownloadButton?f("div",{staticClass:"download-button",on:{click:h.getItems}},[f("i",{staticClass:"iconfont icon-download mr-3"}),h._v("Download\n          ")]):h._e(),h._v(" "),h.showDownloadMenu?f("div",{staticClass:"download-menu"},[f(d.a,{attrs:{attach:".download-menu","offset-y":"","nudge-top":"-8"},scopedSlots:h._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[f("div",h._g(h._b({staticClass:"download-button"},"div",n,!1),e),[f("i",{staticClass:"iconfont icon-download mr-3"}),h._v("Download\n                ")])]}}],null,!1,4080557391)},[h._v(" "),f(o.a,[f(c.a,{on:{click:h.getItems}},[f(l.b,{staticClass:"flex-align-center"},[h.isDiscordRole?f("div",[h._v("Download Members")]):f("div",[h._v("Download Participants")])])],1),h._v(" "),f(c.a,{on:{click:h.getHolderItems}},[f(l.b,{staticClass:"flex-column flex-justify-center"},[f("div",[h._v("Download Holders")]),h._v(" "),f("div",{staticClass:"block-height"},[f("span",[h._v(h._s("Block Height: ".concat(h.blockHeight)))]),h._v(" "),f("div",{on:{mouseover:function(t){h.blockHeightHover=!0},mouseout:function(t){h.blockHeightHover=!1},click:function(t){return t.stopPropagation(),h.toExplorer.apply(null,arguments)}}},[h.blockHeightHover?f("i",{staticClass:"iconfont hover-class icon-jump2_xs ml-1"}):f("i",{staticClass:"iconfont icon-jump1_xs ml-1"})])])])],1)],1)],1)],1):h._e()])]),h._v(" "),f("div",{staticClass:"participants-wrapper width-100"},[f("div",{staticClass:"participants-list"},[f("div",{class:[0===h.selectedIndex?"grid-waterfall":"display-none"]},[h._l(h.winnerList,(function(t){return f("div",{key:t.address,staticClass:"participant",on:{click:function(e){return h.gotoProfile(t)}}},[f("div",[f("CampaignAvatar",{staticClass:"participant-avatar",attrs:{src:t.avatar}}),h._v(" "),f("img",{staticClass:"participant-winner",attrs:{src:n(2693)}})],1),h._v(" "),f("div",{staticClass:"name-or-address"},[h._v("\n                "+h._s(t.username||h.filterAddress(t))+"\n              ")])])})),h._v(" "),h._l(h.participantsList,(function(t){return f("div",{key:t.address,staticClass:"participant",on:{click:function(e){return h.gotoProfile(t)}}},[f("div",[f("CampaignAvatar",{staticClass:"participant-avatar",attrs:{src:t.avatar}})],1),h._v(" "),f("div",{staticClass:"name-or-address"},[h._v("\n                "+h._s(t.username||h.filterAddress(t))+"\n              ")])])}))],2),h._v(" "),0===h.selectedIndex&&(null===(m=h.$apollo.queries.curParticipants)||void 0===m||!m.loading)&&h.participantsList.length+h.winnerList.length<h.participantsCount?f("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:h.loadingMoreVisibilityChange,expression:"loadingMoreVisibilityChange"}],staticClass:"loading-more-bar"},[f("div",{staticClass:"loading-more"})]):h._e()])])])])],1)}),m,!1,null,"8fb21388",null);e.default=component.exports;installComponents(component,{CustomReward:n(2709).default,TokenRewardCard:n(2861).default,CampaignLoyaltyPoint:n(2994).default,DiscordRole:n(2995).default,CampaignMedia:n(2532).default,CampaignBtn:n(2840).default,CampaignAvatar:n(373).default,CoverPage:n(2993).default})},3113:function(t,e,n){var content=n(3469);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(41).default)("48218e1d",content,!0,{sourceMap:!1})},3247:function(t,e,n){"use strict";n(2914)},3248:function(t,e,n){var r=n(40)((function(i){return i[1]}));r.push([t.i,".oat-icon[data-v-4d2ff490]{position:absolute;height:28px;right:16px;top:16px;z-index:2}.campaign-img[data-v-4d2ff490]{width:100%;height:100%;overflow:hidden}.campaign-oat-bg[data-v-4d2ff490]{width:100%;height:100%;top:0;position:absolute;transform:scale(1.2);filter:blur(60px)}.campaign-oat-box[data-v-4d2ff490]{position:absolute;top:50%;transform:translate(-50%,-50%);width:84%;left:50%}.campaign-oat-img[data-v-4d2ff490]{width:100%;height:100%;border:1px solid #fff;border-radius:1000px}.campaign-oat-bg-meng[data-v-4d2ff490]{position:absolute;width:100%;height:100%;left:0;top:0;background:rgba(0,0,0,.75)}.campaign-img-src[data-v-4d2ff490]{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.campaign-video[data-v-4d2ff490]{position:absolute;top:0;left:0}.tag-draft[data-v-4d2ff490]{font-weight:600;font-size:12px;line-height:16px;color:#fff;background-color:#ff8a00;border:1px solid hsla(0,0%,100%,.4);border-radius:6px 2px;padding:1px 5px;position:absolute;right:15px;bottom:15px}.custom-reward-wrapper[data-v-4d2ff490]{position:relative;background-color:#000}.custom-reward-wrapper .reward-name[data-v-4d2ff490]{bottom:36px}.custom-reward-wrapper .reward-name[data-v-4d2ff490],.custom-reward-wrapper .role-name[data-v-4d2ff490]{position:absolute;margin:0 auto;left:20px;right:20px;text-align:center}.custom-reward-wrapper .role-name[data-v-4d2ff490]{bottom:60px}@media(max-width:768px){.custom-reward-wrapper .role-name[data-v-4d2ff490]{bottom:40px}}.custom-reward-wrapper .role-count[data-v-4d2ff490]{position:absolute;margin:0 auto;left:50%;bottom:33px;transform:translateX(-50%)}@media(max-width:768px){.custom-reward-wrapper .role-count[data-v-4d2ff490]{bottom:20px}}.discord-role-wrapper[data-v-4d2ff490],.point-reward-wrapper[data-v-4d2ff490]{background-color:#000}.image-background[data-v-4d2ff490]{width:100%;transform:scale(2);opacity:.45;filter:blur(15px)}@media screen and (max-width:480px){.oat-icon[data-v-4d2ff490]{right:14px;top:14px}.custom-reward-wrapper .reward-name[data-v-4d2ff490]{font-weight:700;font-size:12px;line-height:20px;bottom:20px}.token-title[data-v-4d2ff490]{font-size:18px!important;line-height:24px!important}}",""]),r.locals={},t.exports=r},3399:function(t,e,n){"use strict";n(2999)},3400:function(t,e,n){var r=n(40),o=n(231),c=n(2456),l=r((function(i){return i[1]})),d=o(c);l.push([t.i,'[data-v-8fb21388] .participate-dialog.v-dialog.v-dialog--active.v-dialog--fullscreen{top:80px!important;height:100vh!important}.media-container[data-v-8fb21388]{position:relative;overflow-y:scroll;float:left;padding:152px 48px 72px;height:100vh;border-right:1px solid var(--v-border-base);background:var(--v-background-darken1)}@media(max-width:1024px){.media-container[data-v-8fb21388]{overflow-y:hidden;background:var(--v-background-base)}}.media-container .media-container-bg[data-v-8fb21388]{background-size:contain;position:absolute;content:"";left:0;top:0;right:0;background-position:50%;height:600px}@media(max-width:1024px){.media-container .media-container-bg[data-v-8fb21388]{height:50%}}.media-container .media-container-main[data-v-8fb21388]{display:flex;flex-direction:column;z-index:2;max-width:348px;width:100%;height:auto;position:relative;margin:0 auto}@media(max-width:1024px){.media-container .media-container-main[data-v-8fb21388]{z-index:0;height:calc(27vh + 80px);position:static}}.media-container .media-container-main .media-container-main-media[data-v-8fb21388]{border-radius:20px;overflow:hidden;z-index:2}.media-container .media-container-main .media-container-main-media.custom-reward[data-v-8fb21388]{height:308px}@media(max-width:1024px){.media-container .media-container-main .media-container-main-media.custom-reward[data-v-8fb21388]{height:240px}}.media-container .media-container-main .media-container-main-media.mystery-media[data-v-8fb21388]{padding:8px 28px 19px}@media(max-width:1024px){.media-container .media-container-main .media-container-main-media.mystery-media[data-v-8fb21388]{padding:0}}.media-container .media-container-main .participants-wrapper[data-v-8fb21388]{cursor:pointer;display:block}@media(max-width:1024px){.media-container .media-container-main .participants-wrapper[data-v-8fb21388]{display:none}}.media-container .media-container-main .participants-wrapper .participants .participants-count[data-v-8fb21388]{font-weight:600;font-size:14px;line-height:22px;color:#fff}.media-container .media-container-main .participants-wrapper .participants .avatars-wrapper[data-v-8fb21388]{height:32px;margin-left:5px}.media-container .media-container-main .participants-wrapper .participants .avatars-wrapper .avatar[data-v-8fb21388]{position:relative}.media-container .media-container-main .participants-wrapper .participants .avatars-wrapper .avatar .avatar-item[data-v-8fb21388]{width:32px;height:32px;border-radius:100%;border:1px solid #fff;margin-left:-5px}.media-container .media-container-main .participants-wrapper .participants .avatars-wrapper .avatar[data-v-8fb21388]:first-child{margin-left:0}.media-container .media-container-main .participants-wrapper .participants .avatars-wrapper .avatar .winner[data-v-8fb21388]{width:18px;height:18px;position:absolute;top:-4px;right:-4px;border:0}.media-container .media-container-main.mystery-wrapper[data-v-8fb21388]{height:auto}@media(max-width:1024px){.media-container .media-container-main.mystery-wrapper[data-v-8fb21388]{height:calc(27vh + 160px)}}.media-container .media-container-main.oat-wrapper[data-v-8fb21388]{height:auto}@media(max-width:1024px){.media-container .media-container-main.oat-wrapper[data-v-8fb21388]{height:calc(27vh + 120px)}}.media-container .media-container-main.bounty-wrapper[data-v-8fb21388]{height:auto}@media(max-width:1024px){.media-container .media-container-main.bounty-wrapper[data-v-8fb21388]{height:calc(27vh + 120px)}}.media-container .blur-layer[data-v-8fb21388]{position:absolute;left:0;top:0;right:0;height:720px;-webkit-backdrop-filter:blur(40px);backdrop-filter:blur(40px);background:rgba(9,11,13,.4);z-index:1}@media(max-width:1024px){.media-container .blur-layer[data-v-8fb21388]{height:100%;background:rgba(15,17,20,.4)}}.media-container .bottom-layer[data-v-8fb21388]{position:absolute;left:0;top:0;right:0;height:720px;background:linear-gradient(180deg,rgba(9,11,13,0),#090a0d)}@media(max-width:1024px){.media-container .bottom-layer[data-v-8fb21388]{height:80%;background:linear-gradient(180deg,rgba(15,17,20,0),#0f1114)}}.participants-container[data-v-8fb21388]{width:100%;height:100%;position:relative;background:#0f1114}.participants-container .header-wrapper[data-v-8fb21388]{width:100%;display:flex;flex-direction:column;align-items:center;position:relative;padding-top:60px}.participants-container .header-wrapper .close-button[data-v-8fb21388]{height:60px;position:absolute;top:39px;right:39px;cursor:pointer}@media(max-width:1024px){.participants-container .header-wrapper .close-button[data-v-8fb21388]{top:28px;right:28px}}.participants-container .header-wrapper .close-button img[data-v-8fb21388]{width:18px;height:18px}@media(max-width:1024px){.participants-container .header-wrapper .close-button img[data-v-8fb21388]{width:15px;height:15px}}.participants-container .header-wrapper .header-buttons[data-v-8fb21388]{width:100%;height:auto;max-width:960px;display:flex;justify-content:space-between;align-items:center}@media(max-width:1024px){.participants-container .header-wrapper .header-buttons[data-v-8fb21388]{height:24px}}.participants-container .header-wrapper .header-buttons .count-buttons-wrapper[data-v-8fb21388]{display:flex;align-items:center;padding-left:18px}@media(max-width:1024px){.participants-container .header-wrapper .header-buttons .count-buttons-wrapper[data-v-8fb21388]{padding-left:28px}}.participants-container .header-wrapper .header-buttons .count-buttons-wrapper .header-icon[data-v-8fb21388]{width:4px;height:22px;background:#0057ff;border-radius:20px;margin-right:16px}@media(max-width:1024px){.participants-container .header-wrapper .header-buttons .count-buttons-wrapper .header-icon[data-v-8fb21388]{height:16px}}.participants-container .header-wrapper .header-buttons .count-buttons-wrapper .participants-count[data-v-8fb21388]{font-size:24px;line-height:34px;margin-right:48px;cursor:pointer}@media(max-width:1024px){.participants-container .header-wrapper .header-buttons .count-buttons-wrapper .participants-count[data-v-8fb21388]{font-size:16px;margin-right:16px}}.participants-container .header-wrapper .header-buttons .count-buttons-wrapper .participants-count.selected[data-v-8fb21388]{font-weight:700;background:#0057ff;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent}.participants-container .header-wrapper .header-buttons .download-button[data-v-8fb21388]{font-weight:700;font-size:14px;line-height:22px;color:#fff;padding:9px 24px;grid-gap:12px;gap:12px;border:1px solid #494f59;border-radius:6px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.participants-container .header-wrapper .header-buttons .download-button[data-v-8fb21388]:hover{color:#6171ff;border-color:#6171ff}.participants-container .header-wrapper .header-buttons .download-button[data-v-8fb21388]:active{color:#0057ff;border-color:#0057ff}.participants-container .participants-wrapper[data-v-8fb21388]{height:calc(100% - 174px);padding:40px 72px;overflow:scroll}@media(max-width:1024px){.participants-container .participants-wrapper[data-v-8fb21388]{height:calc(100% - 154px);padding:40px 48px}}@media(max-width:768px){.participants-container .participants-wrapper[data-v-8fb21388]{padding:32px 28px}}.participants-container .participants-wrapper .participants-list[data-v-8fb21388]{max-width:928px;margin:0 auto}.participants-container .participants-wrapper .participants-list .grid-waterfall[data-v-8fb21388]{display:grid;grid-gap:36px;grid-template-columns:repeat(4,minmax(205px,256px))}@media(max-width:768px){.participants-container .participants-wrapper .participants-list .grid-waterfall[data-v-8fb21388]{grid-gap:20px}}@media(max-width:1024px){.participants-container .participants-wrapper .participants-list .grid-waterfall[data-v-8fb21388]{grid-template-columns:repeat(3,minmax(205px,256px))}}@media(max-width:768px){.participants-container .participants-wrapper .participants-list .grid-waterfall[data-v-8fb21388]{grid-template-columns:repeat(2,minmax(122px,320px))}}.participants-container .participants-wrapper .participants-list .grid-waterfall .participant[data-v-8fb21388]{display:flex;align-items:center;position:relative;cursor:pointer}.participants-container .participants-wrapper .participants-list .grid-waterfall .participant-avatar[data-v-8fb21388]{width:48px;height:48px;border-radius:100%}@media(max-width:768px){.participants-container .participants-wrapper .participants-list .grid-waterfall .participant-avatar[data-v-8fb21388]{width:36px;height:36px}}.participants-container .participants-wrapper .participants-list .grid-waterfall .participant-winner[data-v-8fb21388]{position:absolute;top:-4px;left:32px;width:24px;height:24px}@media(max-width:768px){.participants-container .participants-wrapper .participants-list .grid-waterfall .participant-winner[data-v-8fb21388]{top:-6px;left:20px}}@media(max-width:1024px){.participants-container .participants-wrapper .participants-list .grid-waterfall .participant-winner[data-v-8fb21388]{width:20px;height:20px}}.participants-container .participants-wrapper .participants-list .grid-waterfall .participant .name-or-address[data-v-8fb21388]{margin-left:12px;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media(max-width:768px){.participants-container .participants-wrapper .participants-list .grid-waterfall .participant .name-or-address[data-v-8fb21388]{font-size:14px}}.download-menu[data-v-8fb21388] .v-menu__content{background-color:var(--v-background-darken2);border:2px solid var(--v-background-lighten1);box-shadow:none;border-radius:8px}.download-menu[data-v-8fb21388] .theme--dark.v-list-item:hover{color:#fff!important;background-color:rgba(32,36,43,.5);cursor:pointer}.download-menu[data-v-8fb21388] .theme--dark.v-list-item:focus{background-color:rgba(32,36,43,.3)}.download-menu[data-v-8fb21388] .v-list{background:inherit}.download-menu[data-v-8fb21388] .v-list-item{color:#ced3db!important;padding:12px 24px;min-height:0}.download-menu[data-v-8fb21388] .v-list-item:before{opacity:0}.download-menu .block-height[data-v-8fb21388]{display:flex;font-size:12px;line-height:20px;color:#9097a6;margin-top:4px}.download-menu .block-height:hover .hover-class[data-v-8fb21388]{color:#1793ff}.download-menu .block-height:active .hover-class[data-v-8fb21388]{color:#0578ff}.op-btn[data-v-8fb21388]{margin-top:40px}.op-btn .campaign-lock-wrap[data-v-8fb21388]{width:348px}.op-btn .campaign-lock-wrap .campaign-lock[data-v-8fb21388]{width:100%;height:52px;border-radius:6px;background:#21252b;display:flex;justify-content:center;align-items:center}.color[data-v-8fb21388]{width:100%;height:300px;background:red}.box-sm-item[data-v-8fb21388]{width:50px;height:60px;border-radius:4px;overflow:hidden}.box-nfts-container[data-v-8fb21388]{width:100%;overflow:scroll;display:flex}.full-screen-icon[data-v-8fb21388]{position:absolute;right:0;top:50%;transform:translateY(-50%);display:none}.box-nfts-container:hover+.full-screen-icon[data-v-8fb21388],.full-screen-icon[data-v-8fb21388]:hover{display:block}.loading-more-bar[data-v-8fb21388]{width:100%;height:16px;margin-top:60px;display:flex;justify-content:center}.loading-more[data-v-8fb21388]{background-image:url('+d+");width:88px;height:100%;background-size:cover}@media screen and (max-width:1024px){.media-container[data-v-8fb21388]{float:none;width:100%;padding:8px 28px 36px;height:auto}.media-container .media-container-main-media[data-v-8fb21388]{max-height:calc(100% - 80px)!important;height:27vh;margin-top:80px}.media-container .media-container-main-media.oat-media[data-v-8fb21388]{height:100%}.full-screen-icon[data-v-8fb21388]{display:block}.op-btn[data-v-8fb21388]{position:fixed;width:100%;max-width:none;bottom:0;right:0;padding:12px 28px;background:var(--v-background-base);margin-top:12px;box-shadow:inset 0 1px 0 #1b1e24;z-index:5}}",""]),l.locals={},t.exports=l},3438:function(t,e,n){"use strict";n.r(e);var r=n(2415),o=(n(42),n(111),n(48),n(58),n(1)),c=n(52),l=n(11),d=n(12),m=n(19),h=n(24),f=n(17),v=n(8),y=(n(66),n(30),n(16),n(87),n(46),n(80),n(117),n(37),n(86),n(85),n(43),n(99),n(1366),n(114),n(14)),x=n(294),C=n(2549),w=n(195),k=n.n(w),_=n(233),P=n.n(_),O=n(230),R=n(2959),j=n(2582),T=n(2687),D=n.n(T),A=n(3167),I=n.n(A),M=n(2504),N=n.n(M),S=n(3379),B=n.n(S),$=n(2541),L=n.n($),F=n(513),E=n(2885),W=n.n(E),H=n(9),U=n(210),z=n(28),G=n(134),V=n(60),Y=n(2950),Q=n(2951),J=n(2952),X=n(2438),K=n(2710),Z=n(2817),tt=n(3073),at=n(2953),it=n(3074),et=n(3373),nt=n(2954),st=n(2955),ot=n(2956),ct=n(2478),pt=n(3380),lt=n(55),filter=n(2618),ut=n(2439),mt=n(89),ht=n(2767),gt=n(178),ft=n(72),vt=n(3222);function bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var yt=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},xt=function(t){Object(m.a)(_,t);var e,n,r,h,f,v,y,w=bt(_);function _(){var t;return Object(l.a)(this,_),(t=w.apply(this,arguments)).campaignNumID=0,t.usedCount=0,t.claimAllNftList=[],t.isMinter=!0,t.claimMaxBySubgraph=null,t.platformFee=0,t.erc20Fee=-1,t.erc20FeeToken="",t.erc20FeeTokenAddr="",t.claimLoading=!1,t.loyaltyPoint=0,t.maxCountUseCred=0,t.oldCapMinted=0,t.oldCapTotalSupply=0,t.showVerifyMessage=!1,t.topWinnerParticipants=[],t.topParticipants=[],t.participantsCount=0,t.campaignParticipantsCount=0,t.campaignBountyWinnersCount=0,t.campaignNumNFTMinted=0,t.showEmailDialog=!1,t.broCampaignsList=[],t.parentCamapign={},t}return Object(d.a)(_,[{key:"sanitizeAssets",get:function(){return gt.a}},{key:"rewradType",get:function(){return this.campaign.rewardType}},{key:"responsiveParticipantsList",get:function(){var t=Math.floor((this.$vuetify.breakpoint.width-250)/28);return[].concat(Object(c.a)(this.topWinnerParticipants),Object(c.a)(this.topParticipants)).slice(0,t)}},{key:"market",get:function(){return{link:this.marketLink,icon:this.marketInfo.icon,name:this.marketInfo.name}}},{key:"verifyStatus",get:function(){return this.$store.getters.getVerifyStatus||G.VerifyStatus.failed}},{key:"campaignID",get:function(){return this.campaign?this.campaign.id:""}},{key:"numOfNFTMinted",get:function(){return this.campaign?this.isCapableOld?this.oldCapMinted||0:this.campaignNumNFTMinted||0:0}},{key:"rewardIssued",get:function(){var t;return this.isTokenReward?t=this.campaignNumNFTMinted:this.isFcfs?t=this.campaignParticipantsCount||0:this.isRaffle&&(t=this.campaignBountyWinnersCount||0),"Rewards Issued ".concat(t)}},{key:"totalReward",get:function(){var t,e=(null===(t=this.campaign)||void 0===t?void 0:t.cap)||0;return"Total Reward ".concat(e)}},{key:"assigned",get:function(){var t=this.campaignParticipantsCount||0;return"Assigned ".concat(t)}},{key:"numOfNFTMintedText",get:function(){return"NFT Minted ".concat(this.numOfNFTMinted)}},{key:"numOfNFTCapText",get:function(){if(this.isCapableNew)return"Minting Cap ".concat(this.campaign.cap);var t=this.remainingSupply+this.numOfNFTMinted;return t>0&&(this.isCapableOld||this.isCapableNew)?"Minting Cap ".concat(t):""}},{key:"tokenObject",get:function(){var t,e;return Object(F.e)(null===(t=this.campaign.tokenReward)||void 0===t?void 0:t.tokenAddress,null===(e=this.campaign.tokenRewardContract)||void 0===e?void 0:e.chain)}},{key:"tokenIcon",get:function(){return this.tokenObject?this.tokenObject.icon:""}},{key:"tokenName",get:function(){var t;return null===(t=this.tokenObject)||void 0===t?void 0:t.name}},{key:"tokenDecimals",get:function(){return this.tokenObject?this.tokenObject.decimals:0}},{key:"userTokenAmount",get:function(){return Number(new P.a(this.campaign.tokenReward.userTokenAmount).multipliedBy(Math.pow(10,-1*this.tokenDecimals)))}},{key:"winnerNum",get:function(){return this.campaign.cap}},{key:"totalTokenAmount",get:function(){return Number(new P.a(this.userTokenAmount).multipliedBy(this.winnerNum))}},{key:"isTokenReward",get:function(){return this.campaign&&this.campaign.gamification.type===H.n.Token}},{key:"wonTheTokenRaffle",get:function(){return!!(this.isTokenReward&&this.isRaffle&&this.isTokenRaffleParticipateEnded)&&(0===Number(this.usedCount)&&1===Number(this.maxCount))}},{key:"isMysteryBoxWr",get:function(){return this.campaign&&this.campaign.gamification.type===H.n.MysteryBoxWr}},{key:"isCapableNew",get:function(){return this.campaign&&this.campaign.cap>0}},{key:"isCapableOld",get:function(){return!!(this.campaign&&!this.isCapableNew&&this.campaign.gamification.nfts.length>0)&&this.campaign.gamification.nfts[0].nft.nftCore.capable}},{key:"isBounty",get:function(){return this.campaign&&this.campaign.type===H.n.Bounty}},{key:"isLoyaltyPoints",get:function(){return this.campaign&&this.campaign.type===H.n.Points}},{key:"isLoyaltyPointsMysteryBox",get:function(){return this.campaign&&this.campaign.type===H.n.PointsMysteryBox}},{key:"isFcfs",get:function(){return this.campaign.distributionType===H.m.Fcfs}},{key:"isRaffle",get:function(){return this.campaign.distributionType===H.m.Raffle}},{key:"isDiscordRole",get:function(){return this.campaign&&this.campaign.type===H.n.DiscordRole}},{key:"isParticipated",get:function(){var t;return this.isTokenReward&&this.isRaffle?this.usedCount>0:!!this.campaign.userParticipants&&!!(null===(t=this.campaign.userParticipants)||void 0===t?void 0:t.list.length)}},{key:"isWon",get:function(){return k.a.get(this.campaign,"userParticipants.list[0].status")===H.A.Success}},{key:"raffleInProgress",get:function(){return this.isRaffle&&0===this.participantsCount}},{key:"isOptIn",get:function(){return this.campaign&&this.campaign.gamification.type===H.n.OptIn}},{key:"isOat",get:function(){return this.campaign&&this.campaign.gamification.type===H.n.Oat}},{key:"isOptInEmail",get:function(){return this.campaign&&this.campaign.gamification.type===H.n.OptInEmail}},{key:"isForge",get:function(){return this.campaign&&this.campaign.gamification.type===H.n.Forge}},{key:"isGasless",get:function(){return this.campaign&&"GASLESS"===this.campaign.gasType.toUpperCase()}},{key:"isMysteryBox",get:function(){return this.campaign&&this.campaign.gamification.type===H.n.MysteryBox}},{key:"isPowahDrop",get:function(){return this.campaign&&this.campaign.gamification.type===H.n.PowahDrop}},{key:"isParent",get:function(){return!!(this.campaign&&this.campaign.childrenCampaigns&&this.campaign.childrenCampaigns.length>0)}},{key:"showClaimNumberInfo",get:function(){return!this.isBounty&&!this.isTokenReward}},{key:"account",get:function(){return this.$store.getters.getAccount?this.$store.getters.getAccount:""}},{key:"user",get:function(){return this.$store.getters.getUser}},{key:"currentChain",get:function(){return this.$store.getters.currentChain}},{key:"connectMethod",get:function(){return this.$store.getters.connectMethod}},{key:"currentChainName",get:function(){return this.currentChain?this.currentChain.name:""}},{key:"isTreasureBack",get:function(){return!!this.campaign&&(this.campaign.childrenCampaigns&&this.campaign.childrenCampaigns.length>0?this.campaign.childrenCampaigns.some((function(t){return t.gamification.nfts.some((function(t){return t.nft.treasureBack}))})):this.campaign.gamification.nfts.some((function(t){return t.nft.treasureBack})))}},{key:"currentCampaignChain",get:function(){if(this.campaign&&this.campaign.gamification.nfts.length>0){var t=this.campaign.gamification.nfts[0].nft.nftCore.chain;return Object(lt.D)(this.$vuetify.breakpoint.mobile).find((function(e){return e.name===t}))}}},{key:"scanPath",get:function(){return this.isSolanaCampaign?"account":"address"}},{key:"nftContractList",get:function(){var t=this;if(this.campaign&&void 0!==this.currentCampaignChain){var e=[];return this.campaign.childrenCampaigns&&this.campaign.childrenCampaigns.length>0?this.campaign.childrenCampaigns.forEach((function(n){n.gamification.nfts.forEach((function(n){if(!e.some((function(t){return t.contractAddress===n.nft.nftCore.contractAddress}))&&void 0!==t.currentCampaignChain&&t.currentCampaignChain.blockExplorerUrls){var address=Object(U.a)(n.nft.nftCore.contractAddress);e.push({addressFormat:address,url:t.fullExpoloreUrl(t.currentCampaignChain.blockExplorerUrls[0],n.nft.nftCore.contractAddress),contractAddress:n.nft.nftCore.contractAddress})}}))})):this.campaign.gamification.nfts.forEach((function(n){if(!e.some((function(t){return t.contractAddress===n.nft.nftCore.contractAddress}))&&void 0!==t.currentCampaignChain&&t.currentCampaignChain.blockExplorerUrls){var address=Object(U.a)(n.nft.nftCore.contractAddress);e.push({addressFormat:address,url:t.fullExpoloreUrl(t.currentCampaignChain.blockExplorerUrls[0],n.nft.nftCore.contractAddress),contractAddress:n.nft.nftCore.contractAddress})}})),e}return[]}},{key:"isMobile",get:function(){return this.$store.getters.isMobile}},{key:"marketLink",get:function(){return this.campaign&&this.campaign.dao.nftCores.list[0]?this.campaign.dao.nftCores.list[0].marketLink:""}},{key:"marketInfo",get:function(){return Object(pt.a)(this.marketLink)}},{key:"envWrong",get:function(){return!this.isParent&&(!this.isBounty&&(this.isTokenReward?this.isRaffle?this.isTokenRaffleParticipateEnded&&this.wonTheTokenRaffle&&!this.isParticipated&&this.campaign.chain!==this.currentChain.name:this.campaign.chain!==this.currentChain.name:!(this.isGasless&&this.currentChain&&this.isIntheSamePublicChain(this.campaign.chain,this.currentChain.name))&&(!this.isOptIn&&!this.isOptInEmail&&this.account&&(!this.currentChain||this.campaign&&this.campaign.chain!==this.currentChain.name))))}},{key:"availableAmount",get:function(){return k.a.sum(this.campaign.credentialGroups.map((function(t){var e;return k.a.sum(null===(e=t.rewards)||void 0===e?void 0:e.map((function(t){return t.rewardType===H.j.Loyaltypoints?0:t.rewardCount})))})))}},{key:"maxCount",get:function(){return this.campaign?this.campaign.type===H.n.Points?this.availableAmount:this.isTokenReward&&this.isRaffle?this.campaign.whitelistInfo.maxCount:this.campaign.useCred?this.maxCountUseCred:-2===this.campaign.whitelistInfo.maxCount?this.claimMaxBySubgraph?this.claimMaxBySubgraph:0:this.campaign.whitelistInfo.maxCount:0}},{key:"canClaimNum",get:function(){return this.campaign?(this.isCapableOld||this.isCapableNew)&&this.remainingSupply<=0?0:-1===this.maxCount?-1:this.maxCount-this.usedCount>0?(this.isCapableOld||this.isCapableNew)&&this.remainingSupply>=0?Math.min(this.remainingSupply,this.maxCount-this.usedCount):this.maxCount-this.usedCount:0:0}},{key:"ifIsNoEnd",get:function(){return!!this.campaign&&!this.campaign.endTime}},{key:"startTime",get:function(){return this.campaign&&this.campaign.startTime?this.campaign.startTime:0}},{key:"endTime",get:function(){return this.campaign&&this.campaign.endTime?this.campaign.endTime:0}},{key:"claimEndTime",get:function(){return this.campaign&&this.campaign.claimEndTime?this.campaign.claimEndTime:0}},{key:"claimableTimeRange",get:function(){if(this.campaign){var t=this.startTime,e=this.endTime;return t?(t=Object(x.a)(new Date(Number("".concat(this.startTime,"000"))),"yyyy/MM/dd HH:mm OOOO"),e?(t=Object(x.a)(new Date(Number("".concat(this.startTime,"000"))),"yyyy/MM/dd HH:mm"),e=Object(x.a)(new Date(Number("".concat(this.endTime,"000"))),"yyyy/MM/dd HH:mm OOOO"),"".concat(t," - ").concat(e)):t):"--"}return""}},{key:"CAMPAIGN",get:function(){return D.a}},{key:"campaignChain",get:function(){return this.campaign&&this.campaign.chain?"MATIC"===this.campaign.chain?"POLYGON":this.campaign.chain:""}},{key:"nftNum",get:function(){return this.campaign?this.campaign.gamification.nfts.length:0}},{key:"childrenCampaignsList",get:function(){return this.campaign&&this.campaign.childrenCampaigns?this.campaign.childrenCampaigns:[]}},{key:"isReachedMintingCap",get:function(){return(this.isCapableNew||this.isCapableOld)&&this.remainingSupply<=0}},{key:"isTokenRaffleParticipateEnded",get:function(){var t=(new Date).getTime()/1e3;return!(!this.campaign||!this.endTime)&&t>=this.endTime}},{key:"spaceStationAddress",get:function(){return this.campaign&&this.campaign.spaceStation?this.campaign.spaceStation.address:""}},{key:"isSolanaCampaign",get:function(){return this.campaign.chain===H.c.SolanaDevnet||this.campaign.chain===H.c.Solana}},{key:"isApotsCampaign",get:function(){return this.campaign.chain===H.c.Aptos||this.campaign.chain===H.c.AptosTestnet}},{key:"campaignInfoTitle",get:function(){return this.isSolanaCampaign?this.$t("Public.UpdateAuthority").toString():this.isApotsCampaign?this.$t("Public.Collection").toString():this.$t("Public.ContractAddress").toString()}},{key:"remainingSupply",get:function(){if(this.isCapableNew){if(this.isFcfs){var t=this.campaignParticipantsCount||0;return this.campaign.cap-t}return this.campaign.cap-(this.campaignNumNFTMinted||0)}return this.isCapableOld?this.oldCapTotalSupply-this.oldCapMinted:0}},{key:"changeUsedCount",value:function(t){this.usedCount=t}},{key:"isIntheSamePublicChain",value:function(t,e){return!(!Object(lt.E)(t)||!Object(lt.E)(e))||!(!Object(lt.F)(t)||!Object(lt.F)(e))}},{key:"goChildCampaign",value:function(){var path=z.a.CAMPAIGN;path=(path=path.replace(":space",this.campaign.dao.alias)).replace(":campaignID",this.campaign.id),this.$router.push({path:path})}},{key:"fullExpoloreUrl",value:function(t,address){var e="".concat(t,"/").concat(this.scanPath,"/").concat(address);return this.isSolanaCampaign&&this.campaign.chain===H.c.SolanaDevnet&&(e+="?cluster=devnet"),this.isApotsCampaign&&(e="".concat(t,"/nft-collection/").concat(address,"/Galxe%20OAT")),e}},{key:"getIfLocked",get:function(){var t;if(!(null===(t=this.campaign.parentCampaign)||void 0===t?void 0:t.isSequencial))return!1;if(void 0===this.parentCamapign.isSequencial||!1===this.parentCamapign.isSequencial)return this.parentCamapign.isSequencial;var e=this.broCampaignsList.map((function(t){return t.id})).indexOf(this.campaign.id);if(0===e)return!1;for(var n=!0,i=0;i<e;i++)n=n&&Object(vt.a)(this.broCampaignsList,i);return!n}},{key:"getBroCampaign",value:(y=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={address:this.account,id:e},!this.account){t.next=7;break}return t.next=4,this.$apollo.query({query:B.a,variables:n,errorPolicy:"all",fetchPolicy:"network-only"});case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,this.$apollo.query({query:D.a,variables:n,errorPolicy:"all",fetchPolicy:"network-only"});case 9:t.t0=t.sent;case 10:r=t.t0,data=r.data,this.broCampaignsList=data.campaign.childrenCampaigns,this.parentCamapign=data.campaign;case 14:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})},{key:"mounted",value:function(){var t,e,n,r=this;(null===(t=this.campaign.parentCampaign)||void 0===t?void 0:t.id)&&(null===(e=this.campaign.parentCampaign)||void 0===e?void 0:e.isSequencial)&&this.getBroCampaign(null===(n=this.campaign.parentCampaign)||void 0===n?void 0:n.id),this.dealCampaign(),this.isChild||this.getParticipants(),this.$nuxt.$on("trx-sending",(function(t){console.log("trx-sending",t),"claim"===t.operation&&t.id===r.campaignID?t.mintCount?(console.log("trx-sending mintCount:",t.mintCount),r.usedCount+=t.mintCount):r.usedCount+=1:"claimBatch"===t.operation&&t.id===r.campaignID&&(r.usedCount+=t.mintCount)})),this.$nuxt.$on("trx-receipt",(function(t){t.operation===j.a.Claim&&t.campaignId===r.campaignID&&(t.status?r.$store.commit("setSnackbar",{state:V.g.SUCCESS,body:{msg:"Transaction Success",tx:t.trxId,chain:t.chain},type:V.h.Trx}):(r.$store.commit("setSnackbar",{state:V.g.ERROR,body:{msg:"Transaction Fail",tx:t.trxId,chain:t.chain},type:V.h.Trx}),r.usedCount-=1))})),this.$nuxt.$on("email-dialog",(function(t){r.showEmailDialog=t}))}},{key:"beforeDestroy",value:function(){this.$nuxt.$off("trx-sending")}},{key:"getWhitelist",value:function(t,e,n,r){return Object(C.request)(t,e,n).then((function(t){var data=t.data?t.data:t,e=r,n=0;try{var o=Function('\n    "use strict";\n    return '.concat(e,"\n  "))()(data);Number.isNaN(o)||(n=parseInt(o,10))}catch(t){return 0}return n}))}},{key:"dealCampaign",value:(v=Object(o.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,c,l,d,m,h,f,v,y,x,C,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C=this.campaign||{},this.claimAllNftList=null===(e=C.gamification)||void 0===e?void 0:e.nfts,this.campaignNumID=C.numberID,this.campaign.type===H.n.Points?this.usedCount=k.a.sum(C.credentialGroups.map((function(t){return t.claimedLoyaltyPoints}))):this.usedCount=null===(n=C.whitelistInfo)||void 0===n?void 0:n.usedCount,!C.whitelistSubgraph||C.useCred){t.next=10;break}return(w={})[C.whitelistSubgraph.variable]=this.account.toLowerCase(),t.next=9,this.getWhitelist(null===(r=C.whitelistSubgraph)||void 0===r?void 0:r.endpoint,null===(o=C.whitelistSubgraph)||void 0===o?void 0:o.query,w,null===(c=C.whitelistSubgraph)||void 0===c?void 0:c.expression);case 9:this.claimMaxBySubgraph=t.sent;case 10:if(!this.isCapableOld){t.next=17;break}return t.next=13,Object(R.a)(null===(h=null===(m=null===(d=null===(l=C.gamification)||void 0===l?void 0:l.nfts[0])||void 0===d?void 0:d.nft)||void 0===m?void 0:m.nftCore)||void 0===h?void 0:h.contractAddress);case 13:return this.oldCapMinted=t.sent,t.next=16,Object(R.b)(null===(x=null===(y=null===(v=null===(f=C.gamification)||void 0===f?void 0:f.nfts[0])||void 0===v?void 0:v.nft)||void 0===y?void 0:y.nftCore)||void 0===x?void 0:x.contractAddress);case 16:this.oldCapTotalSupply=t.sent;case 17:this.isPowahDrop&&this.getNFTTargetPowah();case 18:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"getNFTTargetPowah",value:(f=Object(o.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$apollo.query({query:I.a,variables:{address:this.account,campaignID:this.campaignID,nftCoreAddress:this.nftContractList[0].contractAddress}});case 2:e=t.sent,(data=e.data)&&data.nftTargetPowah&&(this.loyaltyPoint=data.nftTargetPowah.target_powah);case 5:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"getFeeInfo",value:(h=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.c)(this.campaignNumID,e,this.spaceStationAddress,this.$store);case 2:if(n=t.sent){t.next=7;break}throw r='Contract information is temporarily unavailable due to your wallet rpc fluctuation. Please try again later or follow the FAQ: <a class="galaxy-link" href="https://help.galxe.com/en/articles/7109304-contract-fee-info-unavailable" target=\'_blank\' rel="noopener noreferrer">https://help.galxe.com/en/articles/7109304-contract-fee-info-unavailable</a> to reset your network.',this.$store.commit("setSnackbar",{state:V.g.ERROR,body:{msg:r},type:V.h.Default}),new Error(r);case 7:return this.platformFee=Object(filter.c)(n.platformFee*Math.pow(10,-18),5),t.next=10,Object(j.m)(n.erc20);case 10:return o=t.sent,this.erc20Fee=Object(filter.c)(n.erc20Fee*Math.pow(10,-1*o),5),this.erc20FeeTokenAddr=n.erc20,t.abrupt("return",n);case 14:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"claimGaslessCampaign",value:function(t){var e=this;try{if(this.claimLoading=!0,t&&t.allow&&t.mintFuncInfo&&this.isMinter){var n=t.mintFuncInfo.verifyIDs[0];if(!n)throw new Error("System server error.");setTimeout((function(){var t=e.campaign&&e.campaign.gamification.nfts.length>0&&e.campaign.gamification.nfts[0].nft.nftCore.chain;e.$nuxt.$emit("async-claiming",{verifyId:n,campaignName:e.campaign.name,campaignId:e.campaign.id,chain:t,campaignUrl:window.location.href,campaign:e.campaign}),e.usedCount+=1,e.claimLoading=!1}),2e3)}t.allow||(this.$errorPlain(t.disallowReason||"server error"),this.claimLoading=!1)}catch(t){this.claimLoading=!1,this.$gtag.event("gtm_campaign_claim_fail",{message:t.message,errorcode:t.code||500})}}},{key:"claimDrop",value:(r=Object(o.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,c,l,d,m,h,f,v,y,x,C,w,k,data,_,P,O,R,T,D,A,I,M,S,B,$,L,F;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.isBounty){t.next=16;break}if(this.rewradType!==H.H.Email||this.user.hasEmail){t.next=5;break}return this.$nuxt.$emit("setParticipantDialog",{participantDialog:!0,participantsIDType:"email",participantsUrl:"/accountSetting?tab=Account"}),t.abrupt("return");case 5:if(this.rewradType!==H.H.Evm||this.user.address){t.next=8;break}return this.$nuxt.$emit("setParticipantDialog",{participantDialog:!0,participantsIDType:"evm address",participantsUrl:"/accountSetting?tab=WalletAddress"}),t.abrupt("return");case 8:if(this.rewradType!==H.H.Solana||this.user.solanaAddress){t.next=11;break}return this.$nuxt.$emit("setParticipantDialog",{participantDialog:!0,participantsIDType:"solana address",participantsUrl:"/accountSetting?tab=WalletAddress"}),t.abrupt("return");case 11:if(this.rewradType!==H.H.Aptos||this.user.aptosAddress){t.next=14;break}return this.$nuxt.$emit("setParticipantDialog",{participantDialog:!0,participantsIDType:"aptos address",participantsUrl:"/accountSetting?tab=WalletAddress"}),t.abrupt("return");case 14:t.next=30;break;case 16:if(!this.isDiscordRole){t.next=30;break}if(this.user.hasDiscord){t.next=20;break}return this.$nuxt.$emit("setDiscordDialog",{discordDialog:!0,discordContent:"Please connect to your Discord first before claiming the role reward.",discordButton:"Connect Discord",discordButtonHandle:this.handleConnectDiscord}),t.abrupt("return");case 20:return t.next=22,this.isGuildMember();case 22:if(!(x=t.sent)){t.next=30;break}if(!x.failReason){t.next=27;break}return this.$nuxt.$emit("setDiscordDialog",{discordDialog:!0,discordContent:x.failReason}),t.abrupt("return");case 27:if(!1!==x.isGuildMember){t.next=30;break}return this.$nuxt.$emit("setDiscordDialog",{discordDialog:!0,discordContent:"Please join the Discord before claiming the role reward.",discordButton:"Join",discordButtonHandle:this.handleJoinDiscord}),t.abrupt("return");case 30:return this.claimLoading=!0,t.next=33,Object(ut.a)();case 33:if(C=t.sent){t.next=37;break}return this.claimLoading=!1,t.abrupt("return");case 37:return w={input:{signature:"",campaignID:null===(e=this.campaign)||void 0===e?void 0:e.id,address:this.account,mintCount:1,chain:this.campaign.chain,captcha:{lotNumber:C.lot_number,captchaOutput:C.captcha_output,passToken:C.pass_token,genTime:C.gen_time}}},t.next=40,this.$apollo.mutate({mutation:N.a,variables:w});case 40:if(k=t.sent,!((data=k.data)&&data.prepareParticipate.allow&&this.isMinter)){t.next=101;break}if(_=data.prepareParticipate.signature,P=null===(n=data.prepareParticipate.mintFuncInfo)||void 0===n?void 0:n.verifyIDs[0],O=null===(r=data.prepareParticipate.mintFuncInfo)||void 0===r?void 0:r.powahs[0],R=null===(o=data.prepareParticipate.mintFuncInfo)||void 0===o?void 0:o.nftCoreAddress,T=this.spaceStationAddress,D=null===(c=data.prepareParticipate.mintFuncInfo)||void 0===c?void 0:c.cap,A=data.prepareParticipate.nonce,I=null===(l=data.prepareParticipate.aptosTxResp)||void 0===l?void 0:l.signatureExpiredAt,M=null===(d=data.prepareParticipate.aptosTxResp)||void 0===d?void 0:d.tokenName,S=null===(m=data.prepareParticipate.metaTxResp)||void 0===m?void 0:m.metaTxHash,B=null===(h=data.prepareParticipate.tokenRewardCampaignTxResp)||void 0===h?void 0:h.verifyID,$=null===(f=data.prepareParticipate.tokenRewardCampaignTxResp)||void 0===f?void 0:f.signatureExpiredAt,!this.isBounty){t.next=66;break}if(this.$nuxt.$emit("rec-result",{status:"completed",trxId:S,operation:"claim",chain:w.input.chain,campaign:this.campaign}),!this.isBounty||!this.isFcfs){t.next=63;break}return t.next=60,this.getParticipants();case 60:this.$root.$emit("getCampaign"),t.next=64;break;case 63:this.$emit("refreshCampaign");case 64:t.next=101;break;case 66:if(!this.isTokenReward){t.next=76;break}if(!this.isFcfs&&!this.wonTheTokenRaffle){t.next=72;break}return t.next=70,Object(ht.b)({_vue:this,chain:this.currentChain,campaignStrID:this.campaignID,_cid:this.campaignNumID,_dummyId:B,_expiredAt:$,_claimTo:this.account,_signature2:_,contractAddress:(null===(v=this.campaign.tokenRewardContract)||void 0===v?void 0:v.address)||"",account:this.account,nonce:A,campaign:this.campaign,$store:this.$store});case 70:t.next=73;break;case 72:this.$nuxt.$emit("rec-result",{status:"completed",trxId:S,operation:"claim",chain:w.input.chain,campaign:this.campaign});case 73:this.$emit("refreshCampaign"),t.next=101;break;case 76:if(!this.isGasless){t.next=85;break}if(!(null===(y=data.prepareParticipate.metaTxResp)||void 0===y?void 0:y.reqQueueing)){t.next=82;break}return t.next=81,this.claimGaslessCampaign(data.prepareParticipate);case 81:return t.abrupt("return");case 82:this.campaign&&(this.$nuxt.$emit("rec-result",{status:"completed",trxId:S,operation:"claim",chain:w.input.chain,campaign:this.campaign}),this.$nuxt.$emit("trx-sending",{operation:"claim",id:this.campaign.id})),t.next=101;break;case 85:if(!this.isApotsCampaign){t.next=90;break}return t.next=88,Object(j.d)(this,R,P,0,M,1,I,_,this.account,this.currentChain,this.campaignID,A,this.campaign,this.connectMethod);case 88:t.next=101;break;case 90:if(!(D>0)){t.next=97;break}return t.next=93,this.getFeeInfo(j.a.Claim);case 93:L=t.sent,Object(j.i)(this,this.currentChain,L.platformFee,this.campaignID,this.campaignNumID,R,P,O,this.account,"",_,T,D,this.$store,A,this.campaign),t.next=101;break;case 97:return t.next=99,this.getFeeInfo(j.a.Claim);case 99:F=t.sent,Object(j.h)(this,this.currentChain,F.platformFee,this.campaignID,this.campaignNumID,R,P,O,this.account,"",_,T,this.$store,A,this.campaign);case 101:data&&!data.prepareParticipate.allow&&this.$errorPlain(data.prepareParticipate.disallowReason),this.claimLoading=!1,t.next=109;break;case 105:t.prev=105,t.t0=t.catch(0),this.claimLoading=!1,this.$gtag.event("gtm_campaign_claim_fail",{message:t.t0.message,errorcode:t.t0.code||500});case 109:case"end":return t.stop()}}),t,this,[[0,105]])}))),function(){return r.apply(this,arguments)})},{key:"getParticipants",value:(n=Object(o.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.campaignID){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.$apollo.query({query:L.a,fetchPolicy:"network-only",variables:{id:this.campaignID,pfirst:20,pafter:"-1",wfirst:20,wafter:"-1",pDownload:!1,bDownload:!1,isParent:this.isParent}});case 5:e=t.sent,(data=e.data)&&data.campaign&&(data.campaign.participants&&(this.topWinnerParticipants=data.campaign.participants.bountyWinners.list.map((function(t){return t.winner=!0,t})),this.topParticipants=data.campaign.participants.participants.list.map((function(t){return t.winner=!1,t})),this.campaignParticipantsCount=data.campaign.participants.participantsCount,this.campaignBountyWinnersCount=data.campaign.participants.bountyWinnersCount,this.participantsCount=data.campaign.participants.bountyWinnersCount+data.campaign.participants.participantsCount),this.campaignNumNFTMinted=data.campaign.numNFTMinted),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(2);case 12:case"end":return t.stop()}}),t,this,[[2,10]])}))),function(){return n.apply(this,arguments)})},{key:"handleConnectDiscord",value:function(){this.$router.push({path:"/accountSetting?tab=SocialLinlk"})}},{key:"handleJoinDiscord",value:function(){var t;Object(ft.a)(Object(gt.b)((null===(t=this.campaign.rewardInfo.discordRole)||void 0===t?void 0:t.inviteLink)||""),"__blank"),this.$nuxt.$emit("setDiscordDialog",{discordDialog:!1})}},{key:"handleParticipants",value:function(){this.$refs.campaignMedia.showDialog=!0}},{key:"resizeImageTinyUrl",value:function(t){return Object(mt.n)(t)}},{key:"isGuildMember",value:(e=Object(o.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$apollo.query({query:W.a,fetchPolicy:"network-only",variables:{guildId:this.campaign.space.discordGuildID}});case 3:if(e=t.sent,!(data=e.data)||!data.isGuildMember){t.next=7;break}return t.abrupt("return",data.isGuildMember);case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(){return e.apply(this,arguments)})},{key:"onCampaign",value:function(t){t&&this.dealCampaign()}},{key:"onVerifyStatusChange",value:function(t,e){t!==e&&t===G.VerifyStatus.success&&(this.showVerifyMessage=!0,this.$store.commit("setVerifyStatus",G.VerifyStatus.notstarted),this.$nuxt.$emit("verifySuccess"))}}]),_}(Object(y.Mixins)(O.a));yt([Object(y.Prop)({required:!0})],xt.prototype,"campaign",void 0),yt([Object(y.Prop)({required:!1,default:!1})],xt.prototype,"isChild",void 0),yt([Object(y.Prop)({required:!1,default:!1})],xt.prototype,"isDetail",void 0),yt([Object(y.Watch)("campaign",{immediate:!0})],xt.prototype,"onCampaign",null),yt([Object(y.Watch)("verifyStatus",{immediate:!0})],xt.prototype,"onVerifyStatusChange",null);var Ct=xt=yt([Object(y.Component)({components:{WhoIsEligible:K.default,ForgePage:Q.default,BackResult:J.default,MarkedContent:X.default,CampaignName:Z.default,SpaceName:Y.default,CampaignDetailMedia:it.default,CampaignContracts:tt.default,CampaignTools:at.default,VerifySNSSnackbar:et.default,ParticipantDialog:nt.default,DiscordDialog:st.default,EmailDialog:ot.default,EmailVerifyDialog:ct.default}})],xt),wt=(n(3468),n(32)),component=Object(wt.a)(Ct,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"height-100"},[e("div",{staticClass:"campaign-detail-wrapper"},[e("CampaignDetailMedia",t._g(t._b({ref:"campaignMedia",staticClass:"campaign-detail-media",attrs:{small:!t.$vuetify.breakpoint.xsOnly,"is-locked":t.getIfLocked,campaign:t.campaign,"can-claim-num":t.canClaimNum,"max-count":t.maxCount,"used-count":t.usedCount,"is-parent":t.isParent,"top-participants":t.topParticipants,"top-winner-participants":t.topWinnerParticipants,"participants-count":t.participantsCount,"is-bounty":t.isBounty,"is-token-reward":t.isTokenReward,"is-token-raffle-participate-ended":t.isTokenRaffleParticipateEnded,"is-won":t.isWon,"raffle-in-progress":t.raffleInProgress,"is-reached-minting-cap":t.isReachedMintingCap},on:{getParticipants:t.getParticipants,changeUsedCount:t.changeUsedCount},nativeOn:{click:function(t){t.stopPropagation()}}},"CampaignDetailMedia",t.$attrs,!1),t.$listeners)),t._v(" "),e("div",{staticClass:"campaign-detail-content flex-column"},[e("div",{class:["campaign-name-tools",{"text-32-bolder":!t.isMobile,"text-24-bolder":t.isMobile}]},[e("CampaignName",{staticStyle:{display:"inline-block"},attrs:{campaign:t.campaign,"is-treasure-back":t.isTreasureBack,"icon-width":"36px"}}),t._v(" "),e("CampaignTools",{attrs:{"show-favorite":t.user,market:t.market,campaign:t.campaign,isfavorite:t.campaign.isBookmarked}})],1),t._v(" "),e("MarkedContent",{staticClass:"project-intro text-lighten-1 text-16-regular paddingt-3",attrs:{content:t.campaign.description,height:"15vh"}}),t._v(" "),e("div",{staticClass:"mt-5 pb-9 text-base border-solid"},[t.showClaimNumberInfo?t.isDiscordRole?[e(r.a,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e("span",t._g(t._b({},"span",o,!1),r),[t._v(t._s(t.assigned))])]}}])},[t._v(" "),e("div",{staticStyle:{width:"400px"}},[t._v("\n              After assigned the role, if you dont meet the requirement\n              anymore, the role will be deprived.\n            ")])])]:t.isLoyaltyPoints||t.isLoyaltyPointsMysteryBox?t._e():[e("span",{staticClass:"mr-6 text-lighten-1"},[t._v(t._s(t.numOfNFTMintedText))]),t._v(" "),e("span",{staticClass:"text-lighten-1"},[t._v(t._s(t.numOfNFTCapText))])]:[e("span",{staticClass:"mr-6"},[t._v(t._s(t.rewardIssued))]),t._v(" "),e("span",[t._v(t._s(t.totalReward))])]],2),t._v(" "),e("div",{staticClass:"flex-align-center mt-9 flex-wrap"},[e("SpaceName",{staticClass:"mr-15 mb-8",attrs:{campaign:t.campaign,"show-follow-btn":!0}}),t._v(" "),e("div",{staticClass:"flex-fixed mr-15 mb-8 width-max-100"},[e("div",{staticClass:"text-lighten-1 mb-2"},[t._v("\n            "+t._s(t.ifIsNoEnd?"Start Time":"Claimable Period")+"\n          ")]),t._v(" "),e("div",{staticClass:"text-16-bold"},[t._v("\n            "+t._s(t.claimableTimeRange+" ")+"\n          ")])]),t._v(" "),e("CampaignContracts",{staticClass:"mb-8",attrs:{title:t.campaignInfoTitle,"children-campaigns-list":t.childrenCampaignsList,"nft-contract-list":t.nftContractList}})],1),t._v(" "),e("WhoIsEligible",{attrs:{campaign:t.campaign,creds:t.campaign.creds,formula:t.campaign.formula,"max-count-use-cred":t.maxCountUseCred},on:{"update:maxCountUseCred":function(e){t.maxCountUseCred=e},"update:max-count-use-cred":function(e){t.maxCountUseCred=e}}}),t._v(" "),t.maxCount>0&&t.isPowahDrop?e("div",{staticClass:"mt-6"},[t._v("\n        Your Loyalty Points: "+t._s(t.loyaltyPoint)+"\n      ")]):t._e(),t._v(" "),t.participantsCount?e("div",{staticClass:"participants-wrapper mt-9",on:{click:t.handleParticipants}},[e("div",{staticClass:"participants d-flex justify-space-between align-center"},[e("div",{staticClass:"participants-count"},[t._v("\n            "+t._s("".concat(t.isDiscordRole?"Assigned Members ":"All Participants ","(").concat(t.participantsCount,")"))+"\n          ")]),t._v(" "),e("div",{staticClass:"avatars-wrapper d-flex"},t._l(t.responsiveParticipantsList,(function(r){return e("div",{key:r.avatar,staticClass:"avatar"},[e("img",{attrs:{src:t.sanitizeAssets(t.resizeImageTinyUrl(r.avatar))}}),t._v(" "),r.winner?e("img",{staticClass:"winner",attrs:{src:n(2693)}}):t._e()])})),0)])]):t._e()],1)],1),t._v(" "),e("ForgePage",{attrs:{campaign:t.campaign}}),t._v(" "),e("BackResult",{attrs:{"max-width":568,title:"Content"}}),t._v(" "),e("EmailDialog",{attrs:{campaign:t.campaign,"used-count":t.usedCount},on:{changeUsedCount:t.changeUsedCount}}),t._v(" "),e("ParticipantDialog"),t._v(" "),e("DiscordDialog"),t._v(" "),e("VerifySNSSnackbar",{attrs:{show:t.showVerifyMessage}}),t._v(" "),e("email-verify-dialog",{staticClass:"mt-10",attrs:{"is-show-dialog":t.showEmailDialog,closeable:!0,persistent:!1,"on-close":function(){return t.showEmailDialog=!1},title:"Don't miss the raffle result","sub-title":"Bind your email, and we will notify you of the raffle results via email after it ends."}})],1)}),[],!1,null,"d858d504",null);e.default=component.exports;installComponents(component,{CampaignDetailMedia:n(3074).default,CampaignName:n(2817).default,CampaignTools:n(2953).default,MarkedContent:n(2438).default,SpaceName:n(2950).default,CampaignContracts:n(3073).default,WhoIsEligible:n(2710).default,ForgePage:n(2951).default,BackResult:n(2952).default,EmailDialog:n(2956).default,ParticipantDialog:n(2954).default,DiscordDialog:n(2955).default,EmailVerifyDialog:n(2478).default})},3468:function(t,e,n){"use strict";n(3113)},3469:function(t,e,n){var r=n(40)((function(i){return i[1]}));r.push([t.i,".campaign-detail-wrapper[data-v-d858d504]{max-width:1920px;display:flex}@media(max-width:1024px){.campaign-detail-wrapper[data-v-d858d504]{display:block}}.campaign-detail-wrapper .campaign-detail-media[data-v-d858d504]{width:33.3%;min-width:468px}@media(max-width:1024px){.campaign-detail-wrapper .campaign-detail-media[data-v-d858d504]{width:auto;min-width:auto}}.campaign-detail-wrapper .campaign-detail-content[data-v-d858d504]{width:66.7%;height:100vh;padding:140px 40px 80px 60px;overflow:scroll}@media(max-width:1024px){.campaign-detail-wrapper .campaign-detail-content[data-v-d858d504]{width:100%;height:auto;padding:0 28px 188px;overflow:visible;overflow:initial}}.campaign-detail-wrapper .campaign-detail-content .campaign-name-tools[data-v-d858d504]{display:flex;justify-content:space-between;align-items:flex-start;line-height:34px!important}.campaign-detail-wrapper[data-v-d858d504] .v-avatar{width:52px;height:52px;min-width:0!important}.campaign-detail-wrapper .participants-wrapper[data-v-d858d504]{display:none}@media(max-width:1024px){.campaign-detail-wrapper .participants-wrapper[data-v-d858d504]{display:block}}.campaign-detail-wrapper .participants-wrapper .participants .participants-count[data-v-d858d504]{font-weight:600;font-size:14px;line-height:20px;color:#fff}.campaign-detail-wrapper .participants-wrapper .participants .avatars-wrapper[data-v-d858d504]{height:28px;position:relative}.campaign-detail-wrapper .participants-wrapper .participants .avatars-wrapper .avatar img[data-v-d858d504]{width:28px;height:28px;border-radius:100%;border:1px solid #fff;margin-left:-5px}.campaign-detail-wrapper .participants-wrapper .participants .avatars-wrapper .avatar[data-v-d858d504]:first-child{margin-left:0}.campaign-detail-wrapper .participants-wrapper .participants .avatars-wrapper .avatar .winner[data-v-d858d504]{width:18px;height:18px;position:absolute;top:-4px;right:-4px;border:0}",""]),r.locals={},t.exports=r},3909:function(t,e,n){var content=n(4302);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(41).default)("4c045cb2",content,!0,{sourceMap:!1})},4118:function(t,e,n){"use strict";n.r(e);var r=n(2415),o=(n(58),n(1)),c=n(11),l=n(12),d=n(19),m=n(24),h=n(17),f=n(8),v=(n(66),n(30),n(16),n(46),n(80),n(117),n(37),n(43),n(99),n(48),n(86),n(1366),n(14)),y=n(2549),x=n(233),C=n.n(x),w=n(230),k=n(2959),_=n(2582),P=n(3167),O=n.n(P),R=n(2541),j=n.n(R),T=n(513),D=n(9),A=n(210),I=n(28),M=n(60),N=n(2710),S=n(2840),B=n(2817),$=n(2532),L=n(2734),F=n(55),E=n(89),W=n(3222);function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}var U=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},z=function(t){Object(d.a)(h,t);var e,n,r,m=H(h);function h(){var t;return Object(c.a)(this,h),(t=m.apply(this,arguments)).campaignNumID=0,t.usedCount=0,t.claimAllNftList=[],t.claimMaxBySubgraph=null,t.loyaltyPoint=0,t.maxCountUseCred=0,t.oldCapMinted=0,t.oldCapTotalSupply=0,t.topWinnerParticipants=[],t.topParticipants=[],t.participantsCount=0,t.campaignParticipantsCount=0,t.campaignBountyWinnersCount=0,t.campaignNumNFTMinted=0,t}return Object(l.a)(h,[{key:"campaignID",get:function(){return this.campaign?this.campaign.id:""}},{key:"tokenObject",get:function(){var t,e;return Object(T.e)(null===(t=this.campaign.tokenReward)||void 0===t?void 0:t.tokenAddress,null===(e=this.campaign.tokenRewardContract)||void 0===e?void 0:e.chain)}},{key:"tokenIcon",get:function(){return this.tokenObject?this.tokenObject.icon:""}},{key:"tokenName",get:function(){var t;return null===(t=this.tokenObject)||void 0===t?void 0:t.name}},{key:"tokenDecimals",get:function(){return this.tokenObject?this.tokenObject.decimals:0}},{key:"userTokenAmount",get:function(){return Number(new C.a(this.campaign.tokenReward.userTokenAmount).multipliedBy(Math.pow(10,-1*this.tokenDecimals)))}},{key:"winnerNum",get:function(){return this.campaign.cap}},{key:"totalTokenAmount",get:function(){return Number(new C.a(this.userTokenAmount).multipliedBy(this.winnerNum))}},{key:"isTokenReward",get:function(){return this.campaign&&this.campaign.gamification.type===D.n.Token}},{key:"isDiscordRole",get:function(){var t;return(null===(t=this.campaign)||void 0===t?void 0:t.gamification.type)===D.n.DiscordRole}},{key:"isPointReward",get:function(){var t,e;return(null===(t=this.campaign)||void 0===t?void 0:t.gamification.type)===D.n.Points||(null===(e=this.campaign)||void 0===e?void 0:e.gamification.type)===D.n.PointsMysteryBox}},{key:"isCapableNew",get:function(){return this.campaign&&this.campaign.cap>0}},{key:"isCapableOld",get:function(){return!!(this.campaign&&!this.isCapableNew&&this.campaign.gamification.nfts.length>0)&&this.campaign.gamification.nfts[0].nft.nftCore.capable}},{key:"isBounty",get:function(){return this.campaign&&this.campaign.type===D.n.Bounty}},{key:"isFcfs",get:function(){return this.campaign.distributionType===D.m.Fcfs}},{key:"isRaffle",get:function(){return this.campaign.distributionType===D.m.Raffle}},{key:"raffleInProgress",get:function(){return this.isRaffle&&0===this.participantsCount}},{key:"isOat",get:function(){return this.campaign&&this.campaign.gamification.type===D.n.Oat}},{key:"isPowahDrop",get:function(){return this.campaign&&this.campaign.gamification.type===D.n.PowahDrop}},{key:"isParent",get:function(){return!!(this.campaign&&this.campaign.childrenCampaigns&&this.campaign.childrenCampaigns.length>0)}},{key:"showClaimNumberInfo",get:function(){return!this.isBounty&&!this.isTokenReward}},{key:"account",get:function(){return this.$store.getters.getAccount?this.$store.getters.getAccount:""}},{key:"user",get:function(){return this.$store.getters.getUser}},{key:"isTreasureBack",get:function(){return!!this.campaign&&(this.campaign.childrenCampaigns&&this.campaign.childrenCampaigns.length>0?this.campaign.childrenCampaigns.some((function(t){return t.gamification.nfts.some((function(t){return t.nft.treasureBack}))})):this.campaign.gamification.nfts.some((function(t){return t.nft.treasureBack})))}},{key:"currentCampaignChain",get:function(){if(this.campaign&&this.campaign.gamification.nfts.length>0){var t=this.campaign.gamification.nfts[0].nft.nftCore.chain;return Object(F.D)(this.$vuetify.breakpoint.mobile).find((function(e){return e.name===t}))}}},{key:"scanPath",get:function(){return this.isSolanaCampaign?"account":"address"}},{key:"nftContractList",get:function(){var t=this;if(this.campaign&&void 0!==this.currentCampaignChain){var e=[];return this.campaign.childrenCampaigns&&this.campaign.childrenCampaigns.length>0?this.campaign.childrenCampaigns.forEach((function(n){n.gamification.nfts.forEach((function(n){if(!e.some((function(t){return t.contractAddress===n.nft.nftCore.contractAddress}))&&void 0!==t.currentCampaignChain&&t.currentCampaignChain.blockExplorerUrls){var address=Object(A.a)(n.nft.nftCore.contractAddress);e.push({addressFormat:address,url:t.fullExpoloreUrl(t.currentCampaignChain.blockExplorerUrls[0],n.nft.nftCore.contractAddress),contractAddress:n.nft.nftCore.contractAddress})}}))})):this.campaign.gamification.nfts.forEach((function(n){if(!e.some((function(t){return t.contractAddress===n.nft.nftCore.contractAddress}))&&void 0!==t.currentCampaignChain&&t.currentCampaignChain.blockExplorerUrls){var address=Object(A.a)(n.nft.nftCore.contractAddress);e.push({addressFormat:address,url:t.fullExpoloreUrl(t.currentCampaignChain.blockExplorerUrls[0],n.nft.nftCore.contractAddress),contractAddress:n.nft.nftCore.contractAddress})}})),e}return[]}},{key:"maxCount",get:function(){return this.campaign?this.isTokenReward&&this.isRaffle?this.campaign.whitelistInfo.maxCount:this.campaign.useCred?this.maxCountUseCred:-2===this.campaign.whitelistInfo.maxCount?this.claimMaxBySubgraph?this.claimMaxBySubgraph:0:this.campaign.whitelistInfo.maxCount:0}},{key:"canClaimNum",get:function(){return this.campaign?(this.isCapableOld||this.isCapableNew)&&this.remainingSupply<=0?0:-1===this.maxCount?-1:this.maxCount-this.usedCount>0?(this.isCapableOld||this.isCapableNew)&&this.remainingSupply>=0?Math.min(this.remainingSupply,this.maxCount-this.usedCount):this.maxCount-this.usedCount:0:0}},{key:"isReachedMintingCap",get:function(){return(this.isCapableNew||this.isCapableOld)&&this.remainingSupply<=0}},{key:"isSolanaCampaign",get:function(){return this.campaign.chain===D.c.SolanaDevnet||this.campaign.chain===D.c.Solana}},{key:"isApotsCampaign",get:function(){return this.campaign.chain===D.c.Aptos||this.campaign.chain===D.c.AptosTestnet}},{key:"remainingSupply",get:function(){if(this.isCapableNew){if(this.isFcfs){var t=this.campaignParticipantsCount||0;return this.campaign.cap-t}return this.campaign.cap-(this.campaignNumNFTMinted||0)}return this.isCapableOld?this.oldCapTotalSupply-this.oldCapMinted:0}},{key:"changeUsedCount",value:function(t){this.usedCount=t}},{key:"goChildCampaign",value:function(){var path=I.a.CAMPAIGN;path=(path=path.replace(":space",this.campaign.dao.alias)).replace(":campaignID",this.campaign.id),this.$router.push({path:path})}},{key:"fullExpoloreUrl",value:function(t,address){var e="".concat(t,"/").concat(this.scanPath,"/").concat(address);return this.isSolanaCampaign&&this.campaign.chain===D.c.SolanaDevnet&&(e+="?cluster=devnet"),this.isApotsCampaign&&(e="".concat(t,"/nft-collection/").concat(address,"/Galxe%20OAT")),e}},{key:"getIfLocked",get:function(){if(!this.isSequencial)return!1;var t=this.childrenCampaignsList.map((function(t){return t.id})).indexOf(this.campaign.id);if(0===t)return!1;for(var e=!0,i=0;i<t;i++)e=e&&Object(W.a)(this.childrenCampaignsList,i);return!e}},{key:"mounted",value:function(){var t=this;this.dealCampaign(),this.$nuxt.$on("trx-sending",(function(e){"claim"===e.operation&&e.id===t.campaignID?t.usedCount+=1:"claimBatch"===e.operation&&e.id===t.campaignID&&(t.usedCount+=e.mintCount)})),this.$nuxt.$on("trx-receipt",(function(e){e.operation===_.a.Claim&&e.campaignId===t.campaignID&&(e.status?t.$store.commit("setSnackbar",{state:M.g.SUCCESS,body:{msg:"Transaction Success",tx:e.trxId,chain:e.chain},type:M.h.Trx}):(t.$store.commit("setSnackbar",{state:M.g.ERROR,body:{msg:"Transaction Fail",tx:e.trxId,chain:e.chain},type:M.h.Trx}),t.usedCount-=1))}))}},{key:"beforeDestroy",value:function(){this.$nuxt.$off("trx-sending")}},{key:"getWhitelist",value:function(t,e,n,r){return Object(y.request)(t,e,n).then((function(t){var data=t.data?t.data:t,e=r,n=0;try{var o=Function('\n    "use strict";\n    return '.concat(e,"\n  "))()(data);Number.isNaN(o)||(n=parseInt(o,10))}catch(t){return 0}return n}))}},{key:"dealCampaign",value:(r=Object(o.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,c,l,d,m,h,f,v,y,x,C,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C=this.campaign||{},this.claimAllNftList=null===(e=C.gamification)||void 0===e?void 0:e.nfts,this.campaignNumID=C.numberID,this.usedCount=null===(n=C.whitelistInfo)||void 0===n?void 0:n.usedCount,!C.whitelistSubgraph||C.useCred){t.next=10;break}return(w={})[C.whitelistSubgraph.variable]=this.account.toLowerCase(),t.next=9,this.getWhitelist(null===(r=C.whitelistSubgraph)||void 0===r?void 0:r.endpoint,null===(o=C.whitelistSubgraph)||void 0===o?void 0:o.query,w,null===(c=C.whitelistSubgraph)||void 0===c?void 0:c.expression);case 9:this.claimMaxBySubgraph=t.sent;case 10:if(!this.isCapableOld){t.next=17;break}return t.next=13,Object(k.a)(null===(h=null===(m=null===(d=null===(l=C.gamification)||void 0===l?void 0:l.nfts[0])||void 0===d?void 0:d.nft)||void 0===m?void 0:m.nftCore)||void 0===h?void 0:h.contractAddress);case 13:return this.oldCapMinted=t.sent,t.next=16,Object(k.b)(null===(x=null===(y=null===(v=null===(f=C.gamification)||void 0===f?void 0:f.nfts[0])||void 0===v?void 0:v.nft)||void 0===y?void 0:y.nftCore)||void 0===x?void 0:x.contractAddress);case 16:this.oldCapTotalSupply=t.sent;case 17:this.isPowahDrop&&this.getNFTTargetPowah();case 18:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"getNFTTargetPowah",value:(n=Object(o.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$apollo.query({query:O.a,variables:{address:this.account,campaignID:this.campaignID,nftCoreAddress:this.nftContractList[0].contractAddress}});case 2:e=t.sent,(data=e.data)&&data.nftTargetPowah&&(this.loyaltyPoint=data.nftTargetPowah.target_powah);case 5:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"getParticipants",value:(e=Object(o.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.campaignID){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.$apollo.query({query:j.a,fetchPolicy:"network-only",variables:{id:this.campaignID,pfirst:20,pafter:"-1",wfirst:20,wafter:"-1",pDownload:!1,bDownload:!1,isParent:this.isParent}});case 5:e=t.sent,(data=e.data)&&data.campaign&&(data.campaign.participants&&(this.topWinnerParticipants=data.campaign.participants.bountyWinners.list.map((function(t){return t.winner=!0,t})),this.topParticipants=data.campaign.participants.participants.list.map((function(t){return t.winner=!1,t})),this.campaignParticipantsCount=data.campaign.participants.participantsCount,this.campaignBountyWinnersCount=data.campaign.participants.bountyWinnersCount,this.participantsCount=data.campaign.participants.bountyWinnersCount+data.campaign.participants.participantsCount),this.campaignNumNFTMinted=data.campaign.numNFTMinted),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(2);case 12:case"end":return t.stop()}}),t,this,[[2,10]])}))),function(){return e.apply(this,arguments)})},{key:"resizeImageTinyUrl",value:function(t){return Object(E.n)(t)}},{key:"emitCampaign",value:function(){this.$nuxt.$emit("forgeCampaign",this.campaign)}},{key:"onCampaign",value:function(t){t&&this.dealCampaign()}}]),h}(Object(v.Mixins)(w.a));U([Object(v.Prop)({required:!0})],z.prototype,"campaign",void 0),U([Object(v.Prop)({required:!0})],z.prototype,"childrenCampaignsList",void 0),U([Object(v.Prop)({required:!1,default:!1})],z.prototype,"isChild",void 0),U([Object(v.Prop)({required:!0,default:!1})],z.prototype,"isSequencial",void 0),U([Object(v.Watch)("campaign",{immediate:!0})],z.prototype,"onCampaign",null);var G=z=U([Object(v.Component)({components:{WhoIsEligible:N.default,CampaignBtn:S.default,CampaignMedia:$.default,CampaignName:B.default,CampaignClaimNum:L.default}})],z),V=(n(4301),n(32)),component=Object(V.a)(G,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"height-100"},[e("WhoIsEligible",{staticClass:"mt-3",staticStyle:{opacity:"0",position:"absolute",top:"-10000px","z-index":"-1"},attrs:{campaign:t.campaign,creds:t.campaign.creds,formula:t.campaign.formula,"max-count-use-cred":t.maxCountUseCred,"is-child":t.isChild},on:{"update:maxCountUseCred":function(e){t.maxCountUseCred=e},"update:max-count-use-cred":function(e){t.maxCountUseCred=e}}}),t._v(" "),e("div",{staticClass:"card clickable",on:{click:t.goChildCampaign}},[e("div",{staticClass:"poster-outer"},[e("CampaignMedia",{attrs:{"token-icon":t.tokenIcon,"total-token-amount":t.totalTokenAmount,"token-name":t.tokenName,"media-url":t.campaign.thumbnail,"reward-name":t.campaign.rewardName,"is-oat":t.isOat,"is-bounty":t.isBounty,"is-token-reward":t.isTokenReward,"is-discord-role":t.isDiscordRole,"is-point-reward":t.isPointReward}})],1),t._v(" "),e("div",{staticClass:"campaign-split-bar"}),t._v(" "),e("div",{staticClass:"content-box"},[e("CampaignName",{staticClass:"mb-2 text-18-bold text-overline-ellipsis-2",staticStyle:{height:"52px"},attrs:{campaign:t.campaign,"is-treasure-back":t.isTreasureBack}}),t._v(" "),t.showClaimNumberInfo?e("CampaignClaimNum",{staticClass:"my-3",staticStyle:{height:"22px"},attrs:{"from-collection":!0,campaign:t.campaign,"can-claim-num":t.canClaimNum,"max-count":t.maxCount,"used-count":t.usedCount,"compact-mode":!0}}):t._e(),t._v(" "),t.showClaimNumberInfo?t._e():e("div",{staticStyle:{height:"22px",width:"100%",margin:"12px 0"}}),t._v(" "),e(r.a,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on,c=r.attrs;return[t.getIfLocked?e("div",t._g(t._b({staticClass:"campaign-lock"},"div",c,!1),o),[e("img",{staticClass:"campaign-oat-bg",staticStyle:{width:"21px"},attrs:{src:n(3069)}})]):t._e()]}}])},[t._v(" "),e("div",{staticStyle:{"font-size":"12px","line-height":"20px",color:"#a8aeba",background:"#060708"}},[t._v("\n          Please complete the previous campaigns in order.\n        ")])]),t._v(" "),t.getIfLocked?t._e():e("CampaignBtn",t._g(t._b({attrs:{large:!t.$vuetify.breakpoint.xsOnly,campaign:t.campaign,"can-claim-num":t.canClaimNum,"max-count":t.maxCount,"used-count":t.usedCount,"is-child":t.isChild,"raffle-in-progress":t.raffleInProgress,"is-reached-minting-cap":t.isReachedMintingCap},on:{getParticipants:t.getParticipants,changeUsedCount:t.changeUsedCount},nativeOn:{click:function(e){return e.stopPropagation(),t.emitCampaign.apply(null,arguments)}}},"CampaignBtn",t.$attrs,!1),t.$listeners))],1)])],1)}),[],!1,null,"13502230",null);e.default=component.exports;installComponents(component,{WhoIsEligible:n(2710).default,CampaignMedia:n(2532).default,CampaignName:n(2817).default,CampaignClaimNum:n(2734).default,CampaignBtn:n(2840).default})},4301:function(t,e,n){"use strict";n(3909)},4302:function(t,e,n){var r=n(40),o=n(231),c=n(3174),l=r((function(i){return i[1]})),d=o(c);l.push([t.i,".v-tooltip__content[data-v-13502230]{opacity:1!important;border-radius:8px!important;width:226px;padding:12px 20px;border:2px solid #1b1e24}.card[data-v-13502230]{width:256px;background:var(--v-accent-lighten2);mix-blend-mode:normal;transition:transform .2s linear;border-radius:12px;overflow:hidden}.card[data-v-13502230]:hover{transform:scale(1.05)}.card[data-v-13502230] .btn-outter,.card[data-v-13502230] .btn-outter .v-btn{width:100%}.content-box[data-v-13502230]{overflow:hidden;padding:20px}.content-box .campaign-lock[data-v-13502230]{width:100%;height:40px;border-radius:6px;background:#21252b;display:flex;justify-content:center;align-items:center}@media screen and (max-width:600px){.campaign-lock[data-v-13502230]{height:52px!important}}.poster-outer[data-v-13502230]{position:relative;height:308px;width:100%;margin:auto;display:flex}.campaign-split-bar[data-v-13502230]{width:100%;height:1px;background-image:url("+d+");background-size:100%}@media only screen and (max-width:599.98px){.card[data-v-13502230]{width:358px;max-width:100%}.card .poster-outer[data-v-13502230]{height:430px}}",""]),l.locals={},t.exports=l}}]);